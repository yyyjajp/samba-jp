<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Chapter 23. &#12473;&#12479;&#12483;&#12459;&#12502;&#12523;VFS&#12514;&#12472;&#12517;&#12540;&#12523;</title><link rel="stylesheet" href="../samba.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.75.2"><link rel="home" href="index.html" title="&#20844;&#24335;&#12398;Samba 3.2.x HOWTO&#12392;&#12522;&#12501;&#12449;&#12524;&#12531;&#12473;&#12460;&#12452;&#12489;"><link rel="up" href="optional.html" title="Part III. &#35443;&#32048;&#12394;&#35373;&#23450;&#26041;&#27861;"><link rel="prev" href="CUPS-printing.html" title="Chapter 22. CUPS&#21360;&#21047;&#29872;&#22659;&#12398;&#12469;&#12509;&#12540;&#12488;"><link rel="next" href="winbind.html" title="Chapter 24. Winbind: &#12489;&#12513;&#12452;&#12531;&#12450;&#12459;&#12454;&#12531;&#12488;&#12398;&#20351;&#29992;"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Chapter 23. &#12473;&#12479;&#12483;&#12459;&#12502;&#12523;VFS&#12514;&#12472;&#12517;&#12540;&#12523;</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="CUPS-printing.html">Prev</a> </td><th width="60%" align="center">Part III. &#35443;&#32048;&#12394;&#35373;&#23450;&#26041;&#27861;</th><td width="20%" align="right"> <a accesskey="n" href="winbind.html">Next</a></td></tr></table><hr></div><div class="chapter" title="Chapter 23. &#12473;&#12479;&#12483;&#12459;&#12502;&#12523;VFS&#12514;&#12472;&#12517;&#12540;&#12523;"><div class="titlepage"><div><div><h2 class="title"><a name="VFS"></a>Chapter 23. &#12473;&#12479;&#12483;&#12459;&#12502;&#12523;VFS&#12514;&#12472;&#12517;&#12540;&#12523;</h2></div><div><div class="author"><h3 class="author"><span class="firstname">Jelmer</span> <span class="othername">R.</span> <span class="surname">Vernooij</span></h3><div class="affiliation"><span class="orgname">The Samba Team<br></span><div class="address"><p><code class="email">&lt;<a class="email" href="mailto:jelmer@samba.org">jelmer@samba.org</a>&gt;</code></p></div></div></div></div><div><div class="author"><h3 class="author"><span class="firstname">John</span> <span class="othername">H.</span> <span class="surname">Terpstra</span></h3><div class="affiliation"><span class="orgname">Samba Team<br></span><div class="address"><p><code class="email">&lt;<a class="email" href="mailto:jht@samba.org">jht@samba.org</a>&gt;</code></p></div></div></div></div><div><div class="author"><h3 class="author"><span class="firstname">Tim</span> <span class="surname">Potter</span></h3><div class="affiliation"><span class="orgname">Samba Team<br></span><div class="address"><p><code class="email">&lt;<a class="email" href="mailto:tpot@samba.org">tpot@samba.org</a>&gt;</code></p></div></div></div></div><div><div class="author"><h3 class="author"><span class="firstname">Simo</span> <span class="surname">Sorce</span></h3><span class="contrib">original vfs_skel README</span> </div></div><div><div class="author"><h3 class="author"><span class="firstname">Alexander</span> <span class="surname">Bokovoy</span></h3><span class="contrib">original vfs_netatalk docs</span> </div></div><div><div class="author"><h3 class="author"><span class="firstname">Stefan</span> <span class="surname">Metzmacher</span></h3><span class="contrib">Update for multiple modules</span> </div></div><div><div class="author"><h3 class="author"><span class="firstname">Ed</span> <span class="surname">Riddle</span></h3><span class="contrib">original shadow_copy docs</span> </div></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="sect1"><a href="VFS.html#id2669993">&#27231;&#33021;&#12392;&#21033;&#20415;&#24615;</a></span></dt><dt><span class="sect1"><a href="VFS.html#id2670036">&#35696;&#35542;</a></span></dt><dt><span class="sect1"><a href="VFS.html#id2670475">&#21547;&#12414;&#12428;&#12427;&#12514;&#12472;&#12517;&#12540;&#12523;</a></span></dt><dd><dl><dt><span class="sect2"><a href="VFS.html#id2670481">audit</a></span></dt><dt><span class="sect2"><a href="VFS.html#id2670525">default_quota</a></span></dt><dt><span class="sect2"><a href="VFS.html#id2670774">extd_audit</a></span></dt><dt><span class="sect2"><a href="VFS.html#fakeperms">fake_perms</a></span></dt><dt><span class="sect2"><a href="VFS.html#id2671136">recycle</a></span></dt><dt><span class="sect2"><a href="VFS.html#id2671583">netatalk</a></span></dt><dt><span class="sect2"><a href="VFS.html#id2671637">shadow_copy</a></span></dt></dl></dd><dt><span class="sect1"><a href="VFS.html#id2672703">&#20182;&#12391;&#20837;&#25163;&#21487;&#33021;&#12394;VFS&#12514;&#12472;&#12517;&#12540;&#12523;</a></span></dt><dd><dl><dt><span class="sect2"><a href="VFS.html#id2672738">DatabaseFS</a></span></dt><dt><span class="sect2"><a href="VFS.html#id2672820">vscan</a></span></dt><dt><span class="sect2"><a href="VFS.html#id2672866">vscan-clamav</a></span></dt></dl></dd></dl></div><div class="sect1" title="&#27231;&#33021;&#12392;&#21033;&#20415;&#24615;"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id2669993"></a>&#27231;&#33021;&#12392;&#21033;&#20415;&#24615;</h2></div></div></div><p>
<a class="indexterm" name="id2670001"></a>
<a class="indexterm" name="id2670010"></a>
<a class="indexterm" name="id2670016"></a>
Samba-3&#12363;&#12425;&#12289;&#12473;&#12479;&#12483;&#12459;&#12502;&#12523;VFS(&#12496;&#12540;&#12481;&#12515;&#12523;&#12501;&#12449;&#12452;&#12523;&#12471;&#12473;&#12486;&#12512;)&#12514;&#12472;&#12517;&#12540;&#12523;&#12364;&#12469;&#12509;&#12540;&#12488;&#12373;&#12428;&#12427;&#12290;
Samba&#12399;UNIX&#12501;&#12449;&#12452;&#12523;&#12471;&#12473;&#12486;&#12512;&#12408;&#12398;&#12450;&#12463;&#12475;&#12473;&#12522;&#12463;&#12456;&#12473;&#12488;&#12398;&#19968;&#12388;&#19968;&#12388;&#12434;&#12289;&#12525;&#12540;&#12489;&#12373;&#12428;&#12383;
VFS&#12514;&#12472;&#12517;&#12540;&#12523;&#12395;&#28193;&#12377;&#12290;&#12371;&#12398;&#31456;&#12399;&#12289;Samba&#12398;&#12477;&#12540;&#12473;&#12395;&#38468;&#23646;&#12398;&#12514;&#12472;&#12517;&#12540;&#12523;&#12395;&#12388;&#12356;&#12390;&#35500;&#26126;&#12377;&#12427;&#12392;&#21516;&#26178;&#12395;&#12289;
&#19968;&#37096;&#12398;&#22806;&#37096;&#12514;&#12472;&#12517;&#12540;&#12523;&#12395;&#12388;&#12356;&#12390;&#12418;&#35328;&#21450;&#12377;&#12427;&#12290;
</p></div><div class="sect1" title="&#35696;&#35542;"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id2670036"></a>&#35696;&#35542;</h2></div></div></div><p>
<a class="indexterm" name="id2670044"></a>
<a class="indexterm" name="id2670051"></a>
&#30064;&#12394;&#12427;&#12471;&#12473;&#12486;&#12512;&#12391;&#12399;&#30064;&#12394;&#12427;&#26041;&#27861;&#12391;&#20849;&#29992;&#12521;&#12452;&#12502;&#12521;&#12522;&#12540;&#12434;&#12467;&#12531;&#12497;&#12452;&#12523;&#12375;&#12522;&#12531;&#12463;&#12377;&#12427;&#12398;&#12391;&#12289;&#12371;&#12428;&#12425;&#12398;
&#12514;&#12472;&#12517;&#12540;&#12523;&#12364;&#12289;&#12503;&#12521;&#12483;&#12488;&#12501;&#12457;&#12540;&#12512;&#12487;&#12451;&#12473;&#12488;&#12522;&#12499;&#12517;&#12540;&#12471;&#12519;&#12531;&#12398;&#12496;&#12452;&#12490;&#12522;Samba&#12497;&#12483;&#12465;&#12540;&#12472;&#12392;&#20849;&#12395;
&#20379;&#32102;&#12373;&#12428;&#12394;&#12356;&#22580;&#21512;&#12289;&#12514;&#12472;&#12517;&#12540;&#12523;&#12434;&#12467;&#12531;&#12497;&#12452;&#12523;&#12377;&#12427;&#12398;&#12364;&#22256;&#38627;&#12395;&#12394;&#12427;&#12363;&#12418;&#12375;&#12428;&#12394;&#12356;&#12290;&#12371;&#12428;&#12425;&#12398;
&#12514;&#12472;&#12517;&#12540;&#12523;&#12399;&#12289;GNU/Linux&#21450;&#12403;IRIX&#12395;&#38306;&#12375;&#12390;&#12486;&#12473;&#12488;&#28168;&#12415;&#12391;&#12354;&#12427;&#12290;
</p><p>
<a class="indexterm" name="id2670071"></a>
<a class="indexterm" name="id2670078"></a>
<a class="indexterm" name="id2670085"></a>
VFS &#12514;&#12472;&#12517;&#12540;&#12523;&#12434;&#20351;&#29992;&#12377;&#12427;&#12395;&#12399;&#12289;&#20197;&#19979;&#12398;&#20363;&#12395;&#39006;&#20284;&#12375;&#12383;&#20849;&#26377;&#12434;&#20316;&#25104;&#12377;&#12427;&#12371;&#12392;&#12290;&#37325;&#35201;&#12394;&#12497;&#12521;&#12513;&#12540;&#12479;&#12399;&#12289;
&#19968;&#12388;&#20197;&#19978;&#12398;VFS&#12514;&#12472;&#12517;&#12540;&#12523;&#12434;&#21517;&#21069;&#38918;&#12395;&#19968;&#35239;&#34920;&#31034;&#12391;&#12365;&#12427;<a class="link" href="smb.conf.5.html#VFSOBJECTS" target="_top">vfs objects</a>
&#12497;&#12521;&#12513;&#12540;&#12479;&#12391;&#12354;&#12427;&#12290;&#20363;&#12360;&#12400;&#12289;&#12501;&#12449;&#12452;&#12523;&#12408;&#12398;&#12450;&#12463;&#12475;&#12473;&#12434;&#12377;&#12409;&#12390;&#12525;&#12464;&#12395;&#21462;&#12426;&#12289;&#21066;&#38500;&#12373;&#12428;&#12383;&#12501;&#12449;&#12452;&#12523;&#12434;
&#12468;&#12511;&#31665;&#12395;&#20837;&#12428;&#12427;&#12395;&#12399;&#12289;<a class="link" href="VFS.html#vfsrecyc" title="Example 23.1. VFS&#12514;&#12472;&#12517;&#12540;&#12523;&#12434;&#20351;&#12358;smb.conf&#12398;&#20363;">VFS&#12514;&#12472;&#12517;&#12540;&#12523;&#12434;&#20351;&#12358;smb.conf&#12398;&#20363;</a>&#12434;
&#21442;&#29031;&#12398;&#12371;&#12392;:
</p><div class="example"><a name="vfsrecyc"></a><p class="title"><b>Example 23.1. VFS&#12514;&#12472;&#12517;&#12540;&#12523;&#12434;&#20351;&#12358;smb.conf&#12398;&#20363;</b></p><div class="example-contents"><table border="0" summary="Simple list" class="simplelist"><tr><td> </td></tr><tr><td><em class="parameter"><code>[audit]</code></em></td></tr><tr><td><a class="indexterm" name="id2670151"></a><em class="parameter"><code>comment = Audited /data directory</code></em></td></tr><tr><td><a class="indexterm" name="id2670163"></a><em class="parameter"><code>path = /data</code></em></td></tr><tr><td><a class="indexterm" name="id2670175"></a><em class="parameter"><code>vfs objects = audit recycle</code></em></td></tr><tr><td><a class="indexterm" name="id2670187"></a><em class="parameter"><code>writeable = yes</code></em></td></tr><tr><td><a class="indexterm" name="id2670198"></a><em class="parameter"><code>browseable = yes</code></em></td></tr></table></div></div><br class="example-break"><p>
<a class="indexterm" name="id2670213"></a>
<a class="indexterm" name="id2670220"></a>
<a class="indexterm" name="id2670227"></a>
&#12514;&#12472;&#12517;&#12540;&#12523;&#12399;&#25351;&#23450;&#12373;&#12428;&#12383;&#38918;&#12395;&#20351;&#29992;&#12373;&#12428;&#12427;&#12290;&#20363;&#12360;&#12400;&#12289;&#12454;&#12451;&#12523;&#12473;&#12473;&#12461;&#12515;&#12490;&#12514;&#12472;&#12517;&#12540;&#12523;&#12392;&#12372;&#12415;&#31665;
&#12514;&#12472;&#12517;&#12540;&#12523;&#12434;&#20001;&#26041;&#20351;&#29992;&#12375;&#12383;&#12356;&#12392;&#12377;&#12427;&#12290;&#12371;&#12398;&#22580;&#21512;&#12289;&#12501;&#12449;&#12452;&#12523;&#12395;&#38306;&#12375;&#12390;&#20182;&#12398;&#12450;&#12463;&#12471;&#12519;&#12531;&#12364;
&#21462;&#12425;&#12428;&#12427;&#21069;&#12395;&#12289;&#26368;&#21021;&#12395;&#12454;&#12451;&#12523;&#12473;&#12434;&#26908;&#30693;&#12377;&#12427;&#12424;&#12358;&#12289;&#12454;&#12451;&#12523;&#12473;&#12473;&#12461;&#12515;&#12490;&#12514;&#12472;&#12517;&#12540;&#12523;&#12434;&#26368;&#21021;&#12398;
&#12514;&#12472;&#12517;&#12540;&#12523;&#12392;&#12375;&#12289;&#12371;&#12398;&#12514;&#12472;&#12517;&#12540;&#12523;&#12364;&#26368;&#21021;&#12395;&#21205;&#12367;&#12424;&#12358;&#12395;&#12377;&#12409;&#12365;&#12391;&#12354;&#12427;&#12290;
The modules are used in the order in which they are specified.  Let's say that you want to both have a virus
scanner module and a recycle bin module. It is wise to put the virus scanner module as the first one so that
it is the first to get run and may detect a virus immediately, before any action is performed on that file.
<a class="link" href="smb.conf.5.html#VFSOBJECTS" target="_top">vfs objects = vscan-clamav recycle</a>
</p><p>
<a class="indexterm" name="id2670275"></a>
<a class="indexterm" name="id2670282"></a>
Samba&#12399;Samba&#12434;&#12452;&#12531;&#12473;&#12488;&#12540;&#12523;&#12375;&#12383;&#12469;&#12540;&#12496;&#12398;root&#12487;&#12451;&#12524;&#12463;&#12488;&#12522;&#20013;&#12398;<code class="filename">/lib</code>
&#12363;&#12425;&#12356;&#12367;&#12388;&#12363;&#12398;&#12514;&#12472;&#12517;&#12540;&#12523;&#12434;&#12525;&#12540;&#12489;&#12375;&#12424;&#12358;&#12392;&#12377;&#12427;(&#36890;&#24120;&#12399;
<code class="filename">/usr/lib/samba/vfs</code>&#12363;<code class="filename">/usr/local/samba/lib/vfs</code>)&#12290;
</p><p>
<a class="indexterm" name="id2670315"></a>
<a class="indexterm" name="id2670322"></a>
<a class="indexterm" name="id2670329"></a>
<a class="indexterm" name="id2670336"></a>
&#12356;&#12367;&#12388;&#12363;&#12398;&#12514;&#12472;&#12517;&#12540;&#12523;&#12399;&#21516;&#12376;&#20849;&#26377;&#12395;&#23550;&#12375;&#12390;&#20108;&#24230;&#20351;&#29992;&#12391;&#12365;&#12427;&#12290;&#12371;&#12428;&#12399;
<a class="link" href="VFS.html#multimodule" title="Example 23.2. &#35079;&#25968;&#12398;VFS&#12514;&#12472;&#12517;&#12540;&#12523;&#12434;&#20351;&#29992;&#12377;&#12427;smb.conf&#12398;&#20363;">&#35079;&#25968;&#12398;VFS&#12514;&#12472;&#12517;&#12540;&#12523;&#12434;&#20351;&#29992;&#12377;&#12427;smb.conf&#12398;&#20363;</a>&#12398;
&#12424;&#12358;&#12394;&#35373;&#23450;&#12391;&#21487;&#33021;&#12392;&#12394;&#12427;&#12290;

</p><div class="example"><a name="multimodule"></a><p class="title"><b>Example 23.2. &#35079;&#25968;&#12398;VFS&#12514;&#12472;&#12517;&#12540;&#12523;&#12434;&#20351;&#29992;&#12377;&#12427;smb.conf&#12398;&#20363;</b></p><div class="example-contents"><table border="0" summary="Simple list" class="simplelist"><tr><td> </td></tr><tr><td><em class="parameter"><code>[test]</code></em></td></tr><tr><td><a class="indexterm" name="id2670378"></a><em class="parameter"><code>comment = VFS TEST</code></em></td></tr><tr><td><a class="indexterm" name="id2670389"></a><em class="parameter"><code>path = /data</code></em></td></tr><tr><td><a class="indexterm" name="id2670401"></a><em class="parameter"><code>writeable = yes</code></em></td></tr><tr><td><a class="indexterm" name="id2670413"></a><em class="parameter"><code>browseable = yes</code></em></td></tr><tr><td><a class="indexterm" name="id2670424"></a><em class="parameter"><code>vfs objects = example:example1 example example:test</code></em></td></tr><tr><td><a class="indexterm" name="id2670436"></a><em class="parameter"><code>example1: parameter = 1</code></em></td></tr><tr><td><a class="indexterm" name="id2670448"></a><em class="parameter"><code>example:  parameter = 5</code></em></td></tr><tr><td><a class="indexterm" name="id2670460"></a><em class="parameter"><code>test:     parameter = 7</code></em></td></tr></table></div></div><p><br class="example-break">
</p></div><div class="sect1" title="&#21547;&#12414;&#12428;&#12427;&#12514;&#12472;&#12517;&#12540;&#12523;"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id2670475"></a>&#21547;&#12414;&#12428;&#12427;&#12514;&#12472;&#12517;&#12540;&#12523;</h2></div></div></div><div class="sect2" title="audit"><div class="titlepage"><div><div><h3 class="title"><a name="id2670481"></a>audit</h3></div></div></div><p>
<a class="indexterm" name="id2670489"></a>
		syslog&#27231;&#33021;&#12408;&#12398;&#12501;&#12449;&#12452;&#12523;&#12450;&#12463;&#12475;&#12473;&#12434;&#30435;&#26619;&#12377;&#12427;&#12471;&#12531;&#12503;&#12523;&#12394;&#12514;&#12472;&#12517;&#12540;&#12523;&#12391;&#12354;&#12427;&#12290; &#20197;&#19979;&#12398;&#25805;&#20316;&#12398;&#12525;&#12464;&#12364;&#21462;&#12425;&#12428;&#12427;:
		</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>share</p></li><li class="listitem"><p>connect/disconnect</p></li><li class="listitem"><p>directory opens/create/remove</p></li><li class="listitem"><p>file open/close/rename/unlink/chmod</p></li></ul></div><p>
		</p></div><div class="sect2" title="default_quota"><div class="titlepage"><div><div><h3 class="title"><a name="id2670525"></a>default_quota</h3></div></div></div><p>
	&#12371;&#12398;&#12514;&#12472;&#12517;&#12540;&#12523;&#12399;&#12289;Samba-3&#12469;&#12540;&#12496;&#19978;&#12391;&#26684;&#32013;&#12373;&#12428;&#12427;&#26082;&#23450;&#20516;&#12398;quota&#20516;&#12434;&#12289;Windows&#12398;&#12456;&#12463;&#12473;&#12503;&#12525;&#12540;&#12521;&#12398;
	GUI&#30011;&#38754;&#12391;&#35373;&#23450;&#12391;&#12365;&#12427;&#12424;&#12358;&#12395;&#12377;&#12427;&#12290;&#12371;&#12398;&#35430;&#12415;&#12399;Linux&#12501;&#12449;&#12452;&#12523;&#12471;&#12473;&#12486;&#12512;&#12391;&#12518;&#12540;&#12470;&#12392;&#12464;&#12523;&#12540;&#12503;&#12395;&#23550;&#12377;&#12427;
	quota&#12434;&#26684;&#32013;&#12377;&#12427;&#22580;&#21512;&#12398;&#12415;&#12384;&#12364;&#12289;&#12381;&#12428;&#12399;&#26082;&#23450;&#20516;&#12434;&#25345;&#12383;&#12394;&#12356;&#12290;
	</p><p>
	Samba&#12399;&#26082;&#23450;&#20516;&#12392;&#12375;&#12390;NO_LIMIT&#12434;quota&#12398;&#26082;&#23450;&#20516;&#12392;&#12375;&#12390;&#36820;&#12375;&#12289;&#12381;&#12428;&#12399;&#26356;&#26032;&#12391;&#12365;&#12394;&#12356;&#12290;&#12371;&#12398;&#12514;&#12472;&#12517;&#12540;&#12523;&#12434;
	&#20351;&#12358;&#12392;&#12289;&#12518;&#12540;&#12470;&#12395;&#23550;&#12377;&#12427;quota&#12524;&#12467;&#12540;&#12489;&#20013;&#12391;Windows&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#12395;&#34920;&#31034;&#12373;&#12428;&#12427;&#26082;&#23450;&#20516;&#12398;quota&#20516;&#12434;
	&#26684;&#32013;&#12391;&#12365;&#12427;&#12290;&#26082;&#23450;&#20516;&#12391;&#12399;&#12289;&#36890;&#24120;quota&#21046;&#38480;&#12364;root&#12395;&#12399;&#36969;&#29992;&#12373;&#12428;&#12394;&#12356;&#12383;&#12417;&#12289;root&#12518;&#12540;&#12470;&#12364;&#26082;&#23450;&#20516;&#12392;&#12375;&#12390;
	&#21033;&#29992;&#12373;&#12428;&#12427;&#12290;
	</p><p>
	&#12371;&#12398;&#12514;&#12472;&#12517;&#12540;&#12523;&#12395;&#12399;<code class="filename">smb.conf</code>&#12501;&#12449;&#12452;&#12523;&#20013;&#12391;2&#12388;&#12398;&#12497;&#12521;&#12513;&#12540;&#12479;&#12434;&#35373;&#23450;&#12377;&#12427;&#12290;&#12362;&#12398;&#12362;&#12398;&#12398;&#26082;&#23450;&#20516;&#12398;
	&#12503;&#12524;&#12501;&#12451;&#12483;&#12463;&#12473;&#12399;<span class="quote">&#8220;<span class="quote">default_quota</span>&#8221;</span>&#12391;&#12354;&#12427;&#12290;&#12371;&#12428;&#12399;&#12289;&#20197;&#19979;&#12398;&#12424;&#12358;&#12395;&#12375;&#12390;&#12289;
	<span class="emphasis"><em>vfs modules</em></span>&#12497;&#12521;&#12513;&#12540;&#12479;&#20013;&#12391;&#12514;&#12472;&#12517;&#12540;&#12523;&#12434;&#12525;&#12540;&#12489;&#12375;&#12383;&#12392;&#12365;&#12395;&#19978;&#26360;&#12365;&#12391;&#12365;&#12427;:
</p><pre class="screen">
vfs objects = default_quota:myprefix
</pre><p>
	</p><p>
	default_quotas&#12514;&#12472;&#12517;&#12540;&#12523;&#12395;&#23550;&#12375;&#12390;&#25351;&#23450;&#12377;&#12427;&#12371;&#12392;&#12364;&#20986;&#26469;&#12427;&#12497;&#12521;&#12513;&#12540;&#12479;&#12398;&#12456;&#12531;&#12488;&#12522;&#12399;&#20197;&#19979;&#12398;&#36890;&#12426;:
	</p><div class="variablelist"><dl><dt><span class="term">myprefix:uid</span></dt><dd><p>
			&#26082;&#23450;&#20516;&#12398;&#12518;&#12540;&#12470;quota&#12434;&#26684;&#32013;&#12377;&#12427;&#12383;&#12417;&#12395;&#20351;&#12431;&#12428;&#12427;quota&#12524;&#12467;&#12540;&#12489;&#12398;&#12383;&#12417;&#12398;uid&#12434;
			&#25351;&#23450;&#12377;&#12427;&#25972;&#25968;&#20516;&#12290;
			</p><p>
			&#26082;&#23450;&#20516;&#12399;0(&#12523;&#12540;&#12488;&#12518;&#12540;&#12470;)&#12290;&#20351;&#29992;&#20363;&#12399;&#20197;&#19979;&#12398;&#36890;&#12426;:
</p><pre class="screen">
vfs objects = default_quota
default_quota:	uid = 65534
</pre><p>
			&#19978;&#35352;&#12398;&#20363;&#12391;&#12399;<code class="constant">myprefix</code>&#12364;&#30465;&#30053;&#12373;&#12428;&#12289;&#12381;&#12398;&#12383;&#12417;&#12289;&#26082;&#23450;&#20516;&#12398;
			&#12503;&#12524;&#12501;&#12451;&#12483;&#12463;&#12473;&#12399;&#12514;&#12472;&#12517;&#12540;&#12523;&#12398;&#21517;&#21069;&#12395;&#12394;&#12427;&#12290;<code class="constant">myprefix</code>
			&#12497;&#12521;&#12513;&#12540;&#12479;&#12364;&#25351;&#23450;&#12373;&#12428;&#12427;&#12392;&#12289;&#19978;&#35352;&#12399;&#20197;&#19979;&#12398;&#12424;&#12358;&#12395;&#26360;&#12365;&#25563;&#12360;&#12425;&#12428;&#12427;:
</p><pre class="screen">
vfs objects = default_quota:myprefix
myprefix:	uid = 65534
</pre><p>
			</p></dd><dt><span class="term">myprefix:uid nolimit</span></dt><dd><p>
			&#26082;&#23450;&#20516;&#12398;quota&#20516;&#12364;&#12518;&#12540;&#12470;&#12398;&#12524;&#12467;&#12540;&#12489;&#12392;&#12375;&#12390;&#12418;&#34920;&#31034;&#12373;&#12428;&#12427;&#22580;&#21512;&#12363;&#12289;
			<code class="constant">NO_LIMIT</code>&#12364;&#12289;<em class="parameter"><code>prefix:uid</code></em>&#12497;&#12521;&#12513;&#12540;&#12479;&#12395;
			&#12424;&#12387;&#12390;&#25351;&#23450;&#12373;&#12428;&#12383;&#12518;&#12540;&#12470;&#12392;&#12375;&#12390;Windows&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#12395;&#34920;&#31034;&#12373;&#12428;&#12427;&#22580;&#21512;&#12289;&#12371;&#12398;
			&#12497;&#12521;&#12513;&#12540;&#12479;&#12399;&#35542;&#29702;&#20516;&#12392;&#12394;&#12427;&#12290;
			</p><p>
			&#26082;&#23450;&#20516;&#12399;<code class="constant">yes</code>&#12391;&#12354;&#12427;(NO_LIMIT&#12364;&#34920;&#31034;&#12373;&#12428;&#12427;)&#12290;&#20351;&#29992;&#20363;&#12399;&#20197;&#19979;&#12398;&#36890;&#12426;:
</p><pre class="screen">
vfs objects = default_quota:myprefix
myprefix:	uid nolimit = no
</pre><p>
			</p></dd><dt><span class="term">myprefix:gid</span></dt><dd><p>
			&#12371;&#12398;&#12497;&#12521;&#12513;&#12540;&#12479;&#12399;<em class="parameter"><code>prefix&gt;:uid</code></em>&#12392;&#21516;&#12376;&#12424;&#12358;&#12395;&#25972;&#25968;&#20516;&#12434;&#24341;&#25968;&#12392;
			&#12375;&#12390;&#21462;&#12427;&#12364;&#12289;&#12464;&#12523;&#12540;&#12503;quota&#12391;&#12354;&#12427;&#12392;&#12371;&#12429;&#12364;&#36949;&#12358;&#12290;&#27880;&#24847;:&#12464;&#12523;&#12540;&#12503;quota&#12399;Windows
			&#12456;&#12463;&#12473;&#12503;&#12525;&#12540;&#12521;&#12391;&#12399;&#12469;&#12509;&#12540;&#12488;&#12373;&#12428;&#12390;&#12356;&#12394;&#12356;&#12290;
			</p><p>
			&#26082;&#23450;&#20516;&#12399;0&#12391;&#12354;&#12427;(root&#12464;&#12523;&#12540;&#12503;)&#12290;&#20351;&#29992;&#20363;&#12399;&#20197;&#19979;&#12398;&#36890;&#12426;:
</p><pre class="screen">
vfs objects = default_quota
default_quota:	gid = 65534
</pre><p>
			</p></dd><dt><span class="term">myprefix:gid nolimit</span></dt><dd><p>
			&#12371;&#12398;&#12497;&#12521;&#12513;&#12540;&#12479;&#12399;&#12289;<em class="parameter"><code>prefix&gt;:uid nolimit</code></em>&#12392;&#21516;&#12376;&#12424;&#12358;&#12395;
			&#30495;&#29702;&#20516;&#12434;&#21462;&#12427;&#12364;&#12289;&#12464;&#12523;&#12540;&#12503;quota&#12391;&#12354;&#12427;&#12371;&#12392;&#12364;&#36949;&#12358;&#12290;&#27880;&#24847;:&#12464;&#12523;&#12540;&#12503;quota&#12399;
			Windows&#12456;&#12463;&#12473;&#12503;&#12525;&#12540;&#12521;&#12391;&#12399;&#12469;&#12509;&#12540;&#12488;&#12373;&#12428;&#12390;&#12356;&#12394;&#12356;&#12290;
			</p><p>
			&#26082;&#23450;&#20516;&#12399;<code class="constant">yes</code>(NO_LIMIT&#12364;&#34920;&#31034;&#12373;&#12428;&#12427;)&#12290;&#20351;&#29992;&#20363;&#12399;&#20197;&#19979;&#12398;&#36890;&#12426;:
</p><pre class="screen">
vfs objects = default_quota
default_quota:	uid nolimit = no
</pre><p>
			</p></dd></dl></div><p>
	&#35079;&#25968;&#12398;&#12497;&#12521;&#12513;&#12540;&#12479;&#12434;&#32068;&#12415;&#21512;&#12431;&#12379;&#12383;&#20351;&#29992;&#20363;&#12399;&#20197;&#19979;&#12398;&#36890;&#12426;:
</p><pre class="screen">
...
vfs objects = default_quota:quotasettings
quotasettings:	uid nolimit = no
quotasettings:	gid = 65534
quotasettings:	gid nolimit = no
...
</pre><p>
	</p></div><div class="sect2" title="extd_audit"><div class="titlepage"><div><div><h3 class="title"><a name="id2670774"></a>extd_audit</h3></div></div></div><p>
<a class="indexterm" name="id2670782"></a>
<a class="indexterm" name="id2670789"></a>
<a class="indexterm" name="id2670796"></a>
		&#12371;&#12398;&#12514;&#12472;&#12517;&#12540;&#12523;&#12399;&#19978;&#35352;&#12398;<code class="literal">audit</code>&#12514;&#12472;&#12517;&#12540;&#12523;&#12392;&#12411;&#12412;&#21516;&#12376;&#12391;
		&#12354;&#12427;&#12364;&#12289;&#30435;&#26619;&#12525;&#12464;&#12434;syslog&#12392;<code class="literal">smbd</code>&#12398;&#12525;&#12464;&#12501;&#12449;&#12452;&#12523;&#12395;&#36865;&#12427;
		&#20107;&#12364;&#30064;&#12394;&#12427;&#12290;&#12371;&#12398;&#12514;&#12472;&#12517;&#12540;&#12523;&#12398;<a class="link" href="smb.conf.5.html#LOGLEVEL" target="_top">log level</a>&#12399;
		<code class="filename">smb.conf</code>&#12501;&#12449;&#12452;&#12523;&#20013;&#12391;&#35373;&#23450;&#12377;&#12427;&#12290;
		</p><p>
		&#26377;&#21177;&#12394;&#35373;&#23450;&#12392;&#35352;&#37682;&#12373;&#12428;&#12427;&#24773;&#22577;&#12434;<a class="link" href="VFS.html#xtdaudit" title="Table 23.1. &#25313;&#24373;&#30435;&#26619;&#12525;&#12464;&#12398;&#24773;&#22577;&#20869;&#23481;">&#19979;&#35352;&#12398;&#12486;&#12540;&#12502;&#12523;</a>&#20013;&#12395;&#31034;&#12377;&#12290;
		</p><div class="table"><a name="xtdaudit"></a><p class="title"><b>Table 23.1. &#25313;&#24373;&#30435;&#26619;&#12525;&#12464;&#12398;&#24773;&#22577;&#20869;&#23481;</b></p><div class="table-contents"><table summary="&#25313;&#24373;&#30435;&#26619;&#12525;&#12464;&#12398;&#24773;&#22577;&#20869;&#23481;" border="1"><colgroup><col><col></colgroup><thead><tr><th align="center">&#12525;&#12464;&#12524;&#12505;&#12523;</th><th align="center">&#12525;&#12464;&#20869;&#23481; - &#12501;&#12449;&#12452;&#12523;&#12392;&#12487;&#12451;&#12524;&#12463;&#12488;&#12522;&#25805;&#20316;</th></tr></thead><tbody><tr><td align="center">0</td><td align="left">&#12487;&#12451;&#12524;&#12463;&#12488;&#12522;&#12398;&#20316;&#25104;&#12289;&#21066;&#38500;&#12289;Unlink</td></tr><tr><td align="center">1</td><td align="left">&#12487;&#12451;&#12524;&#12463;&#12488;&#12522;&#12398;&#12458;&#12540;&#12503;&#12531;/&#25913;&#21517;&#12289;&#12501;&#12449;&#12452;&#12523;&#21517;&#12398;&#22793;&#26356;&#12289;&#12497;&#12540;&#12511;&#12483;&#12471;&#12519;&#12531;/ACL&#12398;&#22793;&#26356;</td></tr><tr><td align="center">2</td><td align="left">&#12501;&#12449;&#12452;&#12523;&#12398;&#12458;&#12540;&#12503;&#12531;&amp;&#12463;&#12525;&#12540;&#12474;</td></tr><tr><td align="center">10</td><td align="left">&#26368;&#22823;&#12398;&#12487;&#12496;&#12483;&#12464;&#12524;&#12505;&#12523;</td></tr></tbody></table></div></div><br class="table-break"><div class="sect3" title="&#30435;&#26619;&#12398;&#35373;&#23450;"><div class="titlepage"><div><div><h4 class="title"><a name="id2670935"></a>&#30435;&#26619;&#12398;&#35373;&#23450;</h4></div></div></div><p>
<a class="indexterm" name="id2670943"></a>
		&#12371;&#12398;&#30435;&#26619;&#12484;&#12540;&#12523;&#12399;&#12383;&#12356;&#12390;&#12356;&#12398;&#20154;&#12364;&#23481;&#26131;&#12395;&#35469;&#30693;&#12377;&#12427;&#12424;&#12426;&#12418;&#12424;&#12426;&#33258;&#30001;&#24230;&#12364;&#39640;&#12356;&#12290;
		&#26377;&#29992;&#12394;&#12525;&#12464;&#24773;&#22577;&#12434;&#35352;&#37682;&#12377;&#12427;&#12383;&#12417;&#12398;&#12356;&#12367;&#12388;&#12363;&#12398;&#26041;&#27861;&#12364;&#12354;&#12427;&#12290;
		</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>&#12377;&#12409;&#12390;&#12398;&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12434;&#35352;&#37682;&#12377;&#12427;&#12383;&#12417;&#12395;syslog&#12364;&#20351;&#12360;&#12427;&#12290;
					&#12371;&#12428;&#12399;&#12289;<code class="filename">smb.conf</code>&#12501;&#12449;&#12452;&#12523;&#20013;&#12395;
					<em class="parameter"><code>syslog = 0</code></em>&#12434;&#35373;&#23450;&#12377;&#12427;&#12371;&#12392;&#12391;&#28961;&#21177;&#12395;&#20986;&#26469;&#12427;&#12290;</p></li><li class="listitem"><p>x&#12364;&#12525;&#12464;&#12524;&#12505;&#12523;&#12391;&#12354;&#12427;<em class="parameter"><code>log level = 0 vfs:x</code></em>
					&#12434;<code class="filename">smb.conf</code>&#12501;&#12449;&#12452;&#12523;&#20013;&#12395;&#35373;&#23450;&#12377;&#12427;&#12371;&#12392;&#12395;&#12424;&#12426;&#12377;&#12409;&#12390;&#12398;&#12525;&#12540;&#12489;&#12373;&#12428;&#12383;
					VFS&#12514;&#12472;&#12517;&#12540;&#12523;&#12395;&#23550;&#12375;&#12390;&#26082;&#23450;&#20516;&#12398;&#12525;&#12464;&#12501;&#12449;&#12452;&#12523;
					(<code class="filename">log.smbd</code>)&#12434;&#12525;&#12464;&#12398;&#20986;&#21147;&#12392;&#12375;&#12390;&#20351;&#12360;&#12427;&#12290;&#12371;&#12428;&#12399;&#12289;
					&#12525;&#12464;&#12524;&#12505;&#12523;&#12391;&#25351;&#23450;&#12373;&#12428;&#12383;&#12289;VFS&#12514;&#12472;&#12517;&#12540;&#12523;&#12398;&#21205;&#20316;&#12398;&#12377;&#12409;&#12390;&#12398;&#12525;&#12464;&#12364;
					&#26377;&#21177;&#12395;&#12394;&#12387;&#12390;&#12356;&#12427;&#12364;&#12289;&#36890;&#24120;&#12398;&#12525;&#12464;&#12399;&#28961;&#21177;&#12395;&#12377;&#12427;&#12290;</p></li><li class="listitem"><p>&#12518;&#12540;&#12470;&#21336;&#20301;&#12289;&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#12510;&#12471;&#12531;&#21336;&#20301;&#12394;&#12393;&#12391;&#35443;&#32048;&#12394;&#12525;&#12464;&#12434;&#21462;&#12428;&#12427;&#12290;
					&#12371;&#12428;&#12399;&#12289;<em class="parameter"><code>log file</code></em>&#12398;&#29305;&#21029;&#12394;&#35373;&#23450;&#26041;&#27861;&#12392;
					&#19978;&#35352;&#12434;&#19968;&#32210;&#12395;&#12377;&#12427;&#12371;&#12392;&#12434;&#35201;&#27714;&#12377;&#12427;&#12290;</p><p>&#12518;&#12540;&#12470;&#21336;&#20301;&#12392;&#12510;&#12471;&#12531;&#21336;&#20301;&#12398;&#35443;&#32048;&#12394;&#12525;&#12464;&#12398;&#20363;&#12399;&#12289;
					<a class="link" href="smb.conf.5.html#LOGFILE" target="_top">log file = /var/log/samba/%U.%m.log</a>
					&#12398;&#12424;&#12358;&#12395;&#12375;&#12390;&#34892;&#12358;&#12290;
					</p></li></ul></div><p>
		&#30435;&#26619;&#24773;&#22577;&#12399;&#12289;&#12375;&#12400;&#12375;&#12400;&#38263;&#12356;&#26399;&#38291;&#20445;&#23384;&#12377;&#12427;&#24517;&#35201;&#12399;&#12354;&#12427;&#12290;&#12525;&#12464;&#12501;&#12449;&#12452;&#12523;&#12364;&#12525;&#12540;&#12486;&#12540;&#12488;
		&#12373;&#12428;&#12394;&#12356;&#12424;&#12358;&#12395;&#12289;<code class="filename">smb.conf</code>&#12501;&#12449;&#12452;&#12523;&#20013;&#12391;<a class="link" href="smb.conf.5.html#MAXLOGSIZE" target="_top">max log size = 0</a>
		&#12434;&#35373;&#23450;&#12377;&#12427;&#12398;&#12399;&#24517;&#38920;&#12391;&#12354;&#12427;&#12290;</p></div></div><div class="sect2" title="fake_perms"><div class="titlepage"><div><div><h3 class="title"><a name="fakeperms"></a>fake_perms</h3></div></div></div><p>
<a class="indexterm" name="id2671085"></a>
<a class="indexterm" name="id2671092"></a>
<a class="indexterm" name="id2671099"></a>
<a class="indexterm" name="id2671105"></a>
		&#12371;&#12398;&#12514;&#12472;&#12517;&#12540;&#12523;&#12399;&#12289;(UNIX&#37197;&#19979;&#12398;Samba&#12469;&#12540;&#12496;&#12391;)&#31227;&#21205;&#12503;&#12525;&#12501;&#12449;&#12452;&#12523;&#12398;&#12501;&#12449;&#12452;&#12523;&#12392;
		&#12487;&#12451;&#12524;&#12463;&#12488;&#12522;&#12434;&#35501;&#12415;&#36796;&#12415;&#23554;&#29992;&#12395;&#35373;&#23450;&#12377;&#12427;&#12371;&#12392;&#12364;&#12391;&#12365;&#12427;&#12424;&#12358;&#12395;&#12377;&#12427;&#12383;&#12417;&#12395;&#20316;&#25104;
		&#12373;&#12428;&#12383;&#12290; &#12371;&#12398;&#12514;&#12472;&#12517;&#12540;&#12523;&#12399;&#12289;&#12503;&#12525;&#12501;&#12449;&#12452;&#12523;&#20849;&#26377;&#12395;&#12452;&#12531;&#12473;&#12488;&#12540;&#12523;&#12373;&#12428;&#12390;&#12356;&#12427;&#22580;&#21512;&#12289;
		&#12503;&#12525;&#12501;&#12449;&#12452;&#12523;&#12398;&#12501;&#12449;&#12452;&#12523;&#12392;&#12487;&#12451;&#12524;&#12463;&#12488;&#12522;&#12364;&#26360;&#12365;&#36796;&#12415;&#21487;&#33021;&#12391;&#12354;&#12427;&#12392;&#12289;&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#12395;
		&#36890;&#30693;&#12377;&#12427;&#12290;&#12371;&#12428;&#12395;&#12424;&#12426;&#12289;&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#12364;&#12525;&#12464;&#12450;&#12454;&#12488;&#12414;&#12383;&#12399;&#12471;&#12515;&#12483;&#12488;&#12480;&#12454;&#12531;&#12375;&#12383;
		&#26178;&#12395;&#12289;&#12501;&#12449;&#12452;&#12523;&#12434;&#19978;&#26360;&#12365;&#12375;&#12394;&#12367;&#12394;&#12427;&#12364;&#12289;&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#12398;&#12491;&#12540;&#12474;&#12399;&#20805;&#36275;&#12377;&#12427;&#12290;
		</p></div><div class="sect2" title="recycle"><div class="titlepage"><div><div><h3 class="title"><a name="id2671136"></a>recycle</h3></div></div></div><p>
<a class="indexterm" name="id2671144"></a>
<a class="indexterm" name="id2671151"></a>
<a class="indexterm" name="id2671158"></a>
		&#12468;&#12511;&#31665;&#12392;&#21516;&#27096;&#12398;&#12514;&#12472;&#12517;&#12540;&#12523;&#12391;&#12354;&#12427;&#12290; &#20351;&#29992;&#12377;&#12427;&#12392;&#12289;unlink&#12471;&#12473;&#12486;&#12512;&#12467;&#12540;&#12523;&#12434;
		&#27178;&#21462;&#12426;&#12289;&#12501;&#12449;&#12452;&#12523;&#12434;&#21066;&#38500;&#12377;&#12427;&#20195;&#12431;&#12426;&#12395;&#12468;&#12511;&#31665;&#12487;&#12451;&#12524;&#12463;&#12488;&#12522;&#12395;&#31227;&#21205;&#12377;&#12427;&#12290;
		&#12371;&#12428;&#12399;Windows&#12467;&#12531;&#12500;&#12517;&#12540;&#12479;&#12395;&#12362;&#12369;&#12427;<span class="guiicon">&#12468;&#12511;&#31665;</span>&#12398;&#27231;&#33021;&#12392;
		&#21516;&#12376;&#12391;&#12354;&#12427;&#12290;
		</p><p>
<a class="indexterm" name="id2671182"></a>
<a class="indexterm" name="id2671189"></a>
<a class="indexterm" name="id2671196"></a>
<a class="indexterm" name="id2671203"></a>
		<span class="guiicon">&#12372;&#12415;&#31665;</span>&#12399;&#12289;<span class="application">Windows &#12456;&#12463;&#12473;&#12503;&#12525;&#12540;&#12521;&#12540;</span>
		&#12398;&#12493;&#12483;&#12488;&#12527;&#12540;&#12463;&#12501;&#12449;&#12452;&#12523;&#12471;&#12473;&#12486;&#12512;(&#20849;&#26377;)&#12398;&#12499;&#12517;&#12540;&#12395;&#12418;&#12289;&#12510;&#12483;&#12500;&#12531;&#12464;&#12373;&#12428;&#12383;&#12489;&#12521;&#12452;&#12502;&#12398;
		&#12356;&#12378;&#12428;&#12398;&#12499;&#12517;&#12540;&#12395;&#12418;&#34920;&#31034;&#12373;&#12428;&#12394;&#12356;&#12290;&#12381;&#12398;&#20195;&#12431;&#12426;&#12395;&#12289;<code class="filename">.recycle</code>
		&#12392;&#12356;&#12358;&#12487;&#12451;&#12524;&#12463;&#12488;&#12522;&#12364;&#12289;&#21021;&#12417;&#12390;&#12501;&#12449;&#12452;&#12523;&#12434;&#21066;&#38500;&#12375;&#12383;&#12392;&#12365;&#12392;
		<em class="parameter"><code>recycle:repository</code></em>&#12364;&#35373;&#23450;&#12373;&#12428;&#12390;&#12356;&#12394;&#12356;&#12392;&#12365;&#12395;&#33258;&#21205;&#30340;&#12395;
		&#20316;&#25104;&#12373;&#12428;&#12427;&#12290;&#12418;&#12375;&#12289;<em class="parameter"><code>recycle:repository</code></em>&#12364;&#35373;&#23450;&#12373;&#12428;&#12390;&#12356;&#12427;
		&#22580;&#21512;&#12289;&#20316;&#25104;&#12373;&#12428;&#12427;&#12487;&#12451;&#12524;&#12463;&#12488;&#12522;&#12399;<em class="parameter"><code>recycle:repository</code></em>&#12395;
		&#20381;&#23384;&#12377;&#12427;&#12290;&#12518;&#12540;&#12470;&#12399;&#12372;&#12415;&#31665;&#12363;&#12425;&#12501;&#12449;&#12452;&#12523;&#12434;&#21462;&#12426;&#25147;&#12377;&#12371;&#12392;&#12364;&#20986;&#26469;&#12427;&#12290;&#12418;&#12375;&#12418;&#12289;
		<em class="parameter"><code>recycle:keeptree</code></em>&#12364;&#25351;&#23450;&#12373;&#12428;&#12390;&#12356;&#12383;&#22580;&#21512;&#12289;
		&#21066;&#38500;&#12373;&#12428;&#12383;&#12501;&#12449;&#12452;&#12523;&#12399;&#12289;&#12501;&#12449;&#12452;&#12523;&#12364;&#21066;&#38500;&#12373;&#12428;&#12383;&#20803;&#12398;&#22580;&#25152;&#12392;&#21516;&#19968;&#12398;&#12497;&#12473;&#12363;&#12425;&#12289;
		&#35211;&#12388;&#12369;&#12427;&#12371;&#12392;&#12364;&#12391;&#12365;&#12427;&#12290;
		</p><p><code class="literal">recycle</code>&#12364;&#12469;&#12509;&#12540;&#12488;&#12377;&#12427;&#12458;&#12503;&#12471;&#12519;&#12531;&#12399;&#20197;&#19979;&#12398;&#36890;&#12426;:
		</p><div class="variablelist"><dl><dt><span class="term">recycle:repository</span></dt><dd><p>
<a class="indexterm" name="id2671289"></a>
				&#21066;&#38500;&#12373;&#12428;&#12383;&#12501;&#12449;&#12452;&#12523;&#12398;&#31227;&#21205;&#20808;&#12391;&#12354;&#12427;&#12487;&#12451;&#12524;&#12463;&#12488;&#12522;&#12398;&#12497;&#12473;&#12290;
				</p></dd><dt><span class="term">recycle:directory_mode</span></dt><dd><p>
<a class="indexterm" name="id2671310"></a>
				recycle&#12487;&#12451;&#12524;&#12463;&#12488;&#12522;&#12395;&#35373;&#23450;&#12375;&#12383;&#12356;8&#36914;&#12398;&#12514;&#12540;&#12489;&#12434;&#25351;&#23450;&#12377;&#12427;&#12290;
				&#12418;&#12375;&#12418;&#23384;&#22312;&#12375;&#12394;&#12356;&#12363;&#12289;&#26368;&#21021;&#12395;&#12501;&#12449;&#12452;&#12523;&#12364;&#21066;&#38500;&#12373;&#12428;&#12383;&#26178;&#12289;
				&#12371;&#12398;&#12514;&#12540;&#12489;&#12391;recycle&#12487;&#12451;&#12524;&#12463;&#12488;&#12522;&#12364;&#20316;&#25104;&#12373;&#12428;&#12427;&#12290;
				&#12418;&#12375;&#12418;&#12289;<em class="parameter"><code>recycle:subdir_mode</code></em>&#12364;
				&#35373;&#23450;&#12373;&#12428;&#12390;&#12356;&#12394;&#12356;&#22580;&#21512;&#12289;&#12381;&#12428;&#12425;&#12398;&#12514;&#12540;&#12489;&#12399;&#12469;&#12502;&#12487;&#12451;&#12524;&#12463;&#12488;&#12522;
				&#12395;&#12418;&#36969;&#29992;&#12373;&#12428;&#12427;&#12290;&#12418;&#12375;&#12418;&#12289;
				<em class="parameter"><code>directory_mode</code></em>&#12364;&#35373;&#23450;&#12373;&#12428;&#12390;
				&#12356;&#12394;&#12356;&#22580;&#21512;&#12289;&#26082;&#23450;&#20516;&#12392;&#12375;&#12390;0700&#12364;&#20351;&#12431;&#12428;&#12427;&#12290;
				</p></dd><dt><span class="term">recycle:subdir_mode</span></dt><dd><p>
<a class="indexterm" name="id2671352"></a>
				recycle&#12487;&#12451;&#12524;&#12463;&#12488;&#12522;&#12398;&#12469;&#12502;&#12487;&#12451;&#12524;&#12463;&#12488;&#12522;&#12395;&#35373;&#23450;&#12375;&#12383;&#12356;
				8&#36914;&#12398;&#12514;&#12540;&#12489;&#12434;&#25351;&#23450;&#12377;&#12427;&#12290;&#12371;&#12398;&#12514;&#12540;&#12489;&#12391;&#12469;&#12502;&#12487;&#12451;&#12524;&#12463;&#12488;&#12522;
				&#12364;&#20316;&#25104;&#12373;&#12428;&#12427;&#12290;&#12418;&#12375;&#12418;&#12289;
				<em class="parameter"><code>recycle:subdir_mode</code></em>&#12364;
				&#35373;&#23450;&#12373;&#12428;&#12390;&#12356;&#12394;&#12356;&#22580;&#21512;&#12289;&#12469;&#12502;&#12487;&#12451;&#12524;&#12463;&#12488;&#12522;&#12398;&#12514;&#12540;&#12489;&#12399;
				<em class="parameter"><code>directory_mode</code></em>&#12398;&#12514;&#12540;&#12489;&#12391;
				&#20316;&#25104;&#12373;&#12428;&#12427;&#12290;
				</p></dd><dt><span class="term">recycle:keeptree</span></dt><dd><p>
<a class="indexterm" name="id2671391"></a>
				&#12487;&#12451;&#12524;&#12463;&#12488;&#12522;&#27083;&#36896;&#12434;&#32173;&#25345;&#12377;&#12427;&#12363;&#12289;&#12354;&#12427;&#12356;&#12399;&#21066;&#38500;&#12373;&#12428;&#12383;
				&#12501;&#12449;&#12452;&#12523;&#12399;&#12468;&#12511;&#31665;&#12395;&#21029;&#12395;&#20445;&#23384;&#12377;&#12427;&#12363;&#12434;&#25351;&#23450;&#12377;&#12427;&#12290;
				</p></dd><dt><span class="term">recycle:versions</span></dt><dd><p>
<a class="indexterm" name="id2671414"></a>
				&#12371;&#12398;&#12458;&#12503;&#12471;&#12519;&#12531;&#12434;&#35373;&#23450;&#12377;&#12427;&#12392;&#12289;&#21516;&#21517;&#12398;&#20108;&#12388;&#12398;&#12501;&#12449;&#12452;&#12523;&#12364;&#21066;&#38500;
				&#12373;&#12428;&#12383;&#12392;&#12365;&#12289; &#20108;&#12388;&#12392;&#12418;&#21029;&#12398;&#12501;&#12449;&#12452;&#12523;&#12392;&#12375;&#12390;&#12468;&#12511;&#31665;&#12395;&#20445;&#23384;&#12377;&#12427;&#12290;
				&#12424;&#12426;&#26032;&#12375;&#12356;&#26041;&#12398;&#21066;&#38500;&#12501;&#12449;&#12452;&#12523;&#12399;&#12289;
				<span class="quote">&#8220;<span class="quote">Copy #x of <em class="replaceable"><code>filename</code></em></span>&#8221;</span>
				&#12392;&#12356;&#12358;&#21517;&#31216;&#12391;&#20445;&#23384;&#12373;&#12428;&#12427;&#12290;
				</p></dd><dt><span class="term">recycle:touch</span></dt><dd><p>
<a class="indexterm" name="id2671448"></a>
				&#12501;&#12449;&#12452;&#12523;&#12364;&#12372;&#12415;&#31665;&#12395;&#31227;&#12373;&#12428;&#12383;&#12392;&#12365;&#12395;&#12289;&#12501;&#12449;&#12452;&#12523;&#12398;&#12450;&#12463;&#12475;&#12473;
				&#26085;&#20184;&#12434;&#22793;&#26356;&#12377;&#12427;&#12363;&#12393;&#12358;&#12363;&#12434;&#25351;&#23450;&#12377;&#12427;&#12290;
				</p></dd><dt><span class="term">recycle:touch_mtime</span></dt><dd><p>
<a class="indexterm" name="id2671470"></a>
				&#12501;&#12449;&#12452;&#12523;&#12364;&#12372;&#12415;&#31665;&#12395;&#31227;&#12373;&#12428;&#12383;&#12392;&#12365;&#12395;&#12289;&#12501;&#12449;&#12452;&#12523;&#12398;&#26368;&#32066;&#22793;&#26356;
                                &#26178;&#21051;&#12434;&#22793;&#26356;&#12377;&#12427;&#12363;&#12393;&#12358;&#12363;&#12434;&#25351;&#23450;&#12377;&#12427;
				</p></dd><dt><span class="term">recycle:maxsize</span></dt><dd><p>
<a class="indexterm" name="id2671494"></a>
				&#12371;&#12398;&#12497;&#12521;&#12513;&#12540;&#12479;&#12391;&#25351;&#23450;&#12375;&#12383;&#12496;&#12452;&#12488;&#25968;&#12424;&#12426;&#22823;&#12365;&#12356;&#12501;&#12449;&#12452;&#12523;&#12399;&#12289;
				&#12372;&#12415;&#31665;&#12395;&#20837;&#12428;&#12394;&#12356;&#12290;
				</p></dd><dt><span class="term">recycle:exclude</span></dt><dd><p>
<a class="indexterm" name="id2671516"></a>
				&#12372;&#12415;&#31665;&#12395;&#20837;&#12428;&#12394;&#12356;&#12391;&#12289;&#26222;&#36890;&#12395;&#21066;&#38500;&#12377;&#12427;&#12409;&#12365;&#12501;&#12449;&#12452;&#12523;&#12434;&#12522;&#12473;&#12488;&#12377;&#12427;&#12290;
				</p></dd><dt><span class="term">recycle:exclude_dir</span></dt><dd><p>
<a class="indexterm" name="id2671538"></a>
				&#12487;&#12451;&#12524;&#12463;&#12488;&#12522;&#12398;&#12522;&#12473;&#12488;&#12434;&#25351;&#23450;&#12377;&#12427;&#12290;&#12371;&#12428;&#12425;&#12398;&#12487;&#12451;&#12524;&#12463;&#12488;&#12522;&#12363;&#12425;
				&#12501;&#12449;&#12452;&#12523;&#12364;&#21066;&#38500;&#12373;&#12428;&#12427;&#12392;&#12289;&#12372;&#12415;&#31665;&#12395;&#12399;&#20837;&#12428;&#12378;&#12395;&#12289;&#26222;&#36890;&#12395;&#21066;&#38500;&#12377;&#12427;&#12290;
				</p></dd><dt><span class="term">recycle:noversions</span></dt><dd><p>
<a class="indexterm" name="id2671562"></a>
				recycle:versions&#12398;&#21453;&#23550;&#12391;&#12354;&#12427;(*&#12420;?&#12398;&#12527;&#12452;&#12523;&#12489;&#12459;&#12540;&#12489;&#12418;&#12469;&#12509;&#12540;&#12488;)
				&#12377;&#12427;&#12290;<span class="emphasis"><em>recycle:versions</em></span>&#12364;&#26377;&#21177;&#12394;&#26178;&#12395;
				&#20415;&#21033;&#12391;&#12354;&#12427;&#12290;
				</p></dd></dl></div><p>
		</p></div><div class="sect2" title="netatalk"><div class="titlepage"><div><div><h3 class="title"><a name="id2671583"></a>netatalk</h3></div></div></div><p>
<a class="indexterm" name="id2671590"></a>
		netatalk&#12514;&#12472;&#12517;&#12540;&#12523;&#12399;&#12289;Samba&#12392;netatalk&#12398;&#12501;&#12449;&#12452;&#12523;&#20849;&#26377;&#12469;&#12540;&#12499;&#12473;&#12398;&#20849;&#23384;&#12434;
		&#12420;&#12426;&#26131;&#12367;&#12377;&#12427;&#12290;
		</p><p>&#24467;&#21069;&#12398;netatalk&#12514;&#12472;&#12517;&#12540;&#12523;&#12392;&#27604;&#36611;&#12375;&#12383;&#38263;&#25152;&#12399;&#20197;&#19979;&#12398;&#36890;&#12426;:
		</p><div class="itemizedlist"><a class="indexterm" name="id2671608"></a><ul class="itemizedlist" type="disc"><li class="listitem"><p>.AppleDouble &#12501;&#12457;&#12540;&#12463;&#12398;&#20316;&#25104;&#12434;&#27671;&#12395;&#12363;&#12369;&#12378;&#12289;&#12383;&#12384;&#21516;&#26399;&#12434;&#21462;&#12427;&#12290;</p></li><li class="listitem"><p><code class="filename">smb.conf</code>&#20013;&#12398;&#20849;&#26377;&#12398;&#12300;&#38560;&#12375;(hide)&#12301;&#12414;&#12383;&#12399;&#12300;&#25298;&#21542;(veto)&#12301;
			 &#12522;&#12473;&#12488;&#20013;&#12395;.AppleDouble&#12398;&#12450;&#12452;&#12486;&#12512;&#12434;&#21547;&#12414;&#12394;&#12356;&#12392;&#12365;&#12289;&#33258;&#21205;&#30340;&#12395;&#36861;&#21152;&#12373;&#12428;&#12427;&#12290;</p></li></ul></div><p>
		</p></div><div class="sect2" title="shadow_copy"><div class="titlepage"><div><div><h3 class="title"><a name="id2671637"></a>shadow_copy</h3></div></div></div><div class="warning" title="Warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Warning</h3><p>
<a class="indexterm" name="id2671646"></a>
	<span class="emphasis"><em>&#12371;&#12428;&#12399;&#12496;&#12483;&#12463;&#12450;&#12483;&#12503;&#12391;&#12418;&#12289;&#12450;&#12540;&#12459;&#12452;&#12502;&#12391;&#12418;&#12289;&#12496;&#12540;&#12472;&#12519;&#12531;&#12467;&#12531;&#12488;&#12525;&#12540;&#12523;&#12477;&#12522;&#12517;&#12540;&#12471;&#12519;&#12531;&#12391;&#12418;&#12394;&#12356;!</em></span>
	</p><p>
<a class="indexterm" name="id2671661"></a>
	Samba&#12363;Windows&#12469;&#12540;&#12496;&#12391;&#12399;&#12289;shadow_copy&#12399;&#12456;&#12531;&#12489;&#12518;&#12540;&#12470;&#12484;&#12540;&#12523;&#12392;&#12375;&#12390;&#12398;&#12415;&#35373;&#35336;&#12373;&#12428;&#12390;
	&#12356;&#12427;&#12290;&#12496;&#12483;&#12463;&#12450;&#12483;&#12503;&#12420;&#12450;&#12540;&#12459;&#12452;&#12502;&#12477;&#12522;&#12517;&#12540;&#12471;&#12519;&#12531;&#12398;&#27231;&#33021;&#24375;&#21270;&#12420;&#32622;&#12365;&#25563;&#12360;&#12395;&#12399;&#12394;&#12425;&#12378;&#12289;
	&#12381;&#12398;&#12424;&#12358;&#12395;&#32771;&#12360;&#12390;&#12399;&#12356;&#12369;&#12394;&#12356;&#12290;&#26356;&#12395;&#12289;&#12496;&#12540;&#12472;&#12519;&#12531;&#12467;&#12531;&#12488;&#12525;&#12540;&#12523;&#27231;&#33021;&#12364;&#24517;&#35201;&#12394;&#22580;&#21512;&#12395;&#12399;&#12289;
	&#12496;&#12540;&#12472;&#12519;&#12531;&#12467;&#12531;&#12488;&#12525;&#12540;&#12523;&#12471;&#12473;&#12486;&#12512;&#12434;&#20837;&#12428;&#12427;&#12371;&#12392;&#12290;&#12371;&#12428;&#12399;&#35686;&#21578;&#12391;&#12354;&#12427;&#12290;
	</p></div><p>
	shadow_copy&#12514;&#12472;&#12517;&#12540;&#12523;&#12399;Microsoft&#12471;&#12515;&#12489;&#12540;&#12467;&#12500;&#12540;&#12469;&#12540;&#12499;&#12473;&#12395;&#20284;&#12383;&#27231;&#33021;&#12434;&#25552;&#20379;&#12377;&#12427;&#12290;
	&#36969;&#20999;&#12395;&#35373;&#23450;&#12373;&#12428;&#12383;&#22580;&#21512;&#12289;Samba&#12398;&#20849;&#26377;&#19978;&#12391;&#12289;Microsoft&#12471;&#12515;&#12489;&#12540;&#12467;&#12500;&#12540;&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#12364;
	"&#12471;&#12515;&#12489;&#12540;&#12467;&#12500;&#12540;"&#12434;&#35211;&#12360;&#12427;&#12424;&#12358;&#12395;&#12377;&#12427;&#12290;&#12471;&#12515;&#12489;&#12540;&#12467;&#12500;&#12540;&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#12398;&#12452;&#12531;&#12473;&#12488;&#12540;&#12523;
	&#12364;&#24517;&#35201;&#12391;&#12354;&#12427;&#12290;Microsoft&#12471;&#12515;&#12489;&#12540;&#12467;&#12500;&#12540;&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#12399;
	<a class="ulink" href="http://www.microsoft.com/windowsserver2003/downloads/shadowcopyclient.mspx" target="_top">&#12371;&#12371;</a>
	&#12363;&#12425;&#20837;&#25163;&#12391;&#12365;&#12427;&#12290;Windows XP&#12424;&#12426;&#21069;&#12398;&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#12395;&#12399;&#36861;&#21152;&#12398;&#35201;&#27714;&#12364;&#12354;&#12427;&#12371;&#12392;&#12395;&#27880;&#24847;&#12290;
	&#12371;&#12398;&#27231;&#33021;&#12399;Windows XP&#12424;&#12426;&#21069;&#12398;&#12496;&#12540;&#12472;&#12519;&#12531;&#12391;&#12399;&#12486;&#12473;&#12488;&#12373;&#12428;&#12390;&#12356;&#12394;&#12356;&#12290;Microsoft&#12471;&#12515;&#12489;&#12540;&#12467;&#12500;&#12540;
	&#12395;&#38306;&#12377;&#12427;&#12424;&#12426;&#35443;&#32048;&#12394;&#24773;&#22577;&#12399;&#12289;
	<a class="ulink" href="http://www.microsoft.com/windowsserver2003/techinfo/overview/scr.mspx" target="_top">Microsoft&#12398;&#12469;&#12452;&#12488;</a>
	&#12434;&#21442;&#29031;&#12398;&#12371;&#12392;&#12290;
	</p><p>
<a class="indexterm" name="id2671724"></a>
<a class="indexterm" name="id2671731"></a>
<a class="indexterm" name="id2671738"></a>
<a class="indexterm" name="id2671746"></a>
<a class="indexterm" name="id2671753"></a>
<a class="indexterm" name="id2671759"></a>
	shadow_copy VFS&#12514;&#12472;&#12517;&#12540;&#12523;&#12399;LVM1&#12289;LVM2&#12363;EVMS&#12398;&#12424;&#12358;&#12394;&#12289;&#12354;&#12427;&#31278;&#12398;&#35542;&#29702;&#12508;&#12522;&#12517;&#12540;&#12512;
	&#12510;&#12493;&#12540;&#12472;&#12515;(LVM)&#12391;&#12475;&#12483;&#12488;&#12450;&#12483;&#12503;&#12375;&#12383;&#12418;&#12398;&#12364;&#12505;&#12540;&#12473;&#12398;&#12501;&#12449;&#12452;&#12523;&#12471;&#12473;&#12486;&#12512;&#12434;&#35201;&#27714;&#12377;&#12427;&#12290;
	LVM&#12398;&#35373;&#23450;&#12399;&#12371;&#12398;&#25991;&#26360;&#12398;&#31684;&#22258;&#22806;&#12391;&#12354;&#12427;&#12290;&#12375;&#12363;&#12375;&#12289;<span class="emphasis"><em>&#20363;&#12392;&#12375;&#12390;&#12398;&#12415;</em></span>
	&#12371;&#12398;&#27231;&#33021;&#12434;&#12486;&#12473;&#12488;&#12377;&#12427;&#12383;&#12417;&#12395;&#34892;&#12358;&#25163;&#38918;&#12398;&#27010;&#35201;&#12434;&#31034;&#12377;&#12290;&#20351;&#12356;&#12383;&#12356;&#12392;&#12375;&#12390;&#12356;&#12427;LVM&#12398;
	&#23455;&#35013;&#12364;&#20351;&#29992;&#23550;&#35937;&#12395;&#23550;&#12375;&#12390;&#28310;&#20633;&#12373;&#12428;&#12390;&#12356;&#12427;&#12363;&#12434;&#30906;&#12363;&#12417;&#12427;&#24517;&#35201;&#12364;&#12354;&#12427;&#12290;&#21313;&#20998;&#12395;&#12486;&#12473;&#12488;&#12399;
	&#12373;&#12428;&#12394;&#12369;&#12428;&#12400;&#12394;&#12425;&#12394;&#12356;&#12290;
	</p><p>
	&#20197;&#19979;&#12399;&#12289;LVM&#12392;EVMS&#12395;&#23550;&#12377;&#12427;&#12424;&#12367;&#20351;&#12431;&#12428;&#12427;&#24773;&#22577;&#28304;&#12391;&#12354;&#12427;:
	</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p><a class="ulink" href="http://www.sistina.com/products_lvm_download.htm" target="_top">Sistina&#12398;
	    LVM1&#12392; LVM2&#12395;&#38306;&#12377;&#12427;&#24773;&#22577;</a></p></li><li class="listitem"><p><a class="ulink" href="http://evms.sourceforge.net/" target="_top">Enterprise Volume Management System (EVMS)</a></p></li><li class="listitem"><p><a class="ulink" href="http://tldp.org/HOWTO/LVM-HOWTO/" target="_top">The LVM HOWTO</a>
	    (&#35379;&#27880;:&#26085;&#26412;&#35486;&#35379;&#12399;<a class="ulink" href="http://www.linux.or.jp/JF/JFdocs/LVM-HOWTO.html" target="_top">&#12371;&#12385;&#12425;</a>)</p></li><li class="listitem"><p>
	    Daniel Robbin&#12395;&#12424;&#12427;&#12289;&#12424;&#12367;&#26360;&#12363;&#12428;&#12383;&#12289;LVM&#12477;&#12540;&#12473;&#12467;&#12540;&#12489;&#12392;reiserfs&#12434;&#20351;&#12387;&#12383;Linux&#19978;&#12398;2&#12388;&#12398;&#12497;&#12540;&#12488;&#12395;&#20998;&#12363;&#12428;&#12383;&#12481;&#12517;&#12540;&#12488;&#12522;&#12450;&#12523;
  <a class="ulink" href="http://www-106.ibm.com/developerworks/linux/library/l-lvm/" target="_top">Learning
	      Linux LVM, Part 1</a> &#12392; <a class="ulink" href="http://www-106.ibm.com/developerworks/library/l-lvm2.html" target="_top">Learning
	      Linux LWM, Part 2</a>&#12434;&#21442;&#29031;&#12290;</p></li></ul></div><div class="sect3" title="Shadow Copy &#12398;&#12475;&#12483;&#12488;&#12450;&#12483;&#12503;"><div class="titlepage"><div><div><h4 class="title"><a name="id2671872"></a>Shadow Copy &#12398;&#12475;&#12483;&#12488;&#12450;&#12483;&#12503;</h4></div></div></div><p>
<a class="indexterm" name="id2671881"></a>
<a class="indexterm" name="id2671888"></a>
	&#12371;&#12428;&#12434;&#26360;&#12356;&#12390;&#12356;&#12427;&#26178;&#28857;&#12391;&#12399;&#12289;&#21313;&#20998;&#12394;&#12486;&#12473;&#12488;&#12399;&#32066;&#12431;&#12387;&#12390;&#12356;&#12394;&#12356;&#12290;&#12471;&#12515;&#12489;&#12540;&#12467;&#12500;&#12540;VFS
	&#12514;&#12472;&#12517;&#12540;&#12523;&#12434;&#12289;&#35069;&#21697;&#29872;&#22659;&#12391;&#12399;&#23637;&#38283;&#12375;&#12390;&#12356;&#12394;&#12356;&#12364;&#12289;&#27010;&#24565;&#12398;&#29031;&#26126;&#12392;&#12375;&#12390;&#12399;&#12424;&#12426;&#22810;&#12367;&#12289;
	&#29305;&#23450;&#12398;&#12471;&#12490;&#12522;&#12458;&#12391;&#12486;&#12473;&#12488;&#12375;&#12383;&#12290;&#12471;&#12490;&#12522;&#12458;&#12399;XFS&#12501;&#12449;&#12452;&#12523;&#12471;&#12473;&#12486;&#12512;&#12392;LVM1&#12434;&#20351;&#12358;
	Debian Sarge&#19978;&#12398;Samba-3&#12469;&#12540;&#12496;&#12391;&#25913;&#33391;&#12373;&#12428;&#12383;&#12290;&#12371;&#12371;&#12391;&#25552;&#31034;&#12373;&#12428;&#12383;&#12377;&#12409;&#12390;&#12398;&#12467;&#12531;&#12509;&#12540;&#12493;&#12531;&#12488;
	&#12395;&#38306;&#12375;&#12390;&#12289;&#21313;&#20998;&#12394;&#35413;&#20385;&#12434;&#12375;&#12394;&#12356;&#12391;&#12477;&#12522;&#12517;&#12540;&#12471;&#12519;&#12531;&#12392;&#12375;&#12390;&#20351;&#12358;&#12371;&#12392;&#12399;&#25512;&#22888;&#12375;&#12394;&#12356;&#12290;
	&#12377;&#12394;&#12431;&#12385;&#12289;&#20197;&#19979;&#12399;&#21205;&#20316;&#12373;&#12379;&#12383;&#12414;&#12391;&#12398;&#22522;&#26412;&#30340;&#12394;&#27010;&#35201;&#12391;&#12354;&#12427;&#12290;
	</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p title="&#12452;&#12531;&#12473;&#12488;&#12540;&#12523;&#12373;&#12428;&#12383;OS"><b>&#12452;&#12531;&#12473;&#12488;&#12540;&#12523;&#12373;&#12428;&#12383;OS. </b>
		&#12486;&#12473;&#12488;&#12434;&#34892;&#12358;&#12395;&#12354;&#12383;&#12387;&#12390;&#12399;&#12289;
		<a class="ulink" href="http://www.debian.org/devel/debian-installer/" target="_top">Debian Sarge</a>
		(&#12377;&#12394;&#12431;&#12385;&#12486;&#12473;&#12488;&#29256;)&#12434;XFS&#12501;&#12449;&#12452;&#12523;&#12471;&#12473;&#12486;&#12512;&#19978;&#12391;&#20351;&#29992;&#12375;&#12383;&#12290;OS&#12398;&#35373;&#23450;&#12399;&#12289;
		&#12371;&#12398;&#25991;&#26360;&#12398;&#31684;&#22258;&#22806;&#12391;&#12354;&#12427;&#12290;Samba&#12364;&#21205;&#20316;&#12377;&#12427;OS&#12364;&#12354;&#12427;&#12418;&#12398;&#12392;&#20206;&#23450;&#12377;&#12427;&#12290;
		</p></li><li class="listitem"><p title="Samba&#12398;&#12452;&#12531;&#12473;&#12488;&#12540;&#12523;&#12392;&#35373;&#23450;"><b>Samba&#12398;&#12452;&#12531;&#12473;&#12488;&#12540;&#12523;&#12392;&#35373;&#23450;. </b>
		&#12371;&#12398;&#20214;&#12395;&#12388;&#12356;&#12390;&#12399;&#12371;&#12398;HOWTO&#12398;<a class="link" href="introduction.html" title="Part I. &#27010;&#35201;">&#12452;&#12531;&#12473;&#12488;&#12540;&#12523;&#12398;&#31456;</a>
		&#12434;&#21442;&#29031;&#12398;&#12371;&#12392;&#12290;&#12489;&#12513;&#12452;&#12531;&#12467;&#12531;&#12488;&#12525;&#12540;&#12521;&#12363;&#12513;&#12531;&#12496;&#12501;&#12449;&#12452;&#12523;&#12469;&#12540;&#12496;&#12391;&#12354;&#12427;&#12371;&#12392;&#12399;&#37325;&#35201;&#12391;&#12399;
		&#12394;&#12356;&#12364;&#12289;Samba 3.0.3&#12363;&#12381;&#12428;&#20197;&#38477;&#12398;&#12469;&#12540;&#12496;&#12364;&#21205;&#20316;&#12375;&#12390;&#12356;&#12427;&#12371;&#12392;&#12434;&#20206;&#23450;&#12377;&#12427;&#12290;
		</p></li><li class="listitem"><p title="LVM&#12398;&#12452;&#12531;&#12473;&#12488;&#12540;&#12523;&#12392;&#35373;&#23450;"><b>LVM&#12398;&#12452;&#12531;&#12473;&#12488;&#12540;&#12523;&#12392;&#35373;&#23450;. </b>
<a class="indexterm" name="id2671990"></a>
<a class="indexterm" name="id2671997"></a>
		&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#12395;&#23550;&#12375;&#12390;&#12471;&#12515;&#12489;&#12540;&#12467;&#12500;&#12540;&#12434;&#26377;&#21177;&#12395;&#12377;&#12427;&#21069;&#12395;&#12289;&#12471;&#12515;&#12489;&#12540;&#12467;&#12500;&#12540;&#12434;
		&#20316;&#12387;&#12390;&#12362;&#12367;&#24517;&#35201;&#12364;&#12354;&#12427;&#12290;&#12371;&#12428;&#12399;&#12501;&#12449;&#12452;&#12523;&#12471;&#12473;&#12486;&#12512;&#12398;&#12473;&#12490;&#12483;&#12503;&#12471;&#12519;&#12483;&#12488;&#12398;&#12424;&#12358;&#12394;
		&#20107;&#12434;&#34892;&#12358;&#20107;&#12391;&#12391;&#12365;&#12427;&#12290;&#12473;&#12490;&#12483;&#12503;&#12471;&#12519;&#12483;&#12488;&#12399;LVM&#12398;&#12424;&#12358;&#12394;&#12289;&#35542;&#29702;&#12508;&#12522;&#12517;&#12540;&#12512;
		&#12510;&#12493;&#12540;&#12472;&#12515;&#12391;&#12398;&#19968;&#33324;&#30340;&#12394;&#27231;&#33021;&#12391;&#12354;&#12426;&#12289;&#12414;&#12378;&#12371;&#12428;&#12434;&#26368;&#21021;&#12395;&#35373;&#23450;&#12377;&#12427;&#24517;&#35201;&#12364;&#12354;&#12427;&#12290;
		</p><div class="itemizedlist"><p>
		&#20197;&#19979;&#12399;&#12289;Debian&#12518;&#12540;&#12470;&#12395;&#12392;&#12387;&#12390;&#12399;&#26368;&#12418;&#25163;&#21161;&#12369;&#12392;&#12394;&#12427;&#20363;&#12391;&#12354;&#12427;&#12290;&#32368;&#12426;&#36820;&#12377;&#12364;&#12289;
		&#12371;&#12428;&#12399;"testing"&#12414;&#12383;&#12399;"Sarge"&#12434;&#20351;&#12387;&#12390;&#12486;&#12473;&#12488;&#12375;&#12390;&#12356;&#12427;&#12290;
		</p><ul class="itemizedlist" type="disc"><li class="listitem"><p>
<a class="indexterm" name="id2672031"></a>
<a class="indexterm" name="id2672038"></a>
<a class="indexterm" name="id2672045"></a>
<a class="indexterm" name="id2672051"></a>
<a class="indexterm" name="id2672058"></a>
			&#12414;&#12384;&#20837;&#12428;&#12390;&#12356;&#12394;&#12356;&#12398;&#12391;&#12354;&#12428;&#12400;&#12289;lvm10&#12392;devfsd&#12497;&#12483;&#12465;&#12540;&#12472;&#12434;&#12452;&#12531;&#12473;&#12488;&#12540;&#12523;&#12377;&#12427;&#12290;
			Debian&#12471;&#12473;&#12486;&#12512;&#19978;&#12391;&#12399;&#12289;devfs&#12501;&#12449;&#12452;&#12523;&#21517;&#12434;&#35201;&#27714;&#12377;&#12427;devfs&#12392;lvm1&#12364;&#30456;&#20114;&#12395;
			&#24433;&#38911;&#12377;&#12427;&#12398;&#12391;&#35686;&#21578;&#12364;&#20986;&#12427;&#12290;
			<code class="literal">apt-get update &amp;&amp; apt-get install lvm10 devfsd xfsprogs</code>
			&#12434;&#23455;&#34892;&#12375;&#12390;&#12371;&#12398;&#20363;&#12398;&#12383;&#12417;&#12398;&#12488;&#12522;&#12483;&#12463;&#12434;&#34892;&#12358;&#12290;
			</p></li><li class="listitem"><p>
<a class="indexterm" name="id2672088"></a>
<a class="indexterm" name="id2672095"></a>
<a class="indexterm" name="id2672102"></a>
<a class="indexterm" name="id2672109"></a>
<a class="indexterm" name="id2672116"></a>
			&#27425;&#12395;&#12508;&#12522;&#12517;&#12540;&#12512;&#12434;&#20316;&#25104;&#12377;&#12427;&#12290;&#12381;&#12375;&#12390;&#12508;&#12522;&#12517;&#12540;&#12512;&#12395;&#12497;&#12540;&#12486;&#12451;&#12471;&#12519;&#12531;&#12434;&#20316;&#25104;&#12377;&#12427;
			&#24517;&#35201;&#12364;&#12354;&#12427;&#12290;&#22909;&#12415;&#12398;&#12497;&#12540;&#12486;&#12451;&#12471;&#12519;&#12531;&#20316;&#25104;&#12484;&#12540;&#12523;&#12434;&#20351;&#12358;&#12371;&#12392;(&#12383;&#12392;&#12360;&#12400;&#12289;
			Linux&#12398;fdisk&#12289;cfdisk&#12394;&#12393;)&#12290;&#12497;&#12540;&#12486;&#12451;&#12471;&#12519;&#12531;&#12479;&#12452;&#12503;&#12399;"Linux LVM"&#12434;
			&#34920;&#12377; 0x8e&#12395;&#35373;&#23450;&#12377;&#12409;&#12365;&#12391;&#12354;&#12427;&#12290;&#12371;&#12398;&#20363;&#12391;&#12399;/dev/hdb1&#12434;&#20351;&#12358;&#12290;
			</p><p>
<a class="indexterm" name="id2672136"></a>
<a class="indexterm" name="id2672144"></a>
<a class="indexterm" name="id2672151"></a>
			LVM&#12497;&#12540;&#12486;&#12451;&#12471;&#12519;&#12531;(&#12479;&#12452;&#12503;0x8e)&#12364;&#20986;&#26469;&#12427;&#12392;&#12289;LVM&#12508;&#12522;&#12517;&#12540;&#12512;&#12434;&#20316;&#25104;&#12377;&#12427;&#12383;&#12417;&#12398;
			&#19968;&#36899;&#12398;&#12467;&#12510;&#12531;&#12489;&#12434;&#23455;&#34892;&#20986;&#26469;&#12427;&#12290;&#12356;&#12367;&#12388;&#12363;&#12398;&#12487;&#12451;&#12473;&#12463;&#12392;&#12497;&#12540;&#12486;&#12451;&#12471;&#12519;&#12531;&#12434;
			&#20351;&#12358;&#12371;&#12392;&#12364;&#20986;&#26469;&#12427;&#12364;&#12289;&#12371;&#12398;&#20363;&#12391;&#12399;&#19968;&#12388;&#12398;&#12415;&#12434;&#20351;&#12358;&#12290;
			<code class="literal">modprobe lvm-mod</code>&#12398;&#12424;&#12358;&#12395;&#12375;&#12390;&#12459;&#12540;&#12493;&#12523;&#12514;&#12472;&#12517;&#12540;&#12523;&#12434;
			&#12525;&#12540;&#12489;&#12375;&#12390;&#12418;&#12424;&#12367;&#12289;&#12414;&#12383;&#12289;(<code class="filename">/etc/modules</code>&#12395;&#36861;&#21152;
			&#12377;&#12427;&#12371;&#12392;&#12395;&#12424;&#12387;&#12390;)&#36215;&#21205;&#26178;&#12395;&#12525;&#12540;&#12489;&#12377;&#12427;&#12424;&#12358;&#12395;&#12289;reboot&#12375;&#12390;&#12418;&#33391;&#12356;&#12290;
			</p></li><li class="listitem"><p>
<a class="indexterm" name="id2672187"></a>
			<code class="literal">pvcreate /dev/hdb1</code>&#12391;&#29289;&#29702;&#12508;&#12522;&#12517;&#12540;&#12512;&#12434;&#20316;&#25104;&#12377;&#12427;&#12290;
			</p></li><li class="listitem"><p>
<a class="indexterm" name="id2672205"></a>
<a class="indexterm" name="id2672212"></a>
			<code class="literal">vgcreate shadowvol /dev/hdb1</code>&#12391;&#12508;&#12522;&#12517;&#12540;&#12512;&#12464;&#12523;&#12540;&#12503;&#12434;&#20316;&#25104;&#12375;&#12289;/dev/hda1&#12395;&#36861;&#21152;&#12377;&#12427;&#12290;
			</p><p>
<a class="indexterm" name="id2672229"></a>
			<code class="literal">vgdisplay</code>&#12434;&#20351;&#12387;&#12390;&#12508;&#12522;&#12517;&#12540;&#12512;&#12464;&#12523;&#12540;&#12503;&#12395;&#12388;&#12356;&#12390;&#12398;&#24773;&#22577;&#12434;&#35211;&#12427;&#20107;&#12364;&#12391;&#12365;&#12427;&#12290;
			</p></li><li class="listitem"><p>
<a class="indexterm" name="id2672248"></a>
			&#12371;&#12398;&#26178;&#28857;&#12391;<code class="literal">lvcreate -L400M -nsh_test shadowvol</code>&#12398;&#12424;&#12358;&#12395;&#12375;&#12390;&#12289;&#35542;&#29702;&#12508;&#12522;&#12517;&#12540;&#12512;&#12434;&#20316;&#25104;&#12391;&#12365;&#12427;&#12290;
			</p><p>
<a class="indexterm" name="id2672266"></a>
			&#12371;&#12428;&#12399;&#12289;shadowvol&#12392;&#12375;&#12390;&#20316;&#25104;&#12375;&#12383;&#12508;&#12522;&#12517;&#12540;&#12512;&#12464;&#12523;&#12540;&#12503;&#20869;&#12395;&#12289;400MB&#12398;&#12289;
			"sh_test"&#12392;&#12356;&#12358;&#35542;&#29702;&#12508;&#12522;&#12517;&#12540;&#12512;&#12434;&#20316;&#25104;&#12377;&#12427;&#12290;&#12377;&#12409;&#12390;&#12364;&#12358;&#12414;&#12367;&#12356;&#12367;&#12392;&#12289;
			<code class="filename">/dev/shadowvol</code>&#20013;&#12395;&#12381;&#12428;&#12425;&#12434;&#35211;&#12427;&#20107;&#12364;&#12391;&#12365;&#12427;&#12290;
			</p></li><li class="listitem"><p>
<a class="indexterm" name="id2672290"></a>
			&#12371;&#12398;&#26178;&#28857;&#12391;sh_test&#12392;&#12356;&#12358;&#35542;&#29702;&#12508;&#12522;&#12517;&#12540;&#12512;&#12434;
			<code class="literal">mkfs.xfs /dev/shadowvol/sh_test</code>
			&#12392;&#12356;&#12358;&#12467;&#12510;&#12531;&#12489;&#12391;&#12501;&#12457;&#12540;&#12510;&#12483;&#12488;&#12391;&#12365;&#12427;&#28310;&#20633;&#12364;&#20986;&#26469;&#12383;&#12290;
			</p><p>
<a class="indexterm" name="id2672312"></a>
<a class="indexterm" name="id2672319"></a>
<a class="indexterm" name="id2672325"></a>
<a class="indexterm" name="id2672332"></a>
<a class="indexterm" name="id2672339"></a>
			&#36984;&#25246;&#12375;&#12383;&#20219;&#24847;&#12398;&#12501;&#12449;&#12452;&#12523;&#12471;&#12473;&#12486;&#12512;&#12391;&#35542;&#29702;&#12508;&#12522;&#12517;&#12540;&#12512;&#12434;&#12501;&#12457;&#12540;&#12510;&#12483;&#12488;
			&#12391;&#12365;&#12427;&#12364;&#12289;&#12501;&#12449;&#12452;&#12523;&#12471;&#12473;&#12486;&#12512;&#12398;&#12501;&#12522;&#12540;&#12474;&#12289;&#12522;&#12469;&#12452;&#12474;&#12420;&#25313;&#24373;&#12398;&#12424;&#12358;&#12394;
			LVM&#12398;&#20415;&#21033;&#12394;&#36861;&#21152;&#27231;&#33021;&#12434;&#20351;&#12360;&#12427;&#12424;&#12358;&#12395;&#12375;&#12390;&#12362;&#12367;&#12371;&#12392;&#12290;
			</p><p>
<a class="indexterm" name="id2672358"></a>
<a class="indexterm" name="id2672365"></a>
<a class="indexterm" name="id2672372"></a>
			&#12371;&#12428;&#12391;&#12289;&#12471;&#12515;&#12489;&#12540;&#12467;&#12500;&#12540;VFS&#12514;&#12472;&#12517;&#12540;&#12523;&#12434;&#20351;&#12360;&#12427;LVM&#12508;&#12522;&#12517;&#12540;&#12512;&#12364;
			&#28310;&#20633;&#12391;&#12365;&#12383;&#12290;
			</p></li><li class="listitem"><p>
<a class="indexterm" name="id2672388"></a>
<a class="indexterm" name="id2672394"></a>
<a class="indexterm" name="id2672401"></a>
			&#20197;&#19979;&#12398;&#12424;&#12358;&#12395;&#12375;&#12390;&#12487;&#12451;&#12524;&#12463;&#12488;&#12522;&#12434;&#28310;&#20633;&#12377;&#12427;&#24517;&#35201;&#12364;&#12354;&#12427;&#12290;
Now we need to prepare the directory with something like
</p><pre class="screen">
<code class="prompt">root# </code> mkdir -p /data/shadow_share
</pre><p>
			&#12354;&#12427;&#12356;&#12399;&#12289;&#12471;&#12515;&#12489;&#12540;&#12467;&#12500;&#12540;&#12364;&#26377;&#21177;&#12395;&#12394;&#12387;&#12383;Samba&#20849;&#26377;&#12398;&#24076;&#26395;&#12377;&#12427;&#21517;&#21069;&#12434;
			&#25351;&#23450;&#12377;&#12427;&#12290;&#12381;&#12398;&#19978;&#12391;&#20351;&#12360;&#12427;&#12424;&#12358;&#12395;&#12289;&#12497;&#12540;&#12511;&#12483;&#12471;&#12519;&#12531;&#12398;&#35373;&#23450;&#12434;&#12365;&#12385;&#12435;&#12392;
			&#34892;&#12358;&#20107;&#12290;&#12418;&#12375;&#12418;&#12289;&#12431;&#12363;&#12425;&#12394;&#12369;&#12428;&#12400;&#12289;
			<code class="literal">chmod 777 /data/shadow_share</code>&#12434;&#20351;&#12356;&#12289;&#12358;&#12414;&#12367;
			&#21205;&#12356;&#12390;&#12363;&#12425;&#12497;&#12540;&#12511;&#12483;&#12471;&#12519;&#12531;&#12434;&#12365;&#12388;&#12367;&#12377;&#12427;&#12290;
			</p></li><li class="listitem"><p>
<a class="indexterm" name="id2672445"></a>
			<code class="literal">mount /dev/shadowvol/sh_test /data/shadow_share</code>
			&#12398;&#12424;&#12358;&#12395;&#12375;&#12390;LVM&#12508;&#12522;&#12517;&#12540;&#12512;&#12434;&#12510;&#12454;&#12531;&#12488;&#12377;&#12427;&#12290;
			</p><p>
<a class="indexterm" name="id2672464"></a>
			&#12471;&#12473;&#12486;&#12512;&#36215;&#21205;&#26178;&#12395;&#12371;&#12398;&#12497;&#12540;&#12486;&#12451;&#12471;&#12519;&#12531;&#12434;&#12510;&#12454;&#12531;&#12488;&#12391;&#12365;&#12427;&#12424;&#12358;&#12289;
			<code class="filename">/etc/fstab</code>&#12434;&#32232;&#38598;&#12375;&#12390;&#12418;&#33391;&#12356;&#12290;
			</p></li></ul></div></li><li class="listitem"><p title="&#12471;&#12515;&#12489;&#12540;&#12467;&#12500;&#12540;VFS&#12514;&#12472;&#12517;&#12540;&#12523;&#12398;&#12452;&#12531;&#12473;&#12488;&#12540;&#12523;&#12392;&#35373;&#23450;"><b>&#12471;&#12515;&#12489;&#12540;&#12467;&#12500;&#12540;VFS&#12514;&#12472;&#12517;&#12540;&#12523;&#12398;&#12452;&#12531;&#12473;&#12488;&#12540;&#12523;&#12392;&#35373;&#23450;. </b>
		&#26368;&#24460;&#12395;&#23455;&#38555;&#12398;&#12471;&#12515;&#12489;&#12540;&#12467;&#12500;&#12540;VFS&#12514;&#12472;&#12517;&#12540;&#12523;&#12434;&#35373;&#23450;&#12377;&#12427;&#12290;&#12471;&#12515;&#12489;&#12540;&#12467;&#12500;&#12540;VFS
		&#12514;&#12472;&#12517;&#12540;&#12523;&#12399;Samba 3.0.3&#20197;&#38477;&#12391;&#26377;&#21177;&#12391;&#12354;&#12427;&#12290;smb.conf&#12398;&#35373;&#23450;&#12399;&#12392;&#12390;&#12418;&#27161;&#28310;&#30340;
		&#12391;&#12354;&#12427;&#12290;&#20197;&#19979;&#12399;&#12471;&#12515;&#12489;&#12540;&#12467;&#12500;&#12540;VFS&#12514;&#12472;&#12517;&#12540;&#12523;&#12434;&#20351;&#12358;&#20849;&#26377;&#23450;&#32681;&#12398;&#20363;&#12391;&#12354;&#12427;:
		</p><div class="example"><a name="vfsshadow"></a><p class="title"><b>Example 23.3. &#12471;&#12515;&#12489;&#12540;&#12467;&#12500;&#12540;VFS&#12434;&#20351;&#12358;&#20849;&#26377;</b></p><div class="example-contents"><table border="0" summary="Simple list" class="simplelist"><tr><td> </td></tr><tr><td><em class="parameter"><code>[shadow_share]</code></em></td></tr><tr><td><a class="indexterm" name="id2672529"></a><em class="parameter"><code>comment = Shadow Copy Enabled Share</code></em></td></tr><tr><td><a class="indexterm" name="id2672541"></a><em class="parameter"><code>path = /data/shadow_share</code></em></td></tr><tr><td><a class="indexterm" name="id2672553"></a><em class="parameter"><code>vfs objects = shadow_copy</code></em></td></tr><tr><td><a class="indexterm" name="id2672564"></a><em class="parameter"><code>writeable = yes</code></em></td></tr><tr><td><a class="indexterm" name="id2672576"></a><em class="parameter"><code>browseable = yes</code></em></td></tr></table></div></div><br class="example-break"></li><li class="listitem"><p title="&#12473;&#12490;&#12483;&#12503;&#12471;&#12519;&#12483;&#12488;&#12398;&#20316;&#25104;&#12392;&#12471;&#12515;&#12489;&#12540;&#12467;&#12500;&#12540;&#12392;&#12375;&#12390;&#12398;&#26377;&#21177;&#21270;"><b>&#12473;&#12490;&#12483;&#12503;&#12471;&#12519;&#12483;&#12488;&#12398;&#20316;&#25104;&#12392;&#12471;&#12515;&#12489;&#12540;&#12467;&#12500;&#12540;&#12392;&#12375;&#12390;&#12398;&#26377;&#21177;&#21270;. </b>
<a class="indexterm" name="id2672600"></a>
<a class="indexterm" name="id2672607"></a>
<a class="indexterm" name="id2672614"></a>
		&#12471;&#12515;&#12489;&#12540;&#12467;&#12500;&#12540;&#12434;&#38322;&#35239;&#12391;&#12365;&#12427;&#21069;&#12395;&#12289;&#12381;&#12428;&#12434;&#20316;&#25104;&#12375;&#12390;&#12510;&#12454;&#12531;&#12488;&#12377;&#12427;&#24517;&#35201;&#12364;&#12354;&#12427;&#12290;
		&#12371;&#12428;&#12399;&#12289;cron&#12472;&#12519;&#12502;&#12392;&#12375;&#12390;&#21205;&#20316;&#12377;&#12427;&#12473;&#12463;&#12522;&#12503;&#12488;&#12391;&#34892;&#12358;&#12398;&#12364;&#26368;&#12418;&#33391;&#12356;&#12290;&#12371;&#12398;&#29305;&#23450;&#12398;
		&#35299;&#27770;&#26041;&#27861;&#12395;&#12289;LVM&#12473;&#12490;&#12483;&#12503;&#12471;&#12519;&#12483;&#12488;&#12434;&#38322;&#35239;&#12377;&#12427;&#12398;&#12395;&#12471;&#12515;&#12489;&#12540;&#12467;&#12500;&#12540;VFS&#12514;&#12472;&#12517;&#12540;&#12523;&#12364;
		&#20351;&#12360;&#12427;&#12290;&#12371;&#12428;&#12425;&#12398;&#12473;&#12490;&#12483;&#12503;&#12471;&#12519;&#12483;&#12488;&#12399;&#12514;&#12472;&#12517;&#12540;&#12523;&#12395;&#12424;&#12387;&#12390;&#12399;&#20316;&#25104;&#12373;&#12428;&#12394;&#12356;&#12290;&#12414;&#12383;&#12289;
		&#12514;&#12472;&#12517;&#12540;&#12523;&#12395;&#12424;&#12387;&#12390;&#26377;&#21177;&#21270;&#12418;&#12373;&#12428;&#12394;&#12356;&#12290;&#12371;&#12398;&#12514;&#12472;&#12517;&#12540;&#12523;&#12399;&#12289;&#26377;&#21177;&#12395;&#12394;&#12387;&#12383;&#12473;&#12490;&#12483;&#12503;
		&#12471;&#12519;&#12483;&#12488;&#12434;&#38322;&#35239;&#12377;&#12427;&#20107;&#12434;&#12289;&#12471;&#12515;&#12489;&#12540;&#12467;&#12500;&#12540;&#12364;&#26377;&#21177;&#12395;&#12394;&#12387;&#12383;&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#12395;&#23550;&#12375;&#12390;
		&#34892;&#12358;&#12290;
		</p><p>
		&#20197;&#19979;&#12399;&#12473;&#12490;&#12483;&#12503;&#12471;&#12519;&#12483;&#12488;&#12398;&#20316;&#25104;&#12392;&#12510;&#12454;&#12531;&#12488;&#12434;&#34892;&#12358;&#21336;&#32020;&#12394;&#12473;&#12463;&#12522;&#12503;&#12488;&#12391;&#12354;&#12427;:
</p><pre class="screen">
#!/bin/bash
# This is a test, this is only a test
SNAPNAME=`date +%Y.%m.%d-%H.%M.%S`
xfs_freeze -f /data/shadow_share/
lvcreate -L10M -s -n $SNAPNAME /dev/shadowvol/sh_test
xfs_freeze -u /data/shadow_share/
mkdir /data/shadow_share/@GMT-$SNAPNAME
mount /dev/shadowvol/$SNAPNAME \
       /data/shadow_share/@GMT-$SNAPNAME -onouuid,ro
</pre><p>
		&#12371;&#12398;&#12473;&#12463;&#12522;&#12503;&#12488;&#12399;&#12522;&#12502;&#12540;&#12488;&#26178;&#12395;&#12473;&#12490;&#12483;&#12503;&#12471;&#12519;&#12483;&#12488;&#12398;&#20877;&#12510;&#12454;&#12531;&#12488;&#12398;&#12424;&#12358;&#12394;&#20107;&#12399;&#25201;&#12431;&#12394;&#12356;&#12371;&#12392;&#12395;&#27880;&#24847;&#12290;
	    </p></li><li class="listitem"><p title="&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#12363;&#12425;&#12398;&#12486;&#12473;&#12488;"><b>&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#12363;&#12425;&#12398;&#12486;&#12473;&#12488;. </b>
		&#12486;&#12473;&#12488;&#12398;&#12383;&#12417;&#12395;&#12289;
		<a class="ulink" href="http://technet.microsoft.com/ja-jp/windowsserver/bb405951.aspx" target="_top">Microsoft&#12398;Web&#12469;&#12452;&#12488;</a>
		&#12363;&#12425;&#12471;&#12515;&#12489;&#12540;&#12467;&#12500;&#12540;&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#12434;&#20837;&#25163;&#12375;&#12289;&#12452;&#12531;&#12473;&#12488;&#12540;&#12523;&#12377;&#12427;&#24517;&#35201;&#12364;&#12354;&#12427;
		(&#35379;&#27880;:URL&#12399;&#26085;&#26412;&#35486;&#29256;&#12395;&#24046;&#12375;&#26367;&#12360;&#28168;&#12415;)&#12290;&#12371;&#12428;&#12399;XP&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#12391;&#12398;&#12415;&#12486;&#12473;&#12488;&#12375;&#12390;
		&#12356;&#12427;&#12398;&#12391;&#12289;&#20182;&#12398;XP&#20197;&#21069;&#12398;&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#12391;&#12399;&#32080;&#26524;&#12364;&#30064;&#12394;&#12427;&#21487;&#33021;&#24615;&#12364;&#12354;&#12427;&#12290;&#19968;&#24230;
		XP&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#12395;&#12452;&#12531;&#12473;&#12488;&#12540;&#12523;&#24460;&#12289;&#25351;&#23450;&#12375;&#12383;&#12501;&#12449;&#12452;&#12523;&#12363;shadow_share&#12398;
		&#31354;&#30333;&#37096;&#20998;&#12391;&#21491;&#12463;&#12522;&#12483;&#12463;&#12377;&#12427;&#12392;&#12289;"&#12503;&#12525;&#12497;&#12486;&#12451;"&#12364;&#34920;&#31034;&#12373;&#12428;&#12427;&#12290;&#20309;&#12363;&#22793;&#26356;&#12364;&#12354;&#12427;&#12392;&#12289;
		&#12503;&#12525;&#12497;&#12486;&#12451;&#12454;&#12451;&#12531;&#12489;&#12454;&#12398;&#20013;&#12395;"&#20197;&#21069;&#12398;&#12496;&#12540;&#12472;&#12519;&#12531;"&#12364;&#34920;&#31034;&#12373;&#12428;&#12427;&#12290;
		</p></li></ol></div></div></div></div><div class="sect1" title="&#20182;&#12391;&#20837;&#25163;&#21487;&#33021;&#12394;VFS&#12514;&#12472;&#12517;&#12540;&#12523;"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id2672703"></a>&#20182;&#12391;&#20837;&#25163;&#21487;&#33021;&#12394;VFS&#12514;&#12472;&#12517;&#12540;&#12523;</h2></div></div></div><p>
<a class="indexterm" name="id2672711"></a>
&#12371;&#12398;&#31680;&#12391;&#12399;&#12289;&#25237;&#31295;&#12373;&#12428;&#12390;&#12399;&#12356;&#12427;&#12364;&#12289;SambaCVS&#12484;&#12522;&#12540;(&#35379;&#27880;:&#29694;&#22312;&#12399;git)&#12395;&#12399;&#20309;&#12425;&#12363;&#12398;&#29702;&#30001;(&#20363;&#12360;&#12400;&#12289;
&#31649;&#29702;&#32773;&#12364;&#29420;&#33258;&#12398;CVS&#12484;&#12522;&#12540;&#12434;&#25345;&#12388;&#26041;&#12364;&#31649;&#29702;&#12375;&#12420;&#12377;&#12356;&#12394;&#12393;&#12398;&#29702;&#30001;)&#12391;&#12289;&#29694;&#34892;&#12398;&#12418;&#12398;&#12395;&#12399;&#21547;&#12414;&#12428;&#12394;&#12356;&#12289;
&#21508;&#31278;&#12398;VFS&#12514;&#12472;&#12517;&#12540;&#12523;&#12434;&#32057;&#20171;&#12377;&#12427;&#12290;
</p><p>
&#12371;&#12371;&#12391;&#35328;&#21450;&#12375;&#12383;&#12363;&#12425;&#12392;&#35328;&#12387;&#12390;&#12289;&#12381;&#12398;&#12514;&#12472;&#12517;&#12540;&#12523;&#12398;&#23433;&#23450;&#24615;&#12420;&#27231;&#33021;&#24615;&#12398;&#33391;&#12375;&#24746;&#12375;&#12434;&#31034;&#21766;&#12375;&#12383;&#12392;&#12399;&#35299;&#37320;&#12375;&#12394;&#12356;&#12371;&#12392;&#12290;
</p><div class="sect2" title="DatabaseFS"><div class="titlepage"><div><div><h3 class="title"><a name="id2672738"></a>DatabaseFS</h3></div></div></div><p>
<a class="indexterm" name="id2672746"></a>
URL: <a class="ulink" href="http://www.css.tayloru.edu/~elorimer/databasefs/index.php" target="_top">
Taylors University DatabaeFS</a>
</p><p>By <a class="ulink" href="mailto:elorimer@css.tayloru.edu" target="_top">Eric Lorimer.</a></p><p>
&#31169;&#12399;&#12289;&#12363;&#12394;&#12426;&#23436;&#25104;&#12373;&#12428;&#12383;&#35501;&#12415;&#36796;&#12415;&#23554;&#29992;&#12398;&#12501;&#12449;&#12452;&#12523;&#12471;&#12473;&#12486;&#12512;&#12434;&#23455;&#29694;&#12377;&#12427; VFS &#12514;&#12472;&#12517;&#12540;&#12523;&#12434;&#20316;&#25104;&#12375;&#12383;&#12290;
&#12371;&#12428;&#12399;&#12289;&#30064;&#12394;&#12427;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12434;&#20351;&#29992;&#12377;&#12427;&#12383;&#12417;&#12398;&#12289;&#12514;&#12472;&#12517;&#12540;&#12523;&#24335;&#12354;&#12427;&#12356;&#12399;&#19968;&#33324;&#30340;&#12394;&#26041;&#24335;&#12398;&#12501;&#12449;&#12452;&#12523;
&#12471;&#12473;&#12486;&#12512;&#12392;&#12375;&#12390;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12363;&#12425;&#12398;&#24773;&#22577;&#12434;&#34920;&#31034;&#12377;&#12427;(&#20803;&#12293;&#12399;&#12289;<span class="quote">&#8220;<span class="quote">&#12450;&#12540;&#12486;&#12451;&#12473;&#12488;</span>&#8221;</span>&#12420;
<span class="quote">&#8220;<span class="quote">&#27468;&#35422;</span>&#8221;</span>&#12392;&#12356;&#12387;&#12383;&#12487;&#12451;&#12524;&#12463;&#12488;&#12522;&#12391;MP3&#12501;&#12449;&#12452;&#12523;&#12434;&#25972;&#29702;&#12377;&#12427;&#12383;&#12417;&#12395;&#35373;&#35336;&#12373;&#12428;&#12383;&#12418;&#12398;&#12391;
&#12354;&#12427;&#12290;&#12371;&#12428;&#12434;&#31169;&#12399;&#12289;&#23398;&#29983;&#21517;&#31807;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12395;&#24540;&#29992;&#12375;&#12383;)&#12290;&#12487;&#12451;&#12524;&#12463;&#12488;&#12522;&#27083;&#36896;&#12399;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#33258;&#36523;&#12395;
&#20445;&#23384;&#12373;&#12428;&#12390;&#12362;&#12426;&#12289;&#12381;&#12398;&#34920;&#12434;&#30906;&#35469;&#12377;&#12427;&#12503;&#12525;&#12464;&#12521;&#12512;&#12364;&#36208;&#12426;&#12414;&#12377;&#12364;&#12289;&#12381;&#12428;&#20197;&#22806;&#12395;&#12289;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#27083;&#36896;&#12395;
&#38306;&#12375;&#12390;&#20309;&#12425;&#12363;&#12398;&#25512;&#23450;&#12434;&#12377;&#12427;&#12371;&#12392;&#12399;&#12375;&#12394;&#12356;&#12290;
</p><p>
&#12501;&#12451;&#12540;&#12489;&#12496;&#12483;&#12463;&#12434;&#27475;&#36814;&#12377;&#12427;&#12290;&#12467;&#12513;&#12531;&#12488;&#12289;&#25552;&#26696;&#12289;&#12497;&#12483;&#12481;&#12289;&#12381;&#12398;&#20182;&#20309;&#12391;&#12418;&#36865;&#12387;&#12390;&#12411;&#12375;&#12356;&#12290;&#20182;&#12395;&#20309;&#12398;
&#24441;&#12395;&#12418;&#31435;&#12383;&#12394;&#12367;&#12390;&#12418;&#12289;&#26368;&#20302;&#12289;&#35504;&#12363;&#12364;&#20206;&#24819;&#12501;&#12449;&#12452;&#12523;&#12471;&#12473;&#12486;&#12512;&#12434;&#20316;&#25104;&#12375;&#12383;&#12356;&#22580;&#21512;&#12395;&#24441;&#12395;&#31435;&#12388;&#12371;&#12392;&#12434;
&#39000;&#12387;&#12390;&#12356;&#12427;&#12290;
</p></div><div class="sect2" title="vscan"><div class="titlepage"><div><div><h3 class="title"><a name="id2672820"></a>vscan</h3></div></div></div><a class="indexterm" name="id2672825"></a><p>URL: <a class="ulink" href="http://www.openantivirus.org/projects.php#samba-vscan" target="_top">
Open Anti-Virus vscan</a>
</p><p>
<a class="indexterm" name="id2672846"></a>
Samba-vscan &#12399;&#12289;Samba&#12364;&#20351;&#12358;&#20849;&#26377;&#21270;&#12398;&#12501;&#12449;&#12452;&#12523;&#12398;&#12383;&#12417;&#12398;&#12289;&#12458;&#12531;&#12450;&#12463;&#12475;&#12473;&#12450;&#12531;&#12481;&#12454;&#12451;&#12523;&#12473;&#27231;&#33021;&#12434;&#25552;&#20379;&#12377;&#12427;&#12289;
&#12467;&#12531;&#12475;&#12503;&#12488;&#23455;&#35388;(POC)&#12514;&#12472;&#12517;&#12540;&#12523;&#12391;&#12354;&#12427;&#12290;samba-vscan &#12399;&#12289;&#21508;&#31278;&#12398;&#12454;&#12451;&#12523;&#12473;&#12539;&#12473;&#12461;&#12515;&#12490;&#12540;&#12434;&#12469;&#12509;&#12540;&#12488;&#12375;&#12289;
Rainer Link&#12364;&#12513;&#12531;&#12486;&#12490;&#12531;&#12473;&#12434;&#34892;&#12387;&#12390;&#12356;&#12427;&#12290;
</p></div><div class="sect2" title="vscan-clamav"><div class="titlepage"><div><div><h3 class="title"><a name="id2672866"></a>vscan-clamav</h3></div></div></div><p>
Samba&#12518;&#12540;&#12470;&#12399;&#20309;&#12398;&#21839;&#38988;&#12418;&#12394;&#12367;SerNet&#12363;&#12425;&#12398;RPM&#12434;&#20351;&#12387;&#12390;&#12356;&#12427;&#12290;OpenLDAP Linux&#12518;&#12540;&#12470;&#12418;
&#12392;&#12390;&#12418;&#33391;&#12356;&#32080;&#26524;&#12364;&#24471;&#12425;&#12428;&#12427;vscan&#12473;&#12461;&#12515;&#12490;&#12434;&#20351;&#12387;&#12390;&#12356;&#12427;&#12290;&#12371;&#12428;&#12399;&#20840;&#20307;&#12434;&#36890;&#12375;&#12390;&#26360;&#12365;&#36796;&#12415;&#12398;
&#12497;&#12501;&#12457;&#12540;&#12510;&#12531;&#12473;&#12395;&#24433;&#38911;&#12364;&#12354;&#12427;&#12290;
</p><p>
&#20197;&#19979;&#12398;&#12424;&#12358;&#12394;&#20849;&#26377;&#12475;&#12463;&#12471;&#12519;&#12531;&#12399;vscan-clamav&#12434;&#35373;&#23450;&#12375;&#12383;&#12356;&#20154;&#12398;&#12383;&#12417;&#12398;&#33391;&#12356;&#12460;&#12452;&#12489;&#12391;&#12354;&#12427;:
</p><pre class="screen">
[share]
vfs objects = vscan-clamav
vscan-clamav: config-file = /etc/samba/vscan-clamav.conf
</pre><p>
&#20197;&#19979;&#12398;<code class="filename">vscan-clamav.conf</code>&#12501;&#12449;&#12452;&#12523;&#12398;&#20363;&#12399;&#12289;&#23436;&#20840;&#12395;&#21205;&#20316;&#21487;&#33021;&#12394;&#12418;&#12398;&#12398;
&#25163;&#21161;&#12369;&#12395;&#12394;&#12427;&#12363;&#12418;&#12375;&#12428;&#12394;&#12356;:
</p><pre class="screen">
<span style="color: red">&lt;title&gt;VFS: Vscan ClamAV&#21046;&#24481;&#12501;&#12449;&#12452;&#12523;&lt;/title&gt;</span>
#
# /etc/samba/vscan-clamav.conf
#

[samba-vscan]
; run-time configuration for vscan-samba using
; clamd
; all options are set to default values

; do not scan files larger than X bytes. If set to 0 (default),
; this feature is disable (i.e. all files are scanned)
max file size = 10485760

; log all file access (yes/no). If set to yes, every access will
; be logged. If set to no (default), only access to infected files
; will be logged
verbose file logging = no

; if set to yes (default), a file will be scanned while opening
scan on open = yes
; if set to yes, a file will be scanned while closing (default is yes)
scan on close = yes

; if communication to clamd fails, should access to file denied?
; (default: yes)
deny access on error = no

; if daemon failes with a minor error (corruption, etc.),
; should access to file denied?
; (default: yes)
deny access on minor error = no

; send a warning message via Windows Messenger service
; when virus is found?
; (default: yes)
send warning message = yes

; what to do with an infected file
; quarantine: try to move to quantine directory
; delete:     delete infected file
; nothing:    do nothing (default)
infected file action = quarantine

; where to put infected files - you really want to change this!
quarantine directory  = /opt/clamav/quarantine
; prefix for files in quarantine
quarantine prefix = vir-

; as Windows tries to open a file multiple time in a (very) short time
; of period, samba-vscan use a last recently used file mechanism to avoid
; multiple scans of a file. This setting specified the maximum number of
; elements of the last recently used file list. (default: 100)
max lru files entries = 100

; an entry is invalidad after lru file entry lifetime (in seconds).
; (Default: 5)
lru file entry lifetime = 5

; exclude files from being scanned based on the MIME-type! Semi-colon
; seperated list (default: empty list). Use this with care!
exclude file types =

; socket name of clamd (default: /var/run/clamd). Setting will be ignored if
; libclamav is used
clamd socket name = /tmp/clamd

; limits, if vscan-clamav was build for using the clamav library (libclamav)
; instead of clamd

; maximum number of files in archive (default: 1000)
libclamav max files in archive = 1000

; maximum archived file size, in bytes (default: 10 MB)
libclamav max archived file size = 5242880

; maximum recursion level (default: 5)
libclamav max recursion level = 5
</pre><p>
&#12418;&#12385;&#12429;&#12435;&#12289;&#12371;&#12428;&#12434;&#21205;&#20316;&#12373;&#12379;&#12427;&#12383;&#12417;&#12395;clam&#12487;&#12540;&#12514;&#12531;&#12434;&#36208;&#12425;&#12379;&#12427;&#12371;&#12392;&#12399;&#24517;&#35201;&#12391;&#12354;&#12427;&#12290;&#12371;&#12428;&#12399;ClamAV&#12434;
&#20351;&#12358;&#12383;&#12417;&#12398;&#21205;&#20316;&#20363;&#12391;&#12354;&#12427;&#12290;ClamAV&#12398;&#35500;&#26126;&#12395;&#12399;&#36861;&#21152;&#12398;&#35373;&#23450;&#20363;&#12364;&#25552;&#20379;&#12373;&#12428;&#12390;&#12356;&#12427;&#12290;&#12381;&#12428;&#12399;&#12289;&#12471;&#12473;&#12486;&#12512;
&#20869;&#12398;<code class="filename">/usr/share/doc/</code>&#12487;&#12451;&#12524;&#12463;&#12488;&#12522;&#37197;&#19979;&#12395;&#37197;&#32622;&#12373;&#12428;&#12390;&#12356;&#12427;&#12290;&#12356;&#12367;&#12388;&#12363;&#12398;&#20363;&#12399;
&#20182;&#12398;&#20351;&#29992;&#21487;&#33021;&#12394;&#12454;&#12451;&#12523;&#12473;&#12473;&#12461;&#12515;&#12490;&#12434;&#12479;&#12540;&#12466;&#12483;&#12488;&#12395;&#12418;&#12375;&#12390;&#12356;&#12427;&#12290;
</p></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="CUPS-printing.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="optional.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="winbind.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter 22. CUPS&#21360;&#21047;&#29872;&#22659;&#12398;&#12469;&#12509;&#12540;&#12488; </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Chapter 24. Winbind: &#12489;&#12513;&#12452;&#12531;&#12450;&#12459;&#12454;&#12531;&#12488;&#12398;&#20351;&#29992;</td></tr></table></div></body></html>
