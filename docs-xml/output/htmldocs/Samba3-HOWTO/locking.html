<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Chapter 17. &#12501;&#12449;&#12452;&#12523;&#12392;&#12524;&#12467;&#12540;&#12489;&#12398;&#12525;&#12483;&#12461;&#12531;&#12464;</title><link rel="stylesheet" href="../samba.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.75.2"><link rel="home" href="index.html" title="&#20844;&#24335;&#12398;Samba 3.2.x HOWTO&#12392;&#12522;&#12501;&#12449;&#12524;&#12531;&#12473;&#12460;&#12452;&#12489;"><link rel="up" href="optional.html" title="Part III. &#35443;&#32048;&#12394;&#35373;&#23450;&#26041;&#27861;"><link rel="prev" href="AccessControls.html" title="Chapter 16. &#12501;&#12449;&#12452;&#12523;&#12289;&#12487;&#12451;&#12524;&#12463;&#12488;&#12522;&#12392;&#20849;&#26377;&#12398;&#12450;&#12463;&#12475;&#12473;&#21046;&#24481;"><link rel="next" href="securing-samba.html" title="Chapter 18. Securing Samba"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Chapter 17. &#12501;&#12449;&#12452;&#12523;&#12392;&#12524;&#12467;&#12540;&#12489;&#12398;&#12525;&#12483;&#12461;&#12531;&#12464;</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="AccessControls.html">Prev</a> </td><th width="60%" align="center">Part III. &#35443;&#32048;&#12394;&#35373;&#23450;&#26041;&#27861;</th><td width="20%" align="right"> <a accesskey="n" href="securing-samba.html">Next</a></td></tr></table><hr></div><div class="chapter" title="Chapter 17. &#12501;&#12449;&#12452;&#12523;&#12392;&#12524;&#12467;&#12540;&#12489;&#12398;&#12525;&#12483;&#12461;&#12531;&#12464;"><div class="titlepage"><div><div><h2 class="title"><a name="locking"></a>Chapter 17. &#12501;&#12449;&#12452;&#12523;&#12392;&#12524;&#12467;&#12540;&#12489;&#12398;&#12525;&#12483;&#12461;&#12531;&#12464;</h2></div><div><div class="author"><h3 class="author"><span class="firstname">Jeremy</span> <span class="surname">Allison</span></h3><div class="affiliation"><span class="orgname">Samba Team<br></span><div class="address"><p><code class="email">&lt;<a class="email" href="mailto:jra@samba.org">jra@samba.org</a>&gt;</code></p></div></div></div></div><div><div class="author"><h3 class="author"><span class="firstname">Jelmer</span> <span class="othername">R.</span> <span class="surname">Vernooij</span></h3><div class="affiliation"><span class="orgname">The Samba Team<br></span><div class="address"><p><code class="email">&lt;<a class="email" href="mailto:jelmer@samba.org">jelmer@samba.org</a>&gt;</code></p></div></div></div></div><div><div class="author"><h3 class="author"><span class="firstname">John</span> <span class="othername">H.</span> <span class="surname">Terpstra</span></h3><div class="affiliation"><span class="orgname">Samba Team<br></span><div class="address"><p><code class="email">&lt;<a class="email" href="mailto:jht@samba.org">jht@samba.org</a>&gt;</code></p></div></div></div></div><div><div class="author"><h3 class="author"><span class="firstname">Eric</span> <span class="surname">Roseme</span></h3><div class="affiliation"><span class="orgname">HP Oplocks Usage Recommendations Whitepaper<br></span><div class="address"><p><code class="email">&lt;<a class="email" href="mailto:eric.roseme@hp.com">eric.roseme@hp.com</a>&gt;</code></p></div></div></div></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="sect1"><a href="locking.html#id2629819">&#27231;&#33021;&#12392;&#21033;&#20415;&#24615;</a></span></dt><dt><span class="sect1"><a href="locking.html#id2629933">&#35696;&#35542;</a></span></dt><dd><dl><dt><span class="sect2"><a href="locking.html#id2630254">Opportunistic Locking&#12398;&#27010;&#35201;</a></span></dt></dl></dd><dt><span class="sect1"><a href="locking.html#id2631500">Samba&#12398;Oplocks&#21046;&#24481;</a></span></dt><dd><dl><dt><span class="sect2"><a href="locking.html#id2631688">&#35373;&#23450;&#20363;</a></span></dt></dl></dd><dt><span class="sect1"><a href="locking.html#id2632155">Microsoft Windows&#12398;oplocks&#12392;&#12461;&#12515;&#12483;&#12471;&#12517;&#21046;&#24481;</a></span></dt><dd><dl><dt><span class="sect2"><a href="locking.html#id2632452">&#12527;&#12540;&#12463;&#12473;&#12486;&#12540;&#12471;&#12519;&#12531;&#12469;&#12540;&#12499;&#12473;&#12398;&#12456;&#12531;&#12488;&#12522;</a></span></dt><dt><span class="sect2"><a href="locking.html#id2632481">&#12469;&#12540;&#12496;&#12469;&#12540;&#12499;&#12473;&#12398;&#12456;&#12531;&#12488;&#12522;</a></span></dt></dl></dd><dt><span class="sect1"><a href="locking.html#id2632576">&#25345;&#32154;&#30340;&#12394;&#12487;&#12540;&#12479;&#30772;&#22730;</a></span></dt><dt><span class="sect1"><a href="locking.html#id2632625">&#12424;&#12367;&#12354;&#12427;&#12456;&#12521;&#12540;</a></span></dt><dd><dl><dt><span class="sect2"><a href="locking.html#id2632725">locking.tdb &#12398;&#12456;&#12521;&#12540;&#12513;&#12483;&#12475;&#12540;&#12472;</a></span></dt><dt><span class="sect2"><a href="locking.html#id2632764">Windows XP&#19978;&#12391;&#12398;Microsoft Office&#12501;&#12449;&#12452;&#12523;&#12475;&#12540;&#12502;&#26178;&#12398;&#21839;&#38988;</a></span></dt><dt><span class="sect2"><a href="locking.html#id2632792">XP SP1&#12391;&#12493;&#12483;&#12488;&#12527;&#12540;&#12463;&#32076;&#30001;&#12391;&#12501;&#12449;&#12452;&#12523;&#12434;&#28040;&#12377;&#12398;&#12395;&#38263;&#12356;&#26178;&#38291;&#12364;&#12363;&#12363;&#12427;</a></span></dt></dl></dd><dt><span class="sect1"><a href="locking.html#id2632830">&#21442;&#32771;&#25991;&#29486;</a></span></dt></dl></div><p>
<a class="indexterm" name="id2629804"></a>
&#22810;&#12367;&#12398;&#12493;&#12483;&#12488;&#12527;&#12540;&#12463;&#31649;&#29702;&#32773;&#12395;&#21839;&#38988;&#12434;&#30330;&#29983;&#12373;&#12379;&#12427;1&#12388;&#12398;&#38936;&#22495;&#12399;&#12525;&#12483;&#12461;&#12531;&#12464;&#12391;&#12354;&#12427;&#12290;
&#21839;&#38988;&#12398;&#31684;&#22258;&#12399;&#12452;&#12531;&#12479;&#12540;&#12493;&#12483;&#12488;&#19978;&#12391;&#26908;&#32034;&#12377;&#12427;&#12371;&#12392;&#12391;&#12377;&#12368;&#12395;&#12399;&#12387;&#12365;&#12426;&#12377;&#12427;&#12290;
</p><div class="sect1" title="&#27231;&#33021;&#12392;&#21033;&#20415;&#24615;"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id2629819"></a>&#27231;&#33021;&#12392;&#21033;&#20415;&#24615;</h2></div></div></div><p>
<a class="indexterm" name="id2629827"></a>
Samba&#12399;&#12289;Microsoft Windows NT4/200x&#12469;&#12540;&#12496;&#12418;&#25552;&#20379;&#12377;&#12427;&#12289;Microsoft Windows&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#12364;
&#26399;&#24453;&#12377;&#12427;&#12377;&#12409;&#12390;&#12398;&#12525;&#12483;&#12461;&#12531;&#12464;&#12398;&#12475;&#12510;&#12531;&#12486;&#12451;&#12463;&#12473;&#12434;&#25552;&#20379;&#12377;&#12427;&#12290;
</p><p>
<a class="indexterm" name="id2629844"></a>
<span class="emphasis"><em>&#12525;&#12483;&#12461;&#12531;&#12464;</em></span>&#12392;&#12356;&#12358;&#29992;&#35486;&#12399;&#12289;&#20006;&#22806;&#12428;&#12390;&#24195;&#12356;&#24847;&#21619;&#12434;&#25345;&#12385;&#12289;&#12371;&#12398;1&#12388;&#12398;&#29992;&#35486;&#12398;
&#37197;&#19979;&#12395;&#12377;&#12409;&#12390;&#12459;&#12486;&#12468;&#12521;&#12452;&#12474;&#12373;&#12428;&#12427;&#27231;&#33021;&#12398;&#31684;&#22258;&#12434;&#12459;&#12496;&#12540;&#12375;&#12390;&#12356;&#12427;&#12290;
</p><p>
<a class="indexterm" name="id2629860"></a>
<a class="indexterm" name="id2629868"></a>
<a class="indexterm" name="id2629874"></a>
Opportunistic locking&#12399;&#12493;&#12483;&#12488;&#12527;&#12540;&#12463;&#12391;&#32080;&#21512;&#12373;&#12428;&#12383;&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#19978;&#12391;&#12289;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12398;
&#35211;&#12363;&#12369;&#12398;&#24615;&#33021;&#12434;&#21521;&#19978;&#12373;&#12379;&#12427;&#12371;&#12392;&#12364;&#20986;&#26469;&#12427;&#22909;&#12414;&#12375;&#12356;&#27231;&#33021;&#12391;&#12354;&#12427;&#12290;&#12375;&#12363;&#12375;&#12289;opportunistic locking
&#12503;&#12525;&#12488;&#12467;&#12523;&#12399;&#38929;&#19976;&#12391;&#12399;&#12394;&#12367;&#12289;&#12381;&#12398;&#12383;&#12417;&#12289;&#26997;&#31471;&#12395;&#21336;&#32020;&#21270;&#12375;&#12383;&#35373;&#23450;&#12363;&#12289;&#24195;&#31684;&#22258;&#12398;&#36933;&#12367;&#12390;&#38556;&#23475;&#12398;&#22810;&#12356;
&#12493;&#12483;&#12488;&#12527;&#12540;&#12463;&#19978;&#12434;&#36229;&#12360;&#12390;&#36215;&#21205;&#12377;&#12427;&#12392;&#12365;&#12395;&#12289;&#21839;&#38988;&#12395;&#36973;&#36935;&#12377;&#12427;&#12290;&#12371;&#12398;&#22580;&#21512;&#12289;opportunistic locking
&#12398;OS&#12395;&#12424;&#12427;&#31649;&#29702;&#12363;&#12289;&#21453;&#24489;&#30340;&#12394;&#12456;&#12521;&#12540;&#12399;&#25552;&#20379;&#12377;&#12427;&#12371;&#12392;&#12434;&#24847;&#22259;&#12375;&#12383;&#32771;&#12360;&#12425;&#12428;&#12427;&#24615;&#33021;&#12398;&#21033;&#28857;&#12434;&#30456;&#27578;&#12377;&#12427;&#12290;
</p><p>
<a class="indexterm" name="id2629896"></a>
Microsoft Windows &#12493;&#12483;&#12488;&#12527;&#12540;&#12463;&#31649;&#29702;&#32773;&#12399;&#12289;&#12501;&#12449;&#12452;&#12523;&#12392;&#12524;&#12467;&#12540;&#12489;&#12398;&#12525;&#12483;&#12461;&#12531;&#12464;&#12475;&#12510;&#12531;&#12486;&#12451;&#12483;&#12463;&#12473;
(&#21205;&#20316;)&#12399;Samba&#20013;&#12363;Microsoft Windows&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#19978;&#12398;&#12524;&#12472;&#12473;&#12488;&#12522;&#12398;&#35373;&#23450;&#12391;&#21046;&#24481;&#12391;&#12365;&#12427;&#12371;&#12392;&#12434;
&#30693;&#12387;&#12390;&#12362;&#12367;&#24517;&#35201;&#12364;&#12354;&#12427;&#12290;
</p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
<a class="indexterm" name="id2629917"></a>
&#26178;&#12293;&#12289;&#21508;Microsoft Windows&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#12398;&#12424;&#12358;&#12395;Samba&#12469;&#12540;&#12496;&#19978;&#12391;&#12525;&#12483;&#12461;&#12531;&#12464;&#12398;&#21046;&#24481;&#12398;&#35373;&#23450;&#12434;
&#28961;&#21177;&#21270;&#12377;&#12427;&#24517;&#35201;&#12364;&#12354;&#12427;&#65281;
</p></div></div><div class="sect1" title="&#35696;&#35542;"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id2629933"></a>&#35696;&#35542;</h2></div></div></div><p>
<a class="indexterm" name="id2629941"></a>
<a class="indexterm" name="id2629948"></a>
SMB&#12469;&#12540;&#12496;&#12395;&#12424;&#12387;&#12390;&#23455;&#34892;&#12373;&#12428;&#12427;&#12371;&#12392;&#12364;&#24517;&#35201;&#12394;2&#12388;&#12398;&#12479;&#12452;&#12503;&#12398;&#12525;&#12483;&#12461;&#12531;&#12464;&#12364;&#12354;&#12427;&#12290;&#26368;&#21021;&#12398;&#12418;&#12398;&#12399;
&#12458;&#12540;&#12503;&#12531;&#12375;&#12390;&#12356;&#12427;&#12501;&#12449;&#12452;&#12523;&#20013;&#12398;&#19968;&#23450;&#12398;&#31684;&#22258;&#12398;&#12496;&#12452;&#12488;&#31684;&#22258;&#12434;&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#12364;&#12525;&#12483;&#12463;&#12377;&#12427;&#12371;&#12392;&#12364;
&#12391;&#12365;&#12427;<span class="emphasis"><em>&#12524;&#12467;&#12540;&#12489;&#12525;&#12483;&#12461;&#12531;&#12464;</em></span>&#12391;&#12354;&#12427;&#12290;2&#30058;&#30446;&#12398;&#12418;&#12398;&#12399;&#12289;&#12501;&#12449;&#12452;&#12523;&#12364;
&#12458;&#12540;&#12503;&#12531;&#12375;&#12390;&#12356;&#12427;&#12392;&#12365;&#12395;&#25351;&#23450;&#12373;&#12428;&#12427;<span class="emphasis"><em>&#25298;&#21542;&#12514;&#12540;&#12489;</em></span>&#12391;&#12354;&#12427;&#12290;
</p><p>
<a class="indexterm" name="id2629976"></a>
<a class="indexterm" name="id2629983"></a>
<a class="indexterm" name="id2629990"></a>
<a class="indexterm" name="id2629997"></a>
<a class="indexterm" name="id2630004"></a>
UNIX&#37197;&#19979;&#12398;&#12524;&#12467;&#12540;&#12489;&#12525;&#12483;&#12461;&#12531;&#12464;&#12398;&#12475;&#12510;&#12531;&#12486;&#12451;&#12483;&#12463;&#12473;&#12399;&#12289;Windows&#37197;&#19979;&#12398;&#12524;&#12467;&#12540;&#12489;&#12525;&#12483;&#12461;&#12531;&#12464;&#12392;&#22823;&#24133;&#12395;
&#30064;&#12394;&#12427;&#12290;Samba2.2&#12424;&#12426;&#21069;&#12398;Samba&#12399;&#12289;&#30064;&#12394;&#12387;&#12383;Samba&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#12392;&#12398;&#38291;&#12391;&#12289;&#36969;&#20999;&#12394;&#12524;&#12467;&#12540;&#12489;
&#12525;&#12483;&#12461;&#12531;&#12464;&#12434;&#23455;&#35013;&#12377;&#12427;&#12383;&#12417;&#12395;&#12289;&#12493;&#12452;&#12486;&#12451;&#12502;&#12394;fcntl()UNIX&#12471;&#12473;&#12486;&#12512;&#12467;&#12540;&#12523;&#12434;&#20351;&#12358;&#12371;&#12392;&#12434;&#35430;&#12415;&#12383;&#12290;
&#12371;&#12428;&#12399;&#12356;&#12367;&#12388;&#12363;&#12398;&#29702;&#30001;&#12391;&#23436;&#20840;&#12395;&#27491;&#12375;&#12356;&#12418;&#12398;&#12395;&#12399;&#12394;&#12425;&#12394;&#12363;&#12387;&#12383;&#12290;&#26368;&#12418;&#31777;&#21336;&#12394;&#12418;&#12398;&#12399;&#12289;Windows
&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#12399;&#12525;&#12483;&#12463;&#12377;&#12427;&#12496;&#12452;&#12488;&#12524;&#12531;&#12472;&#12392;&#12375;&#12390;&#12289;&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#12398;OS&#12395;&#20381;&#23384;&#12377;&#12427;&#12364;&#12289;2&#12398;32&#20055;&#12363;2&#12398;
64&#20055;&#12398;&#31684;&#22258;&#12434;&#25351;&#23450;&#12391;&#12365;&#12383;&#12290;UNIX&#12525;&#12483;&#12461;&#12531;&#12464;&#12399;&#12524;&#12531;&#12472;&#12398;&#24133;&#12392;&#12375;&#12390;2&#12398;31&#20055;&#12414;&#12391;&#12375;&#12363;&#12469;&#12509;&#12540;&#12488;&#12375;&#12390;
&#12356;&#12394;&#12363;&#12387;&#12383;&#12290;&#12381;&#12398;&#12383;&#12417;&#12289;2&#12398;31&#20055;&#20197;&#19978;&#12398;&#12525;&#12483;&#12463;&#35201;&#27714;&#12434;&#27491;&#30906;&#12395;&#28288;&#36275;&#12373;&#12379;&#12427;&#12371;&#12392;&#12399;&#20986;&#26469;&#12394;&#12363;&#12387;&#12383;&#12290;
&#12381;&#12398;&#12411;&#12363;&#12395;&#12418;&#12371;&#12371;&#12395;&#35352;&#36848;&#12377;&#12427;&#12398;&#12395;&#12399;&#20313;&#12426;&#12395;&#12418;&#22810;&#12377;&#12366;&#12427;&#25968;&#22810;&#12367;&#12398;&#36949;&#12356;&#12364;&#12354;&#12387;&#12383;&#12290;
</p><p>
<a class="indexterm" name="id2630046"></a>
<a class="indexterm" name="id2630053"></a>
Samba2.2&#20197;&#38477;&#12391;&#12399;&#12289;UNIX&#12471;&#12473;&#12486;&#12512;&#12395;&#20381;&#23384;&#12375;&#12394;&#12356;&#12289;&#29420;&#31435;&#12375;&#12383;&#12524;&#12467;&#12540;&#12489;&#12525;&#12483;&#12461;&#12531;&#12464;&#12434;&#23436;&#29863;&#12395;&#23455;&#35013;&#12375;&#12383;&#12290;
&#12418;&#12375;&#12418;&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#12364;0&#12363;&#12425;2&#12398;31&#20055;&#12414;&#12391;&#12398;&#38291;&#12391;&#12496;&#12452;&#12488;&#24133;&#12525;&#12483;&#12463;&#12434;&#35201;&#27714;&#12375;&#12383;&#22580;&#21512;&#12289;Samba&#12399;UNIX
&#12471;&#12473;&#12486;&#12512;&#12395;&#12371;&#12398;&#35201;&#27714;&#12434;&#33853;&#12392;&#12375;&#12390;&#25201;&#12358;&#12290;&#20182;&#12398;&#12393;&#12398;&#12424;&#12358;&#12394;&#12525;&#12483;&#12463;&#12418;UNIX&#12391;&#12399;&#25201;&#12431;&#12394;&#12356;&#12290;
</p><p>
<a class="indexterm" name="id2630073"></a>
<a class="indexterm" name="id2630080"></a>
&#21427;&#23494;&#12395;&#35328;&#12358;&#12392;&#12289;Samba&#12469;&#12540;&#12496;&#12399;&#12501;&#12449;&#12452;&#12523;&#19978;&#12408;&#12398;&#21508;&#35501;&#12415;/&#26360;&#12365;&#12398;&#21628;&#12403;&#20986;&#12375;&#21069;&#12395;&#12525;&#12483;&#12463;&#12398;&#12481;&#12455;&#12483;&#12463;&#12434;
&#12377;&#12409;&#12365;&#12391;&#12354;&#12427;&#12290;&#19981;&#24184;&#12395;&#12418;&#12289;fcntl()&#12364;&#27231;&#33021;&#12377;&#12427;&#26041;&#27861;&#12391;&#12289;&#12371;&#12428;&#12399;&#36933;&#24310;&#12434;&#24341;&#12365;&#36215;&#12371;&#12375;&#12289;
<code class="literal">rpc.lockd</code>&#12395;&#36000;&#33655;&#12434;&#25499;&#12369;&#12427;&#12371;&#12392;&#12395;&#12394;&#12427;&#12290;&#12371;&#12428;&#12399;&#12289;&#12381;&#12428;&#12395;&#23550;&#12375;&#12390;&#12525;&#12483;&#12461;&#12531;&#12464;&#12364;
&#37325;&#35201;&#12394;&#12392;&#12365;&#12289;&#35501;&#12415;&#26360;&#12365;&#12398;&#21069;&#12395;&#12525;&#12483;&#12461;&#12531;&#12464;&#12434;&#21628;&#12403;&#20986;&#12377;&#12371;&#12392;&#12434;&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#12399;&#29420;&#31435;&#12375;&#12390;&#34892;&#12358;&#12399;&#12378;&#12392;&#12356;&#12358;
&#29702;&#30001;&#12391;&#12289;&#12411;&#12392;&#12435;&#12393;&#24120;&#26178;&#19981;&#24517;&#35201;&#12391;&#12354;&#12427;&#12290;&#26082;&#23450;&#20516;&#12391;&#12399;&#12289;Samba&#12399;&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#12395;&#12424;&#12387;&#12390;&#26126;&#31034;&#30340;&#12395;
&#21839;&#12356;&#21512;&#12431;&#12379;&#12364;&#12354;&#12387;&#12383;&#12392;&#12365;&#12395;&#12398;&#12415;&#12525;&#12483;&#12461;&#12531;&#12464;&#12467;&#12540;&#12523;&#12434;&#34892;&#12358;&#12364;&#12289;&#12418;&#12375;&#12418;
<a class="link" href="smb.conf.5.html#STRICTLOCKING" target="_top">strict locking = yes</a>&#12434;&#35373;&#23450;&#12375;&#12383;&#22580;&#21512;&#12289;
&#35501;&#12415;/&#26360;&#12365;&#12398;&#21628;&#12403;&#20986;&#12375;<span class="emphasis"><em>&#27598;&#12395;</em></span>&#12525;&#12483;&#12463;&#12481;&#12455;&#12483;&#12463;&#12398;&#21628;&#12403;&#20986;&#12375;&#12434;&#34892;&#12358;&#12290;
</p><p>
<a class="indexterm" name="id2630138"></a>
<a class="link" href="smb.conf.5.html#LOCKING" target="_top">locking = no</a>&#12434;&#20351;&#12358;&#12371;&#12392;&#12395;&#12424;&#12387;&#12390;&#12496;&#12452;&#12488;&#24133;&#12525;&#12483;&#12461;&#12531;&#12464;&#12434;
&#23436;&#20840;&#12395;&#20572;&#27490;&#12377;&#12427;&#12371;&#12392;&#12418;&#20986;&#26469;&#12427;&#12290;&#12371;&#12428;&#12399;&#12289;&#12525;&#12483;&#12461;&#12531;&#12464;&#12434;&#12469;&#12509;&#12540;&#12488;&#12375;&#12394;&#12356;&#20849;&#26377;&#12363;&#12289;&#24517;&#35201;&#12364;&#12394;&#12356;&#12392;&#12365;
(&#12383;&#12392;&#12360;&#12400;CD-ROM&#12394;&#12393;)&#12395;&#20415;&#21033;&#12391;&#12354;&#12427;&#12290;&#12371;&#12398;&#22580;&#21512;&#12289;Samba&#12399;&#27598;&#22238;OK&#12391;&#12354;&#12427;&#12392;&#12289;&#12525;&#12483;&#12461;&#12531;&#12464;&#21628;&#12403;&#20986;&#12375;&#12398;
&#25147;&#12426;&#20516;&#12434;&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#12395;&#36820;&#12377;&#12424;&#12358;&#12395;&#12372;&#12414;&#12363;&#12377;&#12290;
</p><p>
<a class="indexterm" name="id2630173"></a>
<a class="indexterm" name="id2630179"></a>
<a class="indexterm" name="id2630186"></a>
<a class="indexterm" name="id2630193"></a>
<a class="indexterm" name="id2630200"></a>
<a class="indexterm" name="id2630206"></a>
<a class="indexterm" name="id2630213"></a>
2&#30058;&#30446;&#12398;&#12463;&#12521;&#12473;&#12398;&#12525;&#12483;&#12461;&#12531;&#12464;&#12399;&#12289;<span class="emphasis"><em>deny modes</em></span>&#12391;&#12354;&#12427;&#12290;&#12371;&#12428;&#12425;&#12399;&#12289;&#12381;&#12398;
&#12458;&#12540;&#12503;&#12531;&#12395;&#23550;&#12375;&#12390;&#21516;&#26178;&#12395;&#35377;&#12373;&#12428;&#12427;&#12409;&#12365;&#12450;&#12463;&#12475;&#12473;&#12398;&#12479;&#12452;&#12503;&#12434;&#27770;&#12417;&#12427;&#12383;&#12417;&#12289;&#12501;&#12449;&#12452;&#12523;&#12434;&#12458;&#12540;&#12503;&#12531;
&#12375;&#12383;&#12392;&#12365;&#12395;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12395;&#12424;&#12387;&#12390;&#35373;&#23450;&#12373;&#12428;&#12427;&#12290;&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#12399;&#12289;
<code class="constant">DENY_NONE</code>, <code class="constant">DENY_READ</code>,
<code class="constant">DENY_WRITE</code>, &#12363; <code class="constant">DENY_ALL</code>&#12434;&#21839;&#12356;&#21512;&#12431;&#12379;&#12391;&#12365;&#12427;&#12290;
<code class="constant">DENY_FCB</code> &#12392; <code class="constant">DENY_DOS</code>&#12392;&#21628;&#12400;&#12428;&#12427;&#29305;&#21029;&#12394;&#20114;&#25563;
&#12514;&#12540;&#12489;&#12418;&#12354;&#12427;&#12290;
</p><div class="sect2" title="Opportunistic Locking&#12398;&#27010;&#35201;"><div class="titlepage"><div><div><h3 class="title"><a name="id2630254"></a>Opportunistic Locking&#12398;&#27010;&#35201;</h3></div></div></div><p>
<a class="indexterm" name="id2630262"></a>
<a class="indexterm" name="id2630270"></a>
<a class="indexterm" name="id2630276"></a>
Opportunistic locking (oplocks)&#12399;&#12469;&#12540;&#12496;&#19978;&#12395;&#23384;&#22312;&#12377;&#12427;&#12501;&#12449;&#12452;&#12523;&#12395;&#12450;&#12463;&#12475;&#12473;&#12377;&#12427;&#26178;&#12395;&#12289;
&#12493;&#12483;&#12488;&#12527;&#12540;&#12463;&#12398;&#21177;&#29575;&#12434;&#22679;&#22823;&#12373;&#12379;&#12427;&#30446;&#30340;&#12391;&#12289;&#12524;&#12472;&#12473;&#12488;&#12522;&#12456;&#12531;&#12488;&#12522;(&#12469;&#12540;&#12496;&#12392;&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#19978;)
&#32076;&#30001;&#12391;Windows&#12501;&#12449;&#12452;&#12523;&#12471;&#12473;&#12486;&#12512;(API&#12392;&#23550;&#29031;&#12375;&#12383;&#22580;&#21512;)&#12395;&#12424;&#12387;&#12390;&#36215;&#21205;&#12373;&#12428;&#12427;&#12290;&#21177;&#29575;&#12399;&#12289;
&#20197;&#19979;&#12434;&#35377;&#23481;&#12377;&#12427;&#12371;&#12392;&#12391;&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#19978;&#12395;&#12525;&#12540;&#12459;&#12523;&#12395;&#12501;&#12449;&#12452;&#12523;&#12434;&#12461;&#12515;&#12483;&#12471;&#12517;&#12377;&#12427;&#12371;&#12392;&#12395;&#12424;&#12426;
&#22679;&#22823;&#12373;&#12379;&#12427;:
</p><div class="variablelist"><dl><dt><span class="term">Read-ahead:</span></dt><dd><p>
<a class="indexterm" name="id2630305"></a>
		&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#12399;&#12501;&#12449;&#12452;&#12523;&#12398;&#12525;&#12540;&#12459;&#12523;&#12467;&#12500;&#12540;&#12363;&#12425;&#35501;&#12415;&#12289;&#12493;&#12483;&#12488;&#12527;&#12540;&#12463;&#12398;&#24453;&#12385;&#26178;&#38291;&#12434;
		&#12394;&#12367;&#12377;&#12290;
		</p></dd><dt><span class="term">Write caching:</span></dt><dd><p>
<a class="indexterm" name="id2630326"></a>
		&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#12399;&#12501;&#12449;&#12452;&#12523;&#12398;&#12525;&#12540;&#12459;&#12523;&#12467;&#12500;&#12540;&#12395;&#26360;&#12365;&#36796;&#12415;&#12289;&#12493;&#12483;&#12488;&#12527;&#12540;&#12463;&#12398;&#24453;&#12385;
		&#38291;&#12434;&#12394;&#12367;&#12377;&#12290;
		</p></dd><dt><span class="term">Lock caching:</span></dt><dd><p>
<a class="indexterm" name="id2630348"></a>
		&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#12399;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12434;&#12525;&#12540;&#12459;&#12523;&#12395;&#12525;&#12483;&#12463;&#12375;&#12289;&#12493;&#12483;&#12488;&#12527;&#12540;&#12463;&#12398;&#24453;&#12385;
		&#38291;&#12434;&#12394;&#12367;&#12377;&#12290;
		</p></dd></dl></div><p>
<a class="indexterm" name="id2630365"></a>
<a class="indexterm" name="id2630372"></a>
<a class="indexterm" name="id2630378"></a>
oplocks&#12395;&#12424;&#12427;&#21177;&#29575;&#12398;&#22679;&#22823;&#12399;&#12289;&#20182;&#12398;&#12503;&#12525;&#12475;&#12473;&#12363;&#12425;&#12398;&#21516;&#26178;&#12450;&#12463;&#12475;&#12473;&#12398;&#12383;&#12417;&#12398;&#12501;&#12449;&#12452;&#12523;&#12398;&#12473;&#12486;&#12540;&#12479;&#12473;&#12434;
Windows&#12364;&#12514;&#12491;&#12479;&#12377;&#12427;&#12383;&#12417;&#12395;&#12289;deny-none&#12391;&#12458;&#12540;&#12503;&#12531;&#12373;&#12428;&#12390;&#12356;&#12383;&#12392;&#12375;&#12390;&#12418;&#12289;&#12501;&#12449;&#12452;&#12523;&#12395;&#23550;&#12377;&#12427;
&#25490;&#20182;&#30340;&#12394;&#12450;&#12463;&#12475;&#12473;&#12434;&#34892;&#12358;&#12371;&#12392;&#12395;&#12424;&#12427;&#12290;
</p><div class="variablelist" title="Windows&#12399;4&#12388;&#12398;&#31278;&#39006;&#12398;Oplocks&#12434;&#23450;&#32681;&#12377;&#12427;:"><p class="title"><b>Windows&#12399;4&#12388;&#12398;&#31278;&#39006;&#12398;Oplocks&#12434;&#23450;&#32681;&#12377;&#12427;:</b></p><dl><dt><span class="term">Level1 Oplock</span></dt><dd><p>
<a class="indexterm" name="id2630411"></a>
<a class="indexterm" name="id2630418"></a>
<a class="indexterm" name="id2630425"></a>
<a class="indexterm" name="id2630432"></a>
			&#12522;&#12480;&#12452;&#12524;&#12463;&#12479;&#12399;&#12289;&#12501;&#12449;&#12452;&#12523;&#12364;deny none(&#21516;&#26178;&#12450;&#12463;&#12475;&#12473;&#12434;&#35377;&#21487;)&#12391;
			&#12458;&#12540;&#12503;&#12531;&#12375;&#12390;&#12356;&#12427;&#12371;&#12392;&#12434;&#30906;&#35469;&#12375;&#12289;&#12501;&#12449;&#12452;&#12523;&#12395;&#20182;&#12398;&#12503;&#12525;&#12475;&#12473;&#12363;&#12425;&#12398;
			&#12450;&#12463;&#12475;&#12473;&#12364;&#28961;&#12356;&#12371;&#12392;&#12434;&#26908;&#26619;&#12375;&#12289;oplocks&#12364;&#26377;&#21177;&#12395;&#12394;&#12387;&#12390;&#12356;&#12427;&#12371;&#12392;&#12434;
			&#30906;&#35469;&#12375;&#12289;&#27425;&#12395;&#12289;&#12501;&#12449;&#12452;&#12523;&#12395;&#23550;&#12377;&#12427;deny-all/read-write/exclusive
			&#12450;&#12463;&#12475;&#12473;&#12434;&#35377;&#21487;&#12377;&#12427;&#12290;&#12381;&#12398;&#24460;&#12289;&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#12399;&#12461;&#12515;&#12483;&#12471;&#12517;&#12373;&#12428;&#12383;&#12525;&#12540;&#12459;&#12523;
			&#12501;&#12449;&#12452;&#12523;&#12395;&#23550;&#12375;&#12390;&#25805;&#20316;&#12434;&#23455;&#34892;&#12377;&#12427;&#12290;
			</p><p>
<a class="indexterm" name="id2630453"></a>
<a class="indexterm" name="id2630460"></a>
<a class="indexterm" name="id2630466"></a>
<a class="indexterm" name="id2630473"></a>
			&#12418;&#12375;&#12418;2&#30058;&#30446;&#12398;&#12503;&#12525;&#12475;&#12473;&#12364;&#12501;&#12449;&#12452;&#12523;&#12434;&#12458;&#12540;&#12503;&#12531;&#12375;&#12424;&#12358;&#12392;&#12377;&#12427;&#12392;&#12289;
			&#12458;&#12522;&#12472;&#12490;&#12523;&#12398;oplock&#12434;&#12522;&#12480;&#12452;&#12524;&#12463;&#12479;&#12364;"&#12502;&#12524;&#12540;&#12463;"&#12377;&#12427;&#12414;&#12391;
			&#12458;&#12540;&#12503;&#12531;&#12399;&#24453;&#12383;&#12373;&#12428;&#12427;&#12290;oplock&#12502;&#12524;&#12540;&#12463;&#12399;&#12289;&#12461;&#12515;&#12483;&#12471;&#12517;&#12375;&#12390;&#12356;&#12427;
			&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#12395;&#12289;&#12469;&#12540;&#12496;&#12395;&#12525;&#12540;&#12459;&#12523;&#12501;&#12449;&#12452;&#12523;&#12434;&#26360;&#12365;&#25147;&#12375;&#12289;&#12525;&#12540;&#12459;&#12523;&#12398;
			&#12525;&#12483;&#12463;&#12434;&#12501;&#12521;&#12483;&#12471;&#12517;&#12375;&#12289;&#20808;&#35501;&#12415;&#12375;&#12383;&#12487;&#12540;&#12479;&#12434;&#24259;&#26820;&#12377;&#12427;&#12424;&#12358;&#12395;&#36890;&#30693;&#12377;&#12427;&#12290;
			&#12502;&#12524;&#12540;&#12463;&#12364;&#23436;&#20102;&#12375;&#12289;&#36933;&#24310;&#12375;&#12383;&#12458;&#12540;&#12503;&#12531;&#12364;&#35377;&#21487;&#12373;&#12428;&#12289;&#22810;&#37325;&#12503;&#12525;&#12475;&#12473;&#12364;&#12289;
			&#24375;&#21046;&#30340;&#12363;&#12496;&#12452;&#12488;&#24133;&#12525;&#12483;&#12461;&#12531;&#12464;&#12458;&#12503;&#12471;&#12519;&#12531;&#12395;&#12424;&#12387;&#12390;&#25351;&#31034;&#12373;&#12428;&#12383;&#12424;&#12358;&#12395;&#12289;
			&#21516;&#26178;&#12501;&#12449;&#12452;&#12523;&#12450;&#12463;&#12475;&#12473;&#12364;&#20986;&#26469;&#12427;&#12424;&#12358;&#12395;&#12394;&#12427;&#12290;&#12375;&#12363;&#12375;&#12289;&#12418;&#12375;&#12418;&#12458;&#12522;&#12472;&#12490;&#12523;&#12398;
			&#12501;&#12449;&#12452;&#12523;&#12364;deny-mode&#20197;&#22806;&#12398;&#20849;&#26377;&#12514;&#12540;&#12489;&#12398;&#22580;&#21512;&#12289;&#27425;&#12395;&#12289;2&#30058;&#30446;&#12398;
			&#12503;&#12525;&#12475;&#12473;&#12399;&#12289;oplock&#12364;&#12502;&#12524;&#12540;&#12463;&#12375;&#12390;&#12418;&#12289;&#12450;&#12463;&#12475;&#12473;&#12364;&#21046;&#38480;&#12373;&#12428;&#12427;&#12363;
			&#12450;&#12463;&#12475;&#12473;&#12364;&#25298;&#21542;&#12373;&#12428;&#12427;&#12290;
			</p></dd><dt><span class="term">Level2 Oplock</span></dt><dd><p>
<a class="indexterm" name="id2630521"></a>
<a class="indexterm" name="id2630528"></a>
<a class="indexterm" name="id2630535"></a>
		&#12461;&#12515;&#12483;&#12471;&#12531;&#12464;&#12434;&#38500;&#12356;&#12390;&#12289;Level1 oplock&#12398;&#12424;&#12358;&#12394;&#27231;&#33021;&#12399;&#12289;&#12377;&#12409;&#12390;&#12398;&#35501;&#12415;&#20986;&#12375;&#12395;
		&#23550;&#12375;&#12390;&#12398;&#12415;&#37325;&#35201;&#12391;&#12354;&#12427;&#12290;&#12377;&#12409;&#12390;&#12398;&#12381;&#12398;&#20182;&#12398;&#25805;&#20316;&#12399;&#12289;&#12469;&#12540;&#12496;&#19978;&#12391;&#12501;&#12449;&#12452;&#12523;&#12398;
		&#12487;&#12451;&#12473;&#12463;&#12408;&#12398;&#12467;&#12500;&#12540;&#12434;&#23455;&#34892;&#12377;&#12427;&#12290;
                </p></dd><dt><span class="term">Filter Oplock</span></dt><dd><p>
<a class="indexterm" name="id2630561"></a>
				&#12501;&#12449;&#12452;&#12523;&#12408;&#12398;&#26360;&#12365;&#36796;&#12415;&#21448;&#12399;&#21066;&#38500;&#12450;&#12463;&#12475;&#12473;&#12434;&#35377;&#21487;&#12375;&#12394;&#12356;&#12290;
                </p></dd><dt><span class="term">Batch Oplock</span></dt><dd><p>
<a class="indexterm" name="id2630581"></a>
				&#12501;&#12449;&#12452;&#12523;&#12398;&#12458;&#12540;&#12503;&#12531;&#12392;&#12463;&#12525;&#12540;&#12474;&#12434;&#25805;&#20316;&#12375;&#12289;&#12501;&#12449;&#12452;&#12523;&#23646;&#24615;&#12398;&#12461;&#12515;&#12483;&#12471;&#12517;&#12434;&#34892;&#12358;&#12290;
                </p></dd></dl></div><p>
<a class="indexterm" name="id2630598"></a>
oplocks&#12399;&#12501;&#12449;&#12452;&#12523;&#12471;&#12473;&#12486;&#12512;&#12395;&#12424;&#12387;&#12390;&#36215;&#21205;&#12373;&#12428;&#12289;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;API&#12391;&#12399;&#12394;&#12356;&#12392;&#12356;&#12358;&#12371;&#12392;&#12399;&#37325;&#35201;&#12394;
&#35443;&#32048;&#20107;&#38917;&#12391;&#12354;&#12427;&#12290;&#12381;&#12398;&#12383;&#12417;&#12289;&#12354;&#12427;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12399;oplock&#12373;&#12428;&#12383;&#12501;&#12449;&#12452;&#12523;&#12434;&#12463;&#12525;&#12540;&#12474;&#12391;&#12365;&#12427;&#12364;&#12289;
&#12501;&#12449;&#12452;&#12523;&#12471;&#12473;&#12486;&#12512;&#12399;oplocks&#12434;&#25918;&#26820;&#12375;&#12394;&#12356;&#12290;oplock&#12398;&#12502;&#12524;&#12540;&#12463;&#12364;&#30330;&#29983;&#12375;&#12383;&#12392;&#12365;&#12289;&#12501;&#12449;&#12452;&#12523;&#12471;&#12473;&#12486;&#12512;&#12399;
&#27425;&#12395;&#12289;2&#30058;&#30446;&#12398;&#12503;&#12525;&#12475;&#12473;&#12395;&#12424;&#12427;&#12289;&#27425;&#12398;&#12501;&#12449;&#12452;&#12523;&#12458;&#12540;&#12503;&#12531;&#12398;&#28310;&#20633;&#20013;&#12391;&#12289;&#21336;&#32020;&#12395;&#12501;&#12449;&#12452;&#12523;&#12434;&#12463;&#12525;&#12540;&#12474;&#12377;&#12427;&#12290;
</p><p>
<a class="indexterm" name="id2630618"></a>
<a class="indexterm" name="id2630625"></a>
<a class="indexterm" name="id2630632"></a>
<a class="indexterm" name="id2630639"></a>
<span class="emphasis"><em>Opportunistic locking</em></span>&#12399;&#12289;&#12371;&#12398;&#27231;&#33021;&#12395;&#23550;&#12375;&#12390;&#12289;&#23455;&#38555;&#12395;&#12399;&#22949;&#24403;&#12391;&#12399;&#12394;&#12356;&#21517;&#21069;
&#12391;&#12354;&#12427;&#12290;&#12371;&#12398;&#27231;&#33021;&#12398;&#30495;&#12398;&#21033;&#28857;&#12399;&#12289;&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#12469;&#12452;&#12489;&#12398;&#12487;&#12540;&#12479;&#12461;&#12515;&#12483;&#12471;&#12531;&#12464;&#12391;&#12354;&#12426;&#12289;oplocks&#12399;
&#12493;&#12483;&#12488;&#12527;&#12540;&#12463;&#19978;&#12398;&#12487;&#12451;&#12473;&#12463;&#12473;&#12488;&#12524;&#12540;&#12472;&#12395;&#12487;&#12540;&#12479;&#12434;&#26360;&#12365;&#25147;&#12377;&#12383;&#12417;&#12398;&#12289;&#21336;&#12394;&#12427;&#36890;&#30693;&#12513;&#12459;&#12491;&#12474;&#12512;&#12391;&#12354;&#12427;&#12290;
oplocks&#12398;&#21046;&#38480;&#12399;&#12289;&#12469;&#12540;&#12496;&#12392;&#12461;&#12515;&#12483;&#12471;&#12517;&#12375;&#12390;&#12356;&#12427;&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#38291;&#12391;&#12398;oplocks&#12502;&#12524;&#12540;&#12463;(&#36890;&#30693;)&#12434;
&#20966;&#29702;&#12377;&#12427;&#12383;&#12417;&#12398;&#12513;&#12459;&#12491;&#12474;&#12512;&#12398;&#20449;&#38972;&#24615;&#12391;&#12354;&#12427;&#12290;&#12418;&#12375;&#12418;&#12371;&#12398;&#20132;&#25563;&#12395;&#22833;&#25943;&#12377;&#12427;&#12392;(&#36890;&#24120;&#12289;&#25968;&#22810;&#12367;&#12398;&#29702;&#30001;&#12391;
&#12479;&#12452;&#12512;&#12450;&#12454;&#12488;&#12377;&#12427;&#12392;&#12356;&#12358;&#22580;&#21512;)&#12289;&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#12469;&#12452;&#12489;&#12461;&#12515;&#12483;&#12471;&#12531;&#12464;&#12398;&#20778;&#20301;&#24615;&#12399;&#21542;&#23450;&#12373;&#12428;&#12427;&#12290;
</p><p>
<a class="indexterm" name="id2630673"></a>
&#12518;&#12540;&#12470;&#12363;&#31649;&#29702;&#32773;&#12364;&#32771;&#24942;&#12377;&#12409;&#12365;&#12289;&#23455;&#38555;&#12398;&#27770;&#26029;&#28857;&#12399;&#12289;&#12525;&#12540;&#12459;&#12523;&#12395;&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#19978;&#12395;&#12461;&#12515;&#12483;&#12471;&#12517;&#12373;&#12428;&#12427;
&#35079;&#25968;&#12398;&#12518;&#12540;&#12470;&#12398;&#12487;&#12540;&#12479;&#38291;&#12391;&#20849;&#26377;&#12377;&#12427;&#12398;&#12399;&#36066;&#26126;&#12391;&#12354;&#12427;&#12363;&#12393;&#12358;&#12363;&#12392;&#35328;&#12358;&#12371;&#12392;&#12391;&#12354;&#12427;&#12290;&#22810;&#12367;&#12398;&#22580;&#21512;&#12289;
&#31572;&#12360;&#12399;&#12300;&#21542;&#12301;&#12391;&#12354;&#12427;&#12290;&#12487;&#12540;&#12479;&#12434;&#12461;&#12515;&#12483;&#12471;&#12517;&#12377;&#12427;&#12363;&#12375;&#12394;&#12356;&#12363;&#12398;&#27770;&#26029;&#12399;&#30495;&#12398;&#36074;&#21839;&#12391;&#12354;&#12426;&#12289;&#12381;&#12398;&#12383;&#12417;&#12289;
oplocks&#12399;&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#12469;&#12452;&#12489;&#12398;&#12461;&#12515;&#12483;&#12471;&#12531;&#12464;&#12398;&#12488;&#12464;&#12523;&#12392;&#12375;&#12390;&#21462;&#12426;&#25201;&#12358;&#12409;&#12365;&#12391;&#12354;&#12427;&#12290;&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;
&#12469;&#12452;&#12489;&#12398;&#12461;&#12515;&#12483;&#12471;&#12531;&#12464;&#12364;&#26395;&#12414;&#12375;&#12367;&#12289;&#20449;&#38972;&#24615;&#12364;&#12354;&#12427;&#22580;&#21512;&#12289;&#12381;&#12428;&#12434;<span class="quote">&#8220;<span class="quote">on</span>&#8221;</span>&#12395;&#12377;&#12427;&#12290;
&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#12469;&#12452;&#12489;&#12398;&#12461;&#12515;&#12483;&#12471;&#12531;&#12464;&#12364;&#19981;&#24517;&#35201;&#12391;&#12289;&#20449;&#38972;&#24615;&#12395;&#27424;&#12369;&#12289;&#12354;&#12427;&#12356;&#12399;&#21453;&#29983;&#29987;&#30340;&#12394;&#22580;&#21512;&#12289;
<span class="quote">&#8220;<span class="quote">off</span>&#8221;</span>&#12395;&#12377;&#12427;&#12290;
</p><p>
<a class="indexterm" name="id2630703"></a>
Oplocks&#12399;&#26082;&#23450;&#20516;&#12391;&#12399;&#12377;&#12409;&#12390;&#12398;&#35373;&#23450;&#12373;&#12428;&#12383;&#20849;&#26377;&#19978;&#12395;Samba&#12395;&#12424;&#12387;&#12390;<span class="quote">&#8220;<span class="quote">on</span>&#8221;</span>&#12395;&#35373;&#23450;&#12373;&#12428;&#12390;
&#12356;&#12427;&#12398;&#12391;&#12289;&#12418;&#12375;&#12418;&#28508;&#22312;&#30340;&#12394;&#21033;&#20415;&#24615;&#12364;&#12289;&#36933;&#24310;&#12398;&#21487;&#33021;&#24615;&#12424;&#12426;&#23567;&#12373;&#12356;&#22580;&#21512;&#12289;&#12381;&#12428;&#12382;&#12428;&#12398;&#12465;&#12540;&#12473;&#12391;&#27770;&#23450;
&#12377;&#12427;&#12392;&#12365;&#12395;&#12399;&#27880;&#24847;&#28145;&#12367;&#34892;&#12358;&#12409;&#12365;&#12391;&#12354;&#12427;&#12290;&#20197;&#19979;&#12398;&#25512;&#22888;&#38917;&#30446;&#12399;&#12289;oplocks&#12364;&#21177;&#26524;&#30340;&#12395;&#12394;&#12427;&#29872;&#22659;&#12434;&#29305;&#24500;
&#12389;&#12369;&#12427;&#12398;&#12395;&#24441;&#12395;&#31435;&#12388;&#12384;&#12429;&#12358;&#12290;
</p><p>
<a class="indexterm" name="id2630730"></a>
<a class="indexterm" name="id2630737"></a>
Windows&#12398;oplocks&#12399;&#31777;&#26131;&#12394;&#21177;&#29575;&#21521;&#19978;&#27231;&#33021;&#12391;&#12354;&#12427;&#12290;&#12371;&#12428;&#12399;&#22533;&#29282;&#12391;&#12418;&#20449;&#38972;&#12391;&#12365;&#12427;&#12503;&#12525;&#12488;&#12467;&#12523;&#12391;&#12399;&#12394;&#12356;&#12290;
oplocks&#12398;&#12377;&#12409;&#12390;&#12398;&#23455;&#35013;&#12399;&#12289;&#32771;&#12360;&#24471;&#12427;&#24615;&#33021;&#12392;&#20449;&#38972;&#24615;&#12392;&#12398;&#38291;&#12391;&#12398;&#12488;&#12524;&#12540;&#12489;&#12458;&#12501;&#12392;&#12375;&#12390;&#35413;&#20385;&#12373;&#12428;&#12427;
&#12409;&#12365;&#12391;&#12354;&#12427;&#12290;&#20449;&#38972;&#24615;&#12399;&#12289;&#19978;&#35352;&#12391;&#12398;&#32153;&#32154;&#12375;&#12383;&#12523;&#12540;&#12523;&#12364;&#36969;&#29992;&#12373;&#12428;&#12394;&#12356;&#12424;&#12358;&#12395;&#28187;&#23569;&#12377;&#12427;&#12290;oplock&#12364;
&#26377;&#21177;&#12391;&#12289;WAN&#19978;&#12434;&#12414;&#12383;&#12356;&#12391;&#12289;&#21335;&#22826;&#24179;&#27915;&#12398;&#29872;&#30977;&#12398;&#12289;&#39640;&#20449;&#38972;&#24615;&#12398;&#12469;&#12540;&#12496;&#19978;&#12391;&#12289;&#12511;&#12483;&#12471;&#12519;&#12531;
&#12463;&#12522;&#12486;&#12451;&#12459;&#12523;&#12394;&#12289;&#22810;&#20154;&#25968;&#12391;&#20351;&#12358;&#20250;&#31038;&#12398;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12364;&#21488;&#39080;&#12395;&#12373;&#12425;&#12373;&#12428;&#12390;&#12356;&#12427;&#29366;&#27841;&#12434;&#32771;&#12360;&#12390;&#12415;&#12424;&#12358;&#12290;
&#12371;&#12398;&#35373;&#23450;&#12399;oplock&#12398;&#21839;&#38988;&#12395;&#36973;&#36935;&#12377;&#12427;&#12384;&#12429;&#12358;&#12290;
</p><p>
<a class="indexterm" name="id2630770"></a>
Oplocks&#12399;&#12289;&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#12469;&#12452;&#12489;&#12391;&#12398;&#12487;&#12540;&#12479;&#12461;&#12515;&#12483;&#12471;&#12531;&#12464;&#12398;&#12383;&#12417;&#12398;&#27083;&#25104;&#35201;&#32032;&#12398;&#12488;&#12464;&#12523;&#12392;&#12375;&#12390;
&#25201;&#12431;&#12428;&#12427;&#26178;&#12289;&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#12398;&#24615;&#33021;&#12434;&#29702;&#35299;&#12377;&#12427;&#12383;&#12417;&#12395;&#26377;&#30410;&#12391;&#12354;&#12426;&#24471;&#12427;&#12290;&#12418;&#12375;&#12418;&#12487;&#12540;&#12479;&#12398;&#12461;&#12515;&#12483;&#12471;&#12531;&#12464;&#12364;
&#12373;&#12360;&#12366;&#12425;&#12428;&#12381;&#12358;&#12394;&#22580;&#21512;&#12289;oplocks&#12398;&#20351;&#29992;&#12399;&#35413;&#20385;&#12373;&#12428;&#12427;&#12409;&#12365;&#12391;&#12354;&#12427;&#12290;Samba&#12399;&#12377;&#12409;&#12390;&#12398;&#20849;&#26377;&#12395;&#23550;&#12375;&#12390;
oplocks&#12434;&#26082;&#23450;&#20516;&#12391;&#26377;&#21177;&#12395;&#12377;&#12427;&#12290;&#12469;&#12540;&#12496;&#19978;&#12398;&#20849;&#26377;&#12487;&#12540;&#12479;&#12289;&#12469;&#12540;&#12496;&#12493;&#12483;&#12488;&#12527;&#12540;&#12463;&#12398;&#20449;&#38972;&#24615;&#12392;&#21508;&#20849;&#26377;&#12398;
oplocks&#12398;&#35373;&#23450;&#12398;&#20351;&#29992;&#27861;&#12434;&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#12395;&#25552;&#20379;&#12377;&#12409;&#12365;&#12391;&#12354;&#12427;&#12371;&#12392;&#12395;&#27880;&#24847;&#28145;&#12367;&#27880;&#24847;&#12434;&#25173;&#12358;&#12290;
&#12511;&#12483;&#12471;&#12519;&#12531;&#12463;&#12522;&#12486;&#12451;&#12459;&#12523;&#12394;&#38936;&#22495;&#12289;&#39640;&#20449;&#38972;&#24615;&#29872;&#22659;&#12391;&#12399;&#12289;&#12487;&#12540;&#12479;&#12398;&#25972;&#21512;&#24615;&#12399;&#12375;&#12400;&#12375;&#12400;&#20778;&#20808;&#24230;&#12364;&#39640;&#12367;
&#12394;&#12427;&#12290;&#35079;&#38609;&#12391;&#39640;&#20385;&#12394;&#27083;&#25104;&#12399;&#12289;&#12418;&#12375;&#12418;&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#12364;&#12501;&#12449;&#12452;&#12523;&#12469;&#12540;&#12496;&#12408;&#12398;&#25509;&#32154;&#12364;&#20999;&#12428;&#12383;&#26178;&#12289;
&#32153;&#32154;&#12375;&#12383;&#12487;&#12540;&#12479;&#12398;&#21487;&#29992;&#24615;&#12434;&#25552;&#20379;&#12377;&#12427;&#12383;&#12417;&#12395;&#12289;&#12501;&#12455;&#12452;&#12523;&#12458;&#12540;&#12496;&#12395;&#12424;&#12427;&#12469;&#12540;&#12496;&#20999;&#12426;&#26367;&#12360;&#12364;&#12377;&#12368;&#12395;&#20986;&#26469;&#12427;
&#12371;&#12392;&#12364;&#20986;&#26469;&#12427;&#12424;&#12358;&#12395;&#12289;&#23455;&#35013;&#12373;&#12428;&#12427;&#12290;
</p><p>
<a class="indexterm" name="id2630811"></a>
<a class="indexterm" name="id2630819"></a>
Windows&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#12398;&#12501;&#12455;&#12452;&#12523;&#12458;&#12540;&#12496;&#12398;&#21205;&#20316;&#12399;&#12289;&#30906;&#31435;&#12375;&#12390;&#12356;&#12427;TCP/IP&#12488;&#12521;&#12531;&#12473;&#12509;&#12540;&#12488;&#12467;&#12493;&#12463;&#12471;&#12519;&#12531;
&#12395;&#20381;&#23384;&#12377;&#12427;&#12392;&#12356;&#12358;&#29702;&#30001;&#12391;&#12289;&#20182;&#12398;&#12503;&#12521;&#12483;&#12488;&#12501;&#12457;&#12540;&#12512;&#12424;&#12426;&#12418;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12398;&#20013;&#26029;&#12398;&#12522;&#12473;&#12463;&#12364;&#12424;&#12426;
&#22823;&#12365;&#12356;&#12290;&#12418;&#12375;&#12418;&#12289;&#12501;&#12449;&#12452;&#12523;&#12469;&#12540;&#12496;&#12398;&#12501;&#12455;&#12540;&#12523;&#12458;&#12540;&#12496;&#12392;&#12375;&#12390;&#25509;&#32154;&#12364;&#20013;&#26029;&#12373;&#12428;&#12383;&#12394;&#12425;&#12400;&#12289;&#26032;&#12375;&#12356;
&#12475;&#12483;&#12471;&#12519;&#12531;&#12399;&#20877;&#24230;&#30906;&#31435;&#12379;&#12397;&#12400;&#12394;&#12425;&#12394;&#12356;&#12290;&#12488;&#12521;&#12531;&#12473;&#12509;&#12540;&#12488;&#23652;&#12364;&#20999;&#26029;&#12373;&#12428;&#12383;&#26178;&#12363;&#12425;&#27491;&#12375;&#12367;&#24489;&#24112;&#12377;&#12427;&#12383;&#12417;&#12395;
&#12503;&#12525;&#12464;&#12521;&#12511;&#12531;&#12464;&#12373;&#12428;&#12390;&#12356;&#12427;Windows&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#12399;&#12414;&#12428;&#12391;&#12354;&#12427;&#12290;&#12381;&#12398;&#12383;&#12417;&#12289;&#12411;&#12392;&#12435;&#12393;&#12398;
&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12399;&#12289;&#12354;&#12427;&#31278;&#12398;&#20013;&#26029;&#12434;&#32076;&#39443;&#12377;&#12427;&#12371;&#12392;&#12395;&#12394;&#12427;&#12290;&#26368;&#24746;&#12398;&#22580;&#21512;&#12289;&#12450;&#12508;&#12540;&#12488;&#12375;&#12390;&#20877;&#36215;&#21205;&#12364;
&#24517;&#35201;&#12392;&#12394;&#12427;&#12290;
</p><p>
<a class="indexterm" name="id2630856"></a>
<a class="indexterm" name="id2630863"></a>
<a class="indexterm" name="id2630870"></a>
&#12418;&#12375;&#12418;&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#12475;&#12483;&#12471;&#12519;&#12531;&#12364;&#12289;oplocks&#12398;&#12383;&#12417;&#12395;&#12289;&#12525;&#12540;&#12459;&#12523;&#12395;&#26360;&#12365;&#36796;&#12415;&#12392;&#35501;&#12415;&#21462;&#12426;&#12434;
&#12461;&#12515;&#12483;&#12471;&#12531;&#12464;&#12375;&#12390;&#12356;&#12427;&#12394;&#12425;&#12289;TCP&#12398;&#20013;&#26029;&#12363;&#12425;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12398;&#20877;&#36215;&#21205;&#12414;&#12383;&#12399;&#24489;&#24112;&#12398;&#12392;&#12365;&#12395;
&#12487;&#12540;&#12479;&#12364;&#21930;&#22833;&#12377;&#12427;&#12384;&#12429;&#12358;&#12290;&#12501;&#12449;&#12452;&#12523;&#12469;&#12540;&#12496;&#12364;&#24489;&#26087;&#12377;&#12427;&#12392;&#12289;oplocks&#12398;&#12502;&#12524;&#12540;&#12463;&#12399;&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;
&#12395;&#12399;&#36865;&#20449;&#12373;&#12428;&#12394;&#12356;&#12290;&#12371;&#12398;&#22580;&#21512;&#12289;&#20808;&#12398;&#12475;&#12483;&#12471;&#12519;&#12531;&#12363;&#12425;&#12398;&#20316;&#26989;&#12399;&#22833;&#12431;&#12428;&#12427;&#12290;oplocks&#12364;&#28961;&#21177;&#12395;
&#12394;&#12387;&#12390;&#12356;&#12390;&#12289;&#12522;&#12450;&#12523;&#12479;&#12452;&#12512;&#12395;&#12501;&#12449;&#12452;&#12523;&#12469;&#12540;&#12496;&#12395;&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#12364;&#12487;&#12540;&#12479;&#12434;&#26360;&#12365;&#36796;&#12416;&#12392;&#12356;&#12358;
&#12471;&#12490;&#12522;&#12458;&#12434;&#35251;&#23519;&#12377;&#12427;&#12371;&#12392;&#12391;&#12289;&#12501;&#12455;&#12452;&#12523;&#12458;&#12540;&#12496;&#12399;&#12289;&#20999;&#26029;&#26178;&#12395;&#23384;&#22312;&#12377;&#12427;&#12487;&#12451;&#12473;&#12463;&#19978;&#12398;&#12487;&#12540;&#12479;&#12434;
&#25552;&#20379;&#12377;&#12427;&#12290;
</p><p>
&#12511;&#12483;&#12471;&#12519;&#12531;&#12463;&#12522;&#12486;&#12451;&#12459;&#12523;&#12394;&#12289;&#39640;&#21487;&#29992;&#24615;&#29872;&#22659;&#12391;&#12399;&#12289;oplocks&#12395;&#23550;&#12375;&#12390;&#21427;&#37325;&#12394;&#27880;&#24847;&#12434;&#12399;&#12425;&#12358;&#12409;&#12365;&#12391;&#12354;&#12427;&#12290;
&#29702;&#24819;&#30340;&#12395;&#12399;&#12289;&#24195;&#31684;&#22258;&#12394;&#12486;&#12473;&#12488;&#12399;&#12289;oplocks&#12364;&#26377;&#21177;&#12363;&#12388;&#28961;&#21177;&#12394;&#29366;&#24907;&#12391;&#12289;&#12377;&#12409;&#12390;&#12398;&#24433;&#38911;&#12373;&#12428;&#12427;
&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12391;&#34892;&#12358;&#12409;&#12365;&#12391;&#12354;&#12427;&#12290;
</p><div class="sect3" title="&#20849;&#26377;&#12398;&#25490;&#20182;&#30340;&#12394;&#12450;&#12463;&#12475;&#12473;"><div class="titlepage"><div><div><h4 class="title"><a name="id2630916"></a>&#20849;&#26377;&#12398;&#25490;&#20182;&#30340;&#12394;&#12450;&#12463;&#12475;&#12473;</h4></div></div></div><p>
oplocks&#12399;&#12289;&#21336;&#19968;&#12398;&#12518;&#12540;&#12470;&#12363;&#12289;&#21516;&#26178;&#12395;1&#20154;&#12398;&#12415;&#12398;&#12518;&#12540;&#12470;&#12391;&#12289;&#25490;&#20182;&#30340;&#12395;&#12450;&#12463;&#12475;&#12473;&#12373;&#12428;&#12427;&#20849;&#26377;&#12395;&#38480;&#23450;
&#12373;&#12428;&#12427;&#26178;&#12395;&#26368;&#12418;&#26377;&#21177;&#12391;&#12354;&#12427;&#12290;oplocks&#12398;&#26412;&#24403;&#12398;&#23039;&#12399;&#12289;&#12525;&#12540;&#12459;&#12523;&#12395;&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#12391;&#12461;&#12515;&#12483;&#12471;&#12531;&#12464;
&#12373;&#12428;&#12390;&#12356;&#12427;&#12487;&#12540;&#12479;&#12392;&#12356;&#12358;&#29702;&#30001;&#12395;&#12424;&#12426;&#12289;&#12461;&#12515;&#12483;&#12471;&#12531;&#12464;&#12434;&#20013;&#26029;&#12377;&#12427;&#20309;&#12425;&#12363;&#12398;&#25805;&#20316;&#12399;&#36933;&#24310;&#12434;&#24341;&#12365;&#36215;&#12371;&#12377;&#12290;
</p><p>
&#12507;&#12540;&#12512;&#12487;&#12451;&#12524;&#12463;&#12488;&#12522;&#12399;&#12289;oplocks&#12364;&#21839;&#38988;&#12394;&#12356;&#12392;&#29702;&#35299;&#12373;&#12428;&#12289;&#21177;&#29575;&#12434;&#24471;&#12425;&#12428;&#12427;&#12289;&#26368;&#12418;&#26126;&#12425;&#12363;&#12394;&#20363;&#12391;&#12354;&#12427;&#12290;
</p></div><div class="sect3" title="&#20849;&#26377;&#12414;&#12383;&#12399;&#12501;&#12449;&#12452;&#12523;&#12395;&#23550;&#12377;&#12427;&#22810;&#37325;&#12450;&#12463;&#12475;&#12473;"><div class="titlepage"><div><div><h4 class="title"><a name="id2630944"></a>&#20849;&#26377;&#12414;&#12383;&#12399;&#12501;&#12449;&#12452;&#12523;&#12395;&#23550;&#12377;&#12427;&#22810;&#37325;&#12450;&#12463;&#12475;&#12473;</h4></div></div></div><p>
&#20849;&#26377;&#20013;&#12398;&#12501;&#12449;&#12452;&#12523;&#12408;&#21508;&#36861;&#21152;&#12518;&#12540;&#12470;&#12364;oplocks&#12434;&#26377;&#21177;&#12395;&#12375;&#12390;&#12450;&#12463;&#12475;&#12473;&#12377;&#12427;&#12392;&#12289;&#36933;&#24310;&#12398;&#21487;&#33021;&#24615;&#12392;&#12289;
&#32080;&#26524;&#12392;&#12375;&#12390;&#29983;&#12376;&#12427;&#24615;&#33021;&#12398;&#20302;&#19979;&#12364;&#22679;&#22823;&#12377;&#12427;&#12290;&#35079;&#25968;&#12398;&#12518;&#12540;&#12470;&#12364;&#12289;oplocks&#12434;&#26377;&#21177;&#12395;&#12375;&#12383;&#20849;&#26377;&#19978;&#12398;
&#12501;&#12449;&#12452;&#12523;&#12395;&#12450;&#12463;&#12475;&#12473;&#12377;&#12427;&#26178;&#12289;oplocks&#12502;&#12524;&#12540;&#12463;&#12398;&#36865;&#21463;&#20449;&#12392;&#12289;&#12398;&#31649;&#29702;&#12392;&#12289;&#12487;&#12540;&#12479;&#12398;&#12458;&#12501;&#12475;&#12483;&#12488;&#12434;
&#12501;&#12521;&#12483;&#12471;&#12517;&#12377;&#12427;&#12383;&#12417;&#12395;&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#12398;&#12461;&#12515;&#12483;&#12471;&#12531;&#12464;&#12434;&#20182;&#12398;&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#12364;&#24453;&#12388;&#38291;&#12395;&#32080;&#26524;&#12392;&#12375;&#12390;
&#29983;&#12376;&#12427;&#36933;&#24310;&#12398;&#31649;&#29702;&#12398;&#24433;&#38911;&#12399;&#12289;&#12461;&#12515;&#12483;&#12471;&#12517;&#12375;&#12390;&#12356;&#12427;&#12518;&#12540;&#12470;&#12398;&#21177;&#29575;&#21521;&#19978;&#12434;&#30456;&#27578;&#12377;&#12427;&#12290;
</p><p>
oplocks&#12434;&#35373;&#23450;&#12375;&#12390;&#21508;&#36861;&#21152;&#12398;&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#12364;&#12501;&#12449;&#12452;&#12523;&#12395;&#12450;&#12463;&#12475;&#12473;&#12377;&#12427;&#26178;&#12289;&#28508;&#22312;&#30340;&#12394;&#21177;&#29575;&#12398;
&#21521;&#19978;&#12399;&#21542;&#23450;&#12373;&#12428;&#12289;&#26368;&#32066;&#30340;&#12395;&#12399;&#21177;&#29575;&#12398;&#12508;&#12488;&#12523;&#12493;&#12483;&#12463;&#12392;&#12394;&#12427;&#12290;
</p></div><div class="sect3" title="UNIX&#12414;&#12383;&#12399;NFS&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#12364;&#12450;&#12463;&#12475;&#12473;&#12375;&#12383;&#12501;&#12449;&#12452;&#12523;"><div class="titlepage"><div><div><h4 class="title"><a name="id2630975"></a>UNIX&#12414;&#12383;&#12399;NFS&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#12364;&#12450;&#12463;&#12475;&#12473;&#12375;&#12383;&#12501;&#12449;&#12452;&#12523;</h4></div></div></div><p>
<a class="indexterm" name="id2630985"></a>
<a class="indexterm" name="id2630992"></a>
&#12525;&#12540;&#12459;&#12523;&#12398;UNIX&#12392;NFS&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#12399;&#24375;&#21046;&#30340;&#12394;&#12501;&#12449;&#12452;&#12523;&#12525;&#12483;&#12463;&#12513;&#12459;&#12491;&#12474;&#12512;&#12394;&#12375;&#12391;&#12501;&#12449;&#12452;&#12523;&#12395;&#12450;&#12463;&#12475;&#12473;
&#12377;&#12427;&#12290;&#12381;&#12398;&#12383;&#12417;&#12289;&#12381;&#12428;&#12425;&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#12503;&#12521;&#12483;&#12488;&#12501;&#12457;&#12540;&#12512;&#12399;&#12289;&#12501;&#12449;&#12452;&#12523;&#12434;&#12461;&#12515;&#12483;&#12471;&#12517;&#12375;&#12390;&#12356;&#12427;
Windows&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#12395;&#12469;&#12540;&#12496;&#12363;&#12425;&#12398;oplocks&#12502;&#12524;&#12540;&#12463;&#12434;&#21021;&#26399;&#21270;&#12391;&#12365;&#12394;&#12356;&#12290;&#12525;&#12540;&#12459;&#12523;&#12398;UNIX&#12363;
NFS&#12501;&#12449;&#12452;&#12523;&#12450;&#12463;&#12475;&#12473;&#12399;&#12371;&#12398;&#12383;&#12417;&#12289;&#12487;&#12540;&#12479;&#12364;&#22730;&#12428;&#12427;&#12424;&#12358;&#12394;&#12501;&#12449;&#12452;&#12523;&#12434;&#20844;&#38283;&#12375;&#12390;&#12356;&#12427;&#12289;Windows
&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#12395;&#12424;&#12387;&#12390;&#12461;&#12515;&#12483;&#12471;&#12517;&#12373;&#12428;&#12383;&#12501;&#12449;&#12452;&#12523;&#12395;&#26360;&#12365;&#36796;&#12417;&#12427;&#12290;
</p><p>
&#12418;&#12375;&#12418;&#12289;&#12501;&#12449;&#12452;&#12523;&#12364;Windows&#38291;&#12392;&#12525;&#12540;&#12459;&#12523;UNIX&#12363;NFS&#12518;&#12540;&#12470;&#12395;&#12424;&#12387;&#12390;&#20849;&#26377;&#12373;&#12428;&#12390;&#12356;&#12427;&#12394;&#12425;&#12400;&#12289;
oplocks&#12399;off&#12395;&#12377;&#12427;&#12290;
</p></div><div class="sect3" title="&#36933;&#12367;&#12390;&#20449;&#38972;&#12391;&#12365;&#12394;&#12356;&#12493;&#12483;&#12488;&#12527;&#12540;&#12463;"><div class="titlepage"><div><div><h4 class="title"><a name="id2631020"></a>&#36933;&#12367;&#12390;&#20449;&#38972;&#12391;&#12365;&#12394;&#12356;&#12493;&#12483;&#12488;&#12527;&#12540;&#12463;</h4></div></div></div><p>
<a class="indexterm" name="id2631028"></a>
<a class="indexterm" name="id2631035"></a>
<a class="indexterm" name="id2631042"></a>
&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#12469;&#12452;&#12489;&#12398;&#35501;&#12415;&#21462;&#12426;&#12392;&#26360;&#12365;&#36796;&#12415;&#12398;&#12461;&#12515;&#12483;&#12471;&#12531;&#12464;&#12364;&#12289;&#22238;&#32218;&#19978;&#12391;&#12381;&#12428;&#12425;&#12398;&#35501;&#12415;&#26360;&#12365;&#12434;&#36865;&#12427;
&#19978;&#12391;&#12398;&#22823;&#37096;&#20998;&#12398;&#24046;&#20998;&#12434;&#36865;&#12427;&#26178;&#12395;&#12289;oplocks&#12364;&#36973;&#36935;&#12377;&#12427;&#24615;&#33021;&#21521;&#19978;&#12398;&#26368;&#12418;&#22823;&#12365;&#12394;&#21487;&#33021;&#24615;&#12364;&#12354;&#12427;&#12290;
&#12371;&#12428;&#12399;&#12289;&#12493;&#12483;&#12488;&#12527;&#12540;&#12463;&#12364;&#12392;&#12390;&#12418;&#36933;&#12367;&#12289;&#35440;&#12414;&#12387;&#12390;&#12356;&#12427;&#12363;&#20998;&#25955;&#12375;&#12390;&#12356;&#12427;(WAN&#20013;&#12398;&#22580;&#21512;)&#12395;&#12399;&#12289;&#38971;&#32321;&#12395;&#36215;&#12365;&#12427;&#12290;
&#12375;&#12363;&#12375;&#12289;&#12493;&#12483;&#12488;&#12527;&#12540;&#12463;&#12398;&#36933;&#24310;&#12364;oplocks&#12513;&#12459;&#12491;&#12474;&#12512;&#12398;&#20449;&#38972;&#24615;&#12395;&#38306;&#12375;&#12390;&#22823;&#12365;&#12394;&#24433;&#38911;&#12364;&#12354;&#12426;&#12289;&#12381;&#12398;&#12383;&#12417;&#12289;
&#28508;&#22312;&#30340;&#12395;&#30693;&#35226;&#12391;&#12365;&#12427;&#21177;&#29575;&#12398;&#21521;&#19978;&#12434;&#21313;&#20108;&#20998;&#12395;&#30456;&#27578;&#12377;&#12427;oplocks&#21839;&#38988;&#12434;&#30330;&#29983;&#12377;&#12427;&#35211;&#36796;&#12415;&#12434;&#22679;&#22823;&#12377;&#12427;&#12290;
&#12418;&#12385;&#12429;&#12435;&#12289;&#12418;&#12375;&#12418;oplocks&#12502;&#12524;&#12540;&#12463;&#12364;&#12289;&#27770;&#12375;&#12390;&#36865;&#12425;&#12428;&#12427;&#24517;&#35201;&#12364;&#12394;&#12369;&#12428;&#12400;&#12289;&#12371;&#12428;&#12399;&#12289;oplocks&#12434;&#21033;&#29992;
&#12377;&#12427;&#26368;&#12418;&#21177;&#29575;&#30340;&#12394;&#12471;&#12490;&#12522;&#12458;&#12391;&#12354;&#12427;&#12290;
</p><p>
&#12418;&#12375;&#12418;&#12493;&#12483;&#12488;&#12527;&#12540;&#12463;&#12364;&#36933;&#12356;&#12363;&#12289;&#20449;&#38972;&#24615;&#12364;&#12394;&#12356;&#12400;&#12354;&#12356;&#12363;&#12289;WAN&#12398;&#22580;&#21512;&#12289;&#12418;&#12375;&#12418;&#35079;&#25968;&#12398;&#12518;&#12540;&#12470;&#12364;
&#21516;&#12376;&#12501;&#12449;&#12452;&#12523;&#12434;&#23450;&#26399;&#30340;&#12395;&#38283;&#12367;&#20107;&#12364;&#12354;&#12427;&#22580;&#21512;&#12289;&#27770;&#12375;&#12390;oplocks&#12434;&#35373;&#23450;&#12375;&#12394;&#12356;&#12371;&#12392;&#12290;
</p></div><div class="sect3" title="&#12510;&#12523;&#12481;&#12518;&#12540;&#12470;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;"><div class="titlepage"><div><div><h4 class="title"><a name="id2631089"></a>&#12510;&#12523;&#12481;&#12518;&#12540;&#12470;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;</h4></div></div></div><p>
<a class="indexterm" name="id2631097"></a>
<a class="indexterm" name="id2631105"></a>
<a class="indexterm" name="id2631112"></a>
&#12510;&#12523;&#12481;&#12518;&#12540;&#12470;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12399;&#12289;&#12381;&#12398;&#26412;&#36074;&#30340;&#12394;&#24615;&#36074;&#12363;&#12425;&#12289;&#26126;&#12425;&#12363;&#12395;&#21361;&#38522;&#12391;&#12354;&#12427;&#12290;&#12381;&#12428;&#12425;&#12399;&#36890;&#24120;&#19981;&#23450;
&#38291;&#38548;&#12391;&#12383;&#12367;&#12373;&#12435;&#12398;&#12518;&#12540;&#12470;&#12395;&#12424;&#12387;&#12390;&#28608;&#12375;&#12367;&#12450;&#12463;&#12475;&#12473;&#12373;&#12428;&#12427;&#12290;oplocks&#12364;&#26377;&#21177;&#12395;&#12394;&#12387;&#12390;&#12356;&#12427;&#20849;&#26377;&#19978;&#12391;
&#12510;&#12523;&#12481;&#12518;&#12540;&#12470;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12434;&#37197;&#32622;&#12377;&#12427;&#12392;&#12289;Samba&#12469;&#12540;&#12496;&#19978;&#12391;&#12398;&#12525;&#12483;&#12461;&#12531;&#12464;&#31649;&#29702;&#12398;&#12508;&#12488;&#12523;&#12493;&#12483;&#12463;&#12395;
&#12394;&#12427;&#12384;&#12429;&#12358;&#12290;&#25163;&#20316;&#12426;&#12354;&#12427;&#12356;&#12399;&#25152;&#29992;&#35069;&#21697;&#12398;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12398;&#12393;&#12385;&#12425;&#12395;&#12379;&#12424;&#12289;
&#20849;&#26377;&#12398;oplocks&#12399;&#28961;&#21177;&#12395;&#12377;&#12427;&#12371;&#12392;&#12290;
</p></div><div class="sect3" title="PDM Data Shares"><div class="titlepage"><div><div><h4 class="title"><a name="id2631131"></a>PDM Data Shares</h4></div></div></div><p>
<a class="indexterm" name="id2631139"></a>
<a class="indexterm" name="id2631146"></a>
<a class="indexterm" name="id2631153"></a>
<a class="indexterm" name="id2631160"></a>
<a class="indexterm" name="id2631168"></a>
IMAN&#12289;Enovia&#12420;Cleacase&#12398;&#12424;&#12358;&#12394;Process data management (PDM)&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12399;Windows
&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#12503;&#12521;&#12483;&#12488;&#12501;&#12457;&#12540;&#12512;&#12391;&#12398;&#20351;&#29992;&#12364;&#22679;&#12360;&#12289;&#12381;&#12398;&#12383;&#12417;&#12289;SMB&#12395;&#12424;&#12427;&#12487;&#12540;&#12479;&#26684;&#32013;&#12418;&#22679;&#12360;&#12390;&#12356;&#12427;&#12290;
PDM&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12399;&#12289;&#37325;&#35201;&#12394;&#12487;&#12540;&#12479;&#12398;&#12475;&#12461;&#12517;&#12522;&#12486;&#12451;&#12392;&#12450;&#12463;&#12475;&#12473;&#12398;&#12383;&#12417;&#12395;&#12289;&#35079;&#25968;&#12518;&#12540;&#12470;&#29872;&#22659;&#12434;
&#31649;&#29702;&#12377;&#12427;&#12290;&#19968;&#33324;&#30340;&#12394;PDM&#29872;&#22659;&#12391;&#12399;&#12289;&#24517;&#35201;&#12395;&#24540;&#12376;&#12390;&#12525;&#12540;&#12459;&#12523;&#12395;&#12525;&#12540;&#12489;&#12377;&#12427;&#12487;&#12540;&#12479;&#12399;&#12289;&#27927;&#32244;&#12373;&#12428;&#12383;
&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#12487;&#12470;&#12452;&#12531;&#12398;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12395;&#38306;&#36899;&#12389;&#12369;&#12425;&#12428;&#12427;&#12290;&#26356;&#12395;&#36861;&#21152;&#12391;&#12289;PDM&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12399;
&#36890;&#24120;&#21508;&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#12398;&#12487;&#12540;&#12479;&#29366;&#24907;&#12434;&#12514;&#12491;&#12479;&#12377;&#12427;&#12290;&#12371;&#12398;&#22580;&#21512;&#12289;&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#12469;&#12452;&#12489;&#12398;&#12487;&#12540;&#12479;
&#12461;&#12515;&#12483;&#12471;&#12531;&#12464;&#12399;&#12289;&#12525;&#12540;&#12459;&#12523;&#12398;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12392;PDM&#12469;&#12540;&#12496;&#12391;&#21332;&#35519;&#12375;&#12390;&#20445;&#23432;&#12377;&#12427;&#12383;&#12417;&#12395;&#12289;&#26368;&#12418;
&#27531;&#12373;&#12428;&#12427;&#12290;&#20219;&#24847;&#12398;&#12461;&#12515;&#12483;&#12471;&#12531;&#12464;&#20316;&#26989;&#12363;&#12425;&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;OS&#12434;&#12289;&#20219;&#24847;&#12398;oplocks&#31649;&#29702;&#12363;&#12425;&#12289;&#20849;&#26377;&#19978;&#12391;
oplocks&#12434;&#28961;&#21177;&#12395;&#12377;&#12427;&#12371;&#12392;&#12395;&#12424;&#12387;&#12390;&#21462;&#12426;&#38500;&#12367;&#12371;&#12392;&#12399;&#36969;&#20999;&#12391;&#12354;&#12427;&#12290;
</p></div><div class="sect3" title="Force User&#12395;&#23550;&#12377;&#12427;&#27880;&#24847;"><div class="titlepage"><div><div><h4 class="title"><a name="id2631208"></a>Force User&#12395;&#23550;&#12377;&#12427;&#27880;&#24847;</h4></div></div></div><p>
<a class="indexterm" name="id2631216"></a>
Samba&#12395;&#12399;&#12289;<code class="filename">smb.conf</code>&#12398;&#22793;&#25968;&#12395;&#12424;&#12387;&#12390;&#23450;&#32681;&#12373;&#12428;&#12427;&#12393;&#12435;&#12394;&#12518;&#12540;&#12470;&#12395;&#12418;&#12289;&#25509;&#32154;&#12375;&#12390;&#12365;&#12383;&#12518;&#12540;&#12470;&#12364;
&#20849;&#26377;&#12395;&#12450;&#12463;&#12475;&#12473;&#12377;&#12427;&#26178;&#12395;&#12289;&#12518;&#12540;&#12470;&#12434;&#22793;&#26356;&#12377;&#12427;<a class="link" href="smb.conf.5.html#FORCEUSER" target="_top">force user</a>&#12392;&#12356;&#12358;
&#12497;&#12521;&#12513;&#12540;&#12479;&#12434;<code class="filename">smb.conf</code>&#20013;&#12395;&#21547;&#12416;&#12371;&#12392;&#12364;&#20986;&#26469;&#12427;&#12290;&#12418;&#12375;&#12418;oplocks&#12364;&#20849;&#26377;&#19978;&#12391;&#26377;&#21177;&#12395;&#12394;&#12387;&#12390;&#12356;&#12427;&#22580;&#21512;&#12289;
&#12518;&#12540;&#12470;&#12450;&#12463;&#12475;&#12473;&#20013;&#12398;&#22793;&#26356;&#12399;&#12289;&#12518;&#12540;&#12470;&#12364;&#26126;&#31034;&#30340;&#12395;&#12501;&#12449;&#12452;&#12523;&#12434;&#12525;&#12540;&#12489;&#12375;&#12394;&#12367;&#12392;&#12418;&#12289;&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#12395;&#36865;&#20449;
&#12377;&#12427;oplocks&#12502;&#12524;&#12540;&#12463;&#12434;&#30330;&#29983;&#12373;&#12379;&#12427;&#12290;&#12493;&#12483;&#12488;&#12527;&#12540;&#12463;&#12364;&#36933;&#12356;&#12363;&#20449;&#38972;&#24615;&#12364;&#12394;&#12356;&#22580;&#21512;&#12289;&#12501;&#12449;&#12452;&#12523;&#12395;&#12450;&#12463;&#12475;&#12473;
&#12375;&#12390;&#12356;&#12427;&#12518;&#12540;&#12470;&#12394;&#12375;&#12391;oplocks&#12502;&#12524;&#12540;&#12463;&#12364;&#22833;&#12431;&#12428;&#12427;&#12371;&#12392;&#12364;&#12354;&#12427;&#12290;&#12371;&#12428;&#12399;&#12289;oplocks&#12502;&#12524;&#12540;&#12463;&#12398;&#21930;&#22833;&#12434;
&#35036;&#12358;&#12383;&#12417;&#12395;&#12289;&#32118;&#12360;&#12378;&#20877;&#25509;&#32154;&#12377;&#12427;&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#12392;&#12375;&#12390;&#35211;&#12383;&#30446;&#12398;&#21177;&#29575;&#20302;&#19979;&#12434;&#24341;&#12365;&#36215;&#12371;&#12377;&#12290;
</p><p>
&#20197;&#19979;&#12434;&#32068;&#12415;&#21512;&#12431;&#12379;&#12427;&#12371;&#12392;&#12434;&#38450;&#12368;:
</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
	<code class="filename">smb.conf</code>&#20013;&#12398;&#20849;&#26377;&#23450;&#32681;&#20013;&#12398;<a class="link" href="smb.conf.5.html#FORCEUSER" target="_top">force user</a> &#12290;
	</p></li><li class="listitem"><p>
	&#36933;&#12356;&#12363;&#20449;&#38972;&#24615;&#12398;&#12394;&#12356;&#12493;&#12483;&#12488;&#12527;&#12540;&#12463;&#12290;
	</p></li><li class="listitem"><p>
	Oplocks&#12364;&#26377;&#21177;&#12290;
	</p></li></ul></div></div><div class="sect3" title="&#39640;&#24230;&#12394;Samba Oplocks&#12497;&#12521;&#12513;&#12540;&#12479;"><div class="titlepage"><div><div><h4 class="title"><a name="id2631314"></a>&#39640;&#24230;&#12394;Samba Oplocks&#12497;&#12521;&#12513;&#12540;&#12479;</h4></div></div></div><p>
<a class="indexterm" name="id2631321"></a>
<a class="indexterm" name="id2631328"></a>
<a class="indexterm" name="id2631336"></a>
Samba&#12399;&#12479;&#12452;&#12511;&#12531;&#12464;&#12392;&#20351;&#29992;&#12524;&#12505;&#12523;&#12398;&#35336;&#28204;&#12398;&#12383;&#12417;&#12395;oplocks&#12513;&#12459;&#12491;&#12474;&#12512;&#12398;&#12289;&#31278;&#12293;&#12398;&#12503;&#12525;&#12497;&#12486;&#12451;&#12434;
&#31649;&#29702;&#32773;&#12364;&#35519;&#25972;&#12391;&#12365;&#12427;oplocks&#12497;&#12521;&#12513;&#12540;&#12479;&#12434;&#25552;&#20379;&#12377;&#12427;&#12290;&#12371;&#12428;&#12425;&#12398;&#12497;&#12521;&#12513;&#12540;&#12479;&#12399;&#12289;&#21839;&#38988;&#12434;&#24341;&#12365;&#36215;&#12371;&#12377;
&#12424;&#12358;&#12394;&#29872;&#22659;&#20013;&#12391;oplocks&#12434;&#23455;&#35013;&#12377;&#12427;&#12383;&#12417;&#12395;&#12289;&#12377;&#12368;&#12428;&#12383;&#34701;&#36890;&#24615;&#12434;&#25552;&#20379;&#12377;&#12427;&#12290;&#12497;&#12521;&#12513;&#12540;&#12479;&#12399;&#12289;
<a class="link" href="smb.conf.5.html#OPLOCKBREAKWAITTIME" target="_top">oplock break wait time</a>&#12392;
<a class="link" href="smb.conf.5.html#OPLOCKCONTENTIONLIMIT" target="_top">oplock contention limit</a>&#12391;&#12354;&#12427;&#12290;
</p><p>
<a class="indexterm" name="id2631382"></a>
&#12411;&#12392;&#12435;&#12393;&#12398;&#12518;&#12540;&#12470;&#12289;&#31649;&#29702;&#32773;&#12392;&#29872;&#22659;&#12395;&#12392;&#12387;&#12390;&#12289;&#12418;&#12375;&#12418;&#12289;&#12371;&#12428;&#12425;&#12398;&#12497;&#12521;&#12513;&#12540;&#12479;&#12364;&#24517;&#35201;&#12394;&#12425;&#12400;&#12289;&#12424;&#12426;&#33391;&#12356;
&#36984;&#25246;&#32930;&#12399;&#12289;&#21336;&#12395;oplocks&#12434;off&#12395;&#12377;&#12427;&#12371;&#12392;&#12391;&#12354;&#12427;&#12290;Samba SWAT&#12391;&#12399;&#12289;&#20001;&#12497;&#12521;&#12513;&#12540;&#12479;&#12395;&#12388;&#12356;&#12390;&#12289;
<span class="quote">&#8220;<span class="quote">Samba oplocks&#12467;&#12540;&#12489;&#12434;&#35501;&#35299;&#12375;&#12394;&#12356;&#38480;&#12426;&#12289;&#12371;&#12398;&#12497;&#12521;&#12513;&#12540;&#12479;&#12434;&#22793;&#26356;&#12375;&#12394;&#12356;&#12371;&#12392;&#12290;</span>&#8221;</span>
&#12392;&#12356;&#12358;&#35500;&#26126;&#12364;&#12354;&#12427;&#12290;&#12371;&#12428;&#12399;&#33391;&#12356;&#21161;&#35328;&#12391;&#12354;&#12427;&#12290;
</p></div><div class="sect3" title="&#12511;&#12483;&#12471;&#12519;&#12531;&#12463;&#12522;&#12486;&#12451;&#12459;&#12523;&#12289;&#39640;&#20449;&#38972;&#24615;"><div class="titlepage"><div><div><h4 class="title"><a name="id2631408"></a>&#12511;&#12483;&#12471;&#12519;&#12531;&#12463;&#12522;&#12486;&#12451;&#12459;&#12523;&#12289;&#39640;&#20449;&#38972;&#24615;</h4></div></div></div><p>
&#12511;&#12483;&#12471;&#12519;&#12531;&#12463;&#12522;&#12486;&#12451;&#12459;&#12523;&#12289;&#39640;&#20449;&#38972;&#24615;&#12434;&#24517;&#35201;&#12392;&#12377;&#12427;&#29872;&#22659;&#12391;&#12399;&#12289;&#12487;&#12540;&#12479;&#12398;&#25972;&#21512;&#24615;&#12364;&#12375;&#12400;&#12375;&#12400;
&#20778;&#20808;&#12373;&#12428;&#12427;&#12290;&#35079;&#38609;&#12391;&#39640;&#20385;&#12394;&#27083;&#25104;&#12399;&#12289;&#12418;&#12375;&#12418;&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#12392;&#12501;&#12449;&#12452;&#12523;&#12469;&#12540;&#12496;&#12408;&#12398;&#25509;&#32154;&#12364;&#20999;&#12428;&#12383;&#26178;&#12289;
&#12501;&#12455;&#12452;&#12523;&#12458;&#12540;&#12496;&#12395;&#12424;&#12427;&#20999;&#12426;&#26367;&#12360;&#12364;&#12289;&#32153;&#32154;&#12375;&#12383;&#12487;&#12540;&#12479;&#12398;&#26377;&#21177;&#24615;&#12434;&#25552;&#20379;&#12377;&#12427;&#12383;&#12417;&#12395;&#12377;&#12368;&#12395;&#34892;&#12431;&#12428;&#12427;
&#12424;&#12358;&#12395;&#23455;&#35013;&#12373;&#12428;&#12427;&#12290;
</p><p>
Windows&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#12398;&#12501;&#12455;&#12452;&#12523;&#12458;&#12540;&#12496;&#12398;&#21205;&#20316;&#12399;&#12289;&#30906;&#31435;&#12375;&#12383;TCP&#12488;&#12521;&#12531;&#12473;&#12509;&#12540;&#12488;&#23652;&#12398;&#25509;&#32154;&#12395;
&#20381;&#23384;&#12375;&#12390;&#12356;&#12427;&#12383;&#12417;&#12395;&#12289;&#20182;&#12398;&#12503;&#12521;&#12483;&#12488;&#12501;&#12457;&#12540;&#12512;&#12424;&#12426;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12398;&#20013;&#26029;&#12392;&#12356;&#12358;&#12522;&#12473;&#12463;&#12392;&#12394;&#12427;&#12290;
&#12418;&#12375;&#12418;&#12289;&#12501;&#12449;&#12452;&#12523;&#12469;&#12540;&#12496;&#12398;&#12501;&#12455;&#12452;&#12523;&#12458;&#12540;&#12496;&#12391;&#25509;&#32154;&#12364;&#20013;&#26029;&#12373;&#12428;&#12383;&#12394;&#12425;&#12400;&#12289;&#26032;&#12375;&#12356;&#12475;&#12483;&#12471;&#12519;&#12531;&#12399;
&#30906;&#31435;&#12373;&#12428;&#12397;&#12400;&#12394;&#12425;&#12394;&#12356;&#12290;&#12488;&#12521;&#12531;&#12473;&#12509;&#12540;&#12488;&#23652;&#12398;&#20999;&#26029;&#12363;&#12425;&#27491;&#12375;&#12367;&#24489;&#24112;&#12377;&#12427;&#12383;&#12417;&#12395;&#12467;&#12540;&#12489;&#12364;&#26360;&#12363;&#12428;&#12390;&#12356;&#12427;
Windows&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12399;&#12414;&#12428;&#12391;&#12354;&#12427;&#12290;&#12381;&#12398;&#12383;&#12417;&#12289;&#12411;&#12392;&#12435;&#12393;&#12398;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12399;&#12289;&#12354;&#12427;&#31278;&#12398;
&#20013;&#26029;&#12364;&#29983;&#12376;&#12427;&#12371;&#12392;&#12395;&#12394;&#12427;&#12290;&#26368;&#24746;&#12398;&#22580;&#21512;&#12289;&#12450;&#12508;&#12540;&#12488;&#12375;&#12390;&#20877;&#36215;&#21205;&#12364;&#24517;&#35201;&#12392;&#12394;&#12427;&#12290;
</p><p>
&#12418;&#12375;&#12418;&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#12475;&#12483;&#12471;&#12519;&#12531;&#12364;&#12289;oplocks&#12395;&#12424;&#12426;&#12289;&#12525;&#12540;&#12459;&#12523;&#12395;&#35501;&#12415;&#26360;&#12365;&#12434;&#12461;&#12515;&#12483;&#12471;&#12517;&#12375;&#12390;&#12356;&#12427;
&#12394;&#12425;&#12400;&#12289;TCP&#12398;&#20013;&#26029;&#12363;&#12425;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12364;&#20877;&#36215;&#21205;&#12363;&#24489;&#24112;&#12377;&#12427;&#26178;&#12289;&#12487;&#12540;&#12479;&#12364;&#22833;&#12431;&#12428;&#12427;&#12363;&#12418;&#12375;&#12428;&#12394;&#12356;&#12290;
TCP&#12398;&#25509;&#32154;&#12364;&#22833;&#12431;&#12428;&#12383;&#26178;&#12289;oplocks&#12502;&#12524;&#12540;&#12463;&#12399;&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#12395;&#12399;&#36865;&#12425;&#12428;&#12394;&#12356;&#12290;&#12371;&#12398;&#22580;&#21512;&#12289;&#20197;&#21069;&#12398;
&#12475;&#12483;&#12471;&#12519;&#12531;&#12363;&#12425;&#12398;&#20316;&#26989;&#12399;&#22833;&#12431;&#12428;&#12427;&#12290;oplocks&#12434;&#28961;&#21177;&#12395;&#12375;&#12390;&#12371;&#12398;&#12471;&#12490;&#12522;&#12458;&#12434;&#35251;&#23519;&#12377;&#12427;&#12392;&#12289;
&#12418;&#12375;&#12418;&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#12364;&#12522;&#12450;&#12523;&#12479;&#12452;&#12512;&#12395;&#12501;&#12449;&#12452;&#12523;&#12469;&#12540;&#12496;&#12395;&#12487;&#12540;&#12479;&#12434;&#26360;&#12365;&#36796;&#12435;&#12391;&#12356;&#12383;&#12425;&#12289;
&#12501;&#12455;&#12452;&#12523;&#12458;&#12540;&#12496;&#12399;&#12487;&#12451;&#12473;&#12467;&#12493;&#12463;&#12488;&#26178;&#12395;&#23384;&#22312;&#12375;&#12383;&#12487;&#12451;&#12473;&#12463;&#19978;&#12398;&#12487;&#12540;&#12479;&#12434;&#25552;&#20379;&#12377;&#12427;&#12384;&#12429;&#12358;&#12290;
</p><p>
&#12511;&#12483;&#12471;&#12519;&#12531;&#12463;&#12522;&#12486;&#12451;&#12459;&#12523;&#12289;&#39640;&#21487;&#29992;&#24615;&#12434;&#35201;&#27714;&#12377;&#12427;&#29872;&#22659;&#12391;&#12399;&#12289;oplocks&#12398;&#20351;&#29992;&#12395;&#12388;&#12356;&#12390;&#12399;&#21427;&#37325;&#12395;&#27880;&#24847;&#12434;
&#25173;&#12358;&#24517;&#35201;&#12364;&#12354;&#12427;&#12290;&#29702;&#24819;&#30340;&#12395;&#12399;&#12289;oplocks&#12434;&#26377;&#21177;/&#28961;&#21177;&#12395;&#12375;&#12383;&#12289;&#12377;&#12409;&#12390;&#12398;&#24433;&#38911;&#12364;&#12354;&#12427;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;
&#12395;&#12388;&#12356;&#12390;&#12289;&#24195;&#31684;&#22258;&#12394;&#12486;&#12473;&#12488;&#12434;&#34892;&#12358;&#12409;&#12365;&#12391;&#12354;&#12427;&#12290;
</p></div></div></div><div class="sect1" title="Samba&#12398;Oplocks&#21046;&#24481;"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id2631500"></a>Samba&#12398;Oplocks&#21046;&#24481;</h2></div></div></div><p>
oplocs&#12399;&#12289;&#12518;&#12491;&#12540;&#12463;&#12394;Windows&#12501;&#12449;&#12452;&#12523;&#12525;&#12483;&#12461;&#12531;&#12464;&#27231;&#33021;&#12391;&#12354;&#12427;&#12290;&#12371;&#12428;&#12399;&#30495;&#12398;&#12501;&#12449;&#12452;&#12523;&#12525;&#12483;&#12461;&#12531;&#12464;&#27231;&#33021;
&#12391;&#12399;&#12394;&#12356;&#12364;&#12289;Windows&#12398;&#12501;&#12449;&#12452;&#12523;&#12525;&#12483;&#12461;&#12531;&#12464;&#12398;&#22810;&#12367;&#12398;&#35696;&#35542;&#20013;&#12395;&#21547;&#12414;&#12428;&#12289;&#12381;&#12398;&#12383;&#12417;&#12289;&#20107;&#23455;&#19978;&#12398;
&#12525;&#12483;&#12461;&#12531;&#12464;&#27231;&#33021;&#12392;&#12375;&#12390;&#32771;&#12360;&#12425;&#12428;&#12427;&#12290;oplocks&#12399;&#12289;&#23455;&#38555;&#12398;&#25152;&#12289;Windows&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#12501;&#12449;&#12452;&#12523;
&#12461;&#12515;&#12483;&#12471;&#12531;&#12464;&#27231;&#33021;&#12398;&#19968;&#37096;&#12391;&#12354;&#12427;&#12290;&#12371;&#12428;&#12399;&#12289;&#12456;&#12531;&#12479;&#12540;&#12503;&#12521;&#12452;&#12474;&#12467;&#12531;&#12500;&#12517;&#12540;&#12486;&#12451;&#12531;&#12464;&#38936;&#22495;&#20013;&#12395;&#23384;&#22312;
&#12377;&#12427;&#12289;&#31278;&#12293;&#12398;&#12459;&#12473;&#12479;&#12510;&#12452;&#12474;&#12373;&#12428;&#12383;&#12493;&#12483;&#12488;&#12527;&#12540;&#12463;&#19978;&#12391;&#23455;&#35013;&#12373;&#12428;&#12427;&#26178;&#12395;&#12399;&#12289;&#12392;&#12426;&#12431;&#12369;&#19976;&#22827;&#12363;&#20449;&#38972;&#24615;&#12364;
&#12354;&#12427;&#27231;&#33021;&#12391;&#12399;&#12394;&#12356;&#12290;
</p><p>
Samba&#12391;&#12399;Windows&#12392;&#21516;&#27096;&#12395;&#12289;&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#20596;&#12398;&#12461;&#12515;&#12483;&#12471;&#12531;&#12464;&#27231;&#27083;&#12391;&#12354;&#12427;oplock&#12434;&#12289;&#12469;&#12540;&#12496;&#20596;&#12398;
&#12467;&#12531;&#12509;&#12540;&#12493;&#12531;&#12488;&#12392;&#12375;&#12390;&#23455;&#35013;&#12375;&#12390;&#12356;&#12427;&#12290;Windows&#12398;&#27231;&#33021;&#35373;&#35336;&#19978;&#12289;oplock &#12399;&#36605;&#37327;&#22411;&#12392;&#12375;&#12390;&#35373;&#23450;&#12373;&#12428;&#12390;
&#12356;&#12427;(&#27231;&#33021;&#12364;&#38480;&#23450;&#12373;&#12428;&#12390;&#12356;&#12427;)&#12290;&#12371;&#12398;&#12383;&#12417;oplock&#12434;&#21177;&#26524;&#30340;&#12395;&#35373;&#23450;&#12377;&#12427;&#12395;&#12399;&#12289;&#12371;&#12428;&#12425;&#12398;&#21046;&#38480;&#20107;&#38917;&#12398;
&#25226;&#25569;&#12364;&#19981;&#21487;&#27424;&#12391;&#12354;&#12426;&#12289;&#12414;&#12383;&#12459;&#12473;&#12479;&#12510;&#12452;&#12474;&#12373;&#12428;&#12383;&#12493;&#12483;&#12488;&#12527;&#12540;&#12463;&#12420;&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#12398;&#21033;&#29992;&#29366;&#27841;&#12395;&#29305;&#21270;
&#12375;&#12383;&#12487;&#12540;&#12479;&#12450;&#12463;&#12475;&#12473;&#12434;&#27083;&#25104;&#12377;&#12427;&#38555;&#12398;&#29702;&#35299;&#12364;&#34892;&#12365;&#23626;&#12356;&#12390;&#12356;&#12427;&#22580;&#21512;&#12395;&#12398;&#12415;&#36969;&#29992;&#12373;&#12428;&#12427;&#12418;&#12398;&#12391;&#12354;&#12427;&#12290;
</p><p>
Oplocks&#12398;&#22522;&#26412;&#30340;&#12394;&#24847;&#21619;&#12399;&#12289;&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#12364;&#12289;&#22793;&#26356;&#20013;&#12395;&#12381;&#12398;&#12495;&#12540;&#12489;&#12489;&#12521;&#12452;&#12502;&#19978;&#12395;&#12501;&#12449;&#12452;&#12523;&#12434;
&#12480;&#12454;&#12531;&#12525;&#12540;&#12489;&#12375;&#12289;&#12461;&#12515;&#12483;&#12471;&#12517;&#20986;&#26469;&#12427;&#12392;&#12356;&#12358;&#12371;&#12392;&#12391;&#12354;&#12427;&#12290;&#12418;&#12375;&#12418;&#12289;2&#30058;&#30446;&#12398;&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#12364;&#12501;&#12449;&#12452;&#12523;&#12395;
&#12450;&#12463;&#12475;&#12473;&#12375;&#12424;&#12358;&#12392;&#12375;&#12383;&#22580;&#21512;&#12289;&#26368;&#21021;&#12398;&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#12399;&#12502;&#12524;&#12540;&#12463;&#12434;&#21463;&#12369;&#21462;&#12426;&#12289;&#12469;&#12540;&#12496;&#12395;&#23550;&#12375;&#12390;
&#21516;&#26399;&#12434;&#21462;&#12425;&#12397;&#12400;&#12394;&#12425;&#12394;&#12356;&#12290;&#12371;&#12428;&#12399;&#12289;&#12354;&#12427;&#22580;&#21512;&#12395;&#12362;&#12356;&#12390;&#12399;&#12289;&#12363;&#12394;&#12426;&#21177;&#29575;&#12364;&#21521;&#19978;&#12377;&#12427;&#12290;&#12356;&#12367;&#12388;&#12363;&#12398;
&#12503;&#12525;&#12464;&#12521;&#12512;&#12399;&#12289;&#21336;&#19968;&#12398;&#22793;&#26356;&#12398;&#12383;&#12417;&#12395;&#12469;&#12540;&#12496;&#12395;&#23550;&#12375;&#12390;&#12501;&#12449;&#12452;&#12523;&#12398;&#20869;&#23481;&#12377;&#12409;&#12390;&#12434;&#25147;&#12375;&#12390;&#21516;&#26399;&#12434;&#21462;&#12427;
&#12371;&#12392;&#12434;&#34892;&#12358;&#12418;&#12398;&#12418;&#12354;&#12427;&#12290;
</p><p>
Level1 Oplocks(&#21336;&#12395;<span class="quote">&#8220;<span class="quote">oplocks</span>&#8221;</span>&#12392;&#12375;&#12390;&#12418;&#30693;&#12425;&#12428;&#12390;&#12356;&#12427;)&#12399;opportunistic locking&#12398;
&#21029;&#12398;&#35328;&#12356;&#26041;&#12391;&#12354;&#12427;&#12290;
</p><p>
Level2 Oplocks&#12399;<span class="emphasis"><em>&#12522;&#12540;&#12489;&#12458;&#12531;&#12522;</em></span>&#12392;&#12375;&#12390;&#21462;&#12426;&#25201;&#12358;&#12501;&#12449;&#12452;&#12523;&#12395;&#23550;&#12375;&#12390;
opportunistic locking&#12434;&#25552;&#20379;&#12377;&#12427;&#12290;&#36890;&#24120;&#12371;&#12428;&#12399;&#12522;&#12540;&#12489;&#12458;&#12531;&#12522;&#12363;&#12289;&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#12364;&#12289;&#12501;&#12449;&#12452;&#12523;&#12398;
&#12458;&#12540;&#12503;&#12531;&#26178;&#12395;&#12289;&#26368;&#21021;&#12395;&#26360;&#12365;&#36796;&#12414;&#12394;&#12356;&#12501;&#12449;&#12452;&#12523;&#12395;&#20351;&#12431;&#12428;&#12427;&#12290;
</p><p>
Kernel Oplocks&#12399;Linux kernel&#12395;&#12289;Microsoft Windows&#12493;&#12483;&#12488;&#12527;&#12540;&#12463;&#12501;&#12449;&#12452;&#12523;&#12525;&#12483;&#12461;&#12531;&#12464;&#12398;&#12424;&#12426;&#33391;&#12356;
&#32113;&#21512;&#12434;&#25552;&#20379;&#12377;&#12427;&#12395;&#12418;&#38306;&#12431;&#12425;&#12378;&#12289;Samba&#12364;oplocks&#12375;&#12383;&#12501;&#12449;&#12452;&#12523;&#12392;&#12398;&#20849;&#23384;&#12434;&#35377;&#21487;&#12377;&#12427;&#22522;&#26412;&#30340;&#12394;&#26041;&#24335;
&#12391;&#12354;&#12427;&#12290;SGI IRIX&#12392;Linux&#12399;&#29694;&#26178;&#28857;&#12391;oplocks&#12434;&#35469;&#35672;&#12377;&#12427;&#12383;&#12384;2&#12388;&#12398;OS&#12391;&#12354;&#12427;&#12290;
</p><p>
&#20351;&#29992;&#12375;&#12390;&#12356;&#12427;&#12471;&#12473;&#12486;&#12512;&#12364;kernel oplocks&#12434;&#12469;&#12509;&#12540;&#12488;&#12375;&#12390;&#12356;&#12427;&#38480;&#12426;&#12289;UNIX/Linux&#12392;SMB&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#12398;
&#20001;&#26041;&#12363;&#12425;&#21516;&#12376;&#12501;&#12449;&#12452;&#12523;&#12434;&#12450;&#12463;&#12475;&#12473;&#12377;&#12427;&#26178;&#12289;oplocks&#12434;&#28961;&#21177;&#12395;&#12377;&#12409;&#12365;&#12391;&#12354;&#12427;&#12290;&#12418;&#12375;&#12418;&#12289;&#35079;&#25968;&#12398;
&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#12363;&#12425;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12501;&#12449;&#12452;&#12523;&#12434;&#20849;&#26377;&#12375;&#12390;&#12356;&#12427;&#26178;(&#12383;&#12392;&#12360;&#12400;&#12289;Microsoft Access)&#12289;
&#38997;&#33879;&#12394;&#12497;&#12501;&#12457;&#12540;&#12510;&#12531;&#12473;&#12480;&#12454;&#12531;&#12392;&#12289;&#12373;&#12425;&#12395;&#12289;&#26368;&#21021;&#12398;&#22580;&#25152;&#12395;&#12362;&#12369;&#12427;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12398;&#12450;&#12463;&#12475;&#12473;&#21839;&#38988;&#12364;
&#30330;&#29983;&#12377;&#12427;&#12289;&#12501;&#12449;&#12452;&#12523;&#20840;&#20307;(1&#12388;&#12398;&#12524;&#12467;&#12540;&#12489;&#12391;&#12399;&#12394;&#12367;)&#12398;&#21516;&#26399;&#12395;&#24433;&#38911;&#12377;&#12427;&#12289;&#26368;&#21021;&#12398;&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#12364;
&#21463;&#12369;&#21462;&#12427;&#20219;&#24847;&#12398;&#12502;&#12524;&#12540;&#12463;&#12392;&#12356;&#12358;&#29702;&#30001;&#12391;&#12289;oplocks&#12399;&#27671;&#12395;&#12379;&#12378;&#24120;&#26178;&#28961;&#21177;&#12395;&#12377;&#12409;&#12365;&#12391;&#12354;&#12427;&#12290;
&#29305;&#12395;&#12289;Microsoft Outlook&#12398;&#12497;&#12540;&#12477;&#12490;&#12523;&#12501;&#12457;&#12523;&#12480;(*.pst)&#12399;oplocks&#12395;&#23550;&#12375;&#12390;&#12392;&#12390;&#12418;&#12402;&#12393;&#12367;&#21453;&#24540;&#12377;&#12427;&#12290;
&#30097;&#12387;&#12390;&#12356;&#12427;&#12398;&#12394;&#12425;&#12400;&#12289;oplocks&#12434;&#28961;&#21177;&#12395;&#12375;&#12390;&#12289;&#12381;&#12398;&#36766;&#20856;&#12363;&#12425;&#12471;&#12473;&#12486;&#12512;&#12434;&#35519;&#25972;&#12375;&#12390;&#12415;&#12427;&#12392;&#33391;&#12356;&#12384;&#12429;&#12358;&#12290;
</p><p>
&#12418;&#12375;&#12418;&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#12469;&#12452;&#12489;&#12398;&#12461;&#12515;&#12483;&#12471;&#12531;&#12464;&#12364;&#28961;&#21177;&#12391;&#12289;&#12493;&#12483;&#12488;&#12527;&#12540;&#12463;&#12398;&#20449;&#38972;&#24615;&#12364;&#12354;&#12427;&#12398;&#12391;&#12354;&#12428;&#12400;&#12289;
oplocks&#12434;on&#12395;&#12377;&#12427;&#12371;&#12392;&#12391;&#21033;&#28857;&#12364;&#24471;&#12425;&#12428;&#12427;&#12290;&#12418;&#12375;&#12418;&#12289;&#20351;&#29992;&#12375;&#12390;&#12356;&#12427;&#12493;&#12483;&#12488;&#12527;&#12540;&#12463;&#12364;&#36933;&#12367;&#12390;&#12289;&#20449;&#38972;&#24615;&#12364;
&#12394;&#12356;&#12363;&#65380;&#20182;&#12398;&#12501;&#12449;&#12452;&#12523;&#20849;&#26377;&#26041;&#24335;(&#12383;&#12392;&#12360;&#12400;NFS)&#12392;&#12398;&#38291;&#12391;&#12501;&#12449;&#12452;&#12523;&#12434;&#20849;&#26377;&#12375;&#12390;&#12356;&#12427;&#12363;&#12289;WAN&#32076;&#30001;&#12398;
&#22580;&#21512;&#12363;&#12289;&#38971;&#32321;&#12395;&#21516;&#19968;&#12501;&#12449;&#12452;&#12523;&#12434;&#35079;&#25968;&#12398;&#20154;&#12364;&#12450;&#12463;&#12475;&#12473;&#12377;&#12427;&#22580;&#21512;&#12289;&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#12364;oplocks&#12502;&#12524;&#12540;&#12463;&#12434;
&#36865;&#12427;&#12458;&#12540;&#12496;&#12504;&#12483;&#12489;&#12363;&#12425;&#12398;&#21033;&#30410;&#12434;&#24471;&#12425;&#12428;&#12378;&#12289;&#12381;&#12398;&#12363;&#12431;&#12426;&#12395;&#20849;&#26377;&#12395;&#23550;&#12375;&#12390;oplocks&#12434;&#28961;&#21177;&#12395;&#12375;&#12383;&#12356;&#12392;
&#24605;&#12358;&#12384;&#12429;&#12358;&#12290;
</p><p>
&#32771;&#24942;&#12377;&#12409;&#12365;&#20182;&#12398;&#35201;&#32032;&#12399;&#12289;&#12501;&#12449;&#12452;&#12523;&#12450;&#12463;&#12475;&#12473;&#12398;&#35469;&#35672;&#12373;&#12428;&#12383;&#12497;&#12501;&#12457;&#12540;&#12510;&#12531;&#12473;&#12391;&#12354;&#12427;&#12290;&#12418;&#12375;&#12418;oplocks
&#12364;&#20351;&#29992;&#12377;&#12427;&#12493;&#12483;&#12488;&#12527;&#12540;&#12463;&#19978;&#12391;&#12289;&#12431;&#12363;&#12427;&#12411;&#12393;&#12398;&#12473;&#12500;&#12540;&#12489;&#21521;&#19978;&#12434;&#25552;&#20379;&#12375;&#12394;&#12356;&#22580;&#21512;&#12289;&#12381;&#12428;&#12434;&#21462;&#12426;&#25201;&#12358;
&#38627;&#12375;&#12373;&#20998;&#12398;&#20385;&#20516;&#12364;&#12394;&#12356;&#12363;&#12418;&#12375;&#12428;&#12394;&#12356;&#12290;
</p><div class="sect2" title="&#35373;&#23450;&#20363;"><div class="titlepage"><div><div><h3 class="title"><a name="id2631688"></a>&#35373;&#23450;&#20363;</h3></div></div></div><p>
&#20197;&#19979;&#12398;&#31680;&#12391;&#12399;&#12289;Samba&#12525;&#12483;&#12461;&#12531;&#12464;&#12398;&#21046;&#24481;&#12395;&#38306;&#12377;&#12427;2&#12388;&#12398;&#30064;&#12394;&#12387;&#12383;&#20596;&#38754;&#12395;&#12388;&#12356;&#12390;&#35413;&#20385;&#12377;&#12427;&#12290;
</p><div class="sect3" title="oplocks&#12434;&#28961;&#21177;&#12395;&#12377;&#12427;"><div class="titlepage"><div><div><h4 class="title"><a name="id2631701"></a>oplocks&#12434;&#28961;&#21177;&#12395;&#12377;&#12427;</h4></div></div></div><p>
&#20197;&#19979;&#12398;&#12424;&#12358;&#12395;&#12375;&#12390;&#12289;&#20849;&#26377;&#21336;&#20301;&#12391;oplocks&#12434;&#28961;&#21177;&#12395;&#12377;&#12427;&#12371;&#12392;&#12364;&#20986;&#26469;&#12427;:
</p><p>
</p><table border="0" summary="Simple list" class="simplelist"><tr><td> </td></tr><tr><td><em class="parameter"><code>[acctdata]</code></em></td></tr><tr><td><a class="indexterm" name="id2631730"></a><em class="parameter"><code>oplocks = False</code></em></td></tr><tr><td><a class="indexterm" name="id2631742"></a><em class="parameter"><code>level2 oplocks = False</code></em></td></tr></table><p>
</p><p>
&#26082;&#23450;&#20516;&#12398;oplocks&#12479;&#12452;&#12503;&#12399;Level1&#12391;&#12354;&#12427;&#12290;Level2 oplocks&#12399;<code class="filename">smb.conf</code>&#12501;&#12449;&#12452;&#12523;&#20013;&#12391;&#12289;&#20849;&#26377;&#21336;&#20301;&#12395;
&#26377;&#21177;&#12395;&#20986;&#26469;&#12427;&#12290;
</p><p>
&#20195;&#12431;&#12426;&#12395;&#12289;&#20197;&#19979;&#12398;&#12424;&#12358;&#12395;&#12375;&#12390;&#12289;&#20849;&#26377;&#20869;&#12391;&#12501;&#12449;&#12452;&#12523;&#21336;&#20301;&#12395;oplocks&#12434;&#28961;&#21177;&#12395;&#20986;&#26469;&#12427;:
</p><p>
	</p><table border="0" summary="Simple list" class="simplelist"><tr><td><a class="indexterm" name="id2631782"></a><em class="parameter"><code>veto oplock files = /*.mdb/*.MDB/*.dbf/*.DBF/</code></em></td></tr></table><p>
</p><p>
&#12418;&#12375;&#12418;&#12289;Samba&#12398;&#12525;&#12464;&#12456;&#12531;&#12488;&#12522;&#12363;&#12425;&#30906;&#35469;&#20986;&#26469;&#12427;&#12289;oplocks&#12398;&#21839;&#38988;&#12395;&#36973;&#36935;&#12375;&#12383;&#22580;&#21512;&#12289;
&#23433;&#20840;&#12434;&#26399;&#12377;&#12383;&#12417;&#12395;&#12289;oplocks&#12392;Level2 oplocks&#12434;&#28961;&#21177;&#12395;&#12375;&#12390;&#12418;&#33391;&#12356;&#12290;
</p></div><div class="sect3" title="Kernel oplocks&#12434;&#28961;&#21177;&#12395;&#12377;&#12427;"><div class="titlepage"><div><div><h4 class="title"><a name="id2631806"></a>Kernel oplocks&#12434;&#28961;&#21177;&#12395;&#12377;&#12427;</h4></div></div></div><p>
Kernel oplocks &#12399;&#12289;&#12461;&#12515;&#12483;&#12471;&#12517;&#12373;&#12428;&#12390;&#12356;&#12427;&#12501;&#12449;&#12452;&#12523;&#12434;UNIX&#12503;&#12525;&#12475;&#12473;&#12364;&#12458;&#12540;&#12503;&#12531;&#12375;&#12424;&#12358;&#12392;&#12377;&#12427;
&#26178;&#12395;&#12289;(&#12418;&#12375;&#12418;UNIX kernel&#12364;Windows&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#12395;&#23550;&#12375;&#12390;oplocks&#12434;&#36865;&#20449;&#12377;&#12427;&#27231;&#33021;&#12364;&#12354;&#12427;&#26178;)
Samba&#12395;&#23550;&#12375;&#12390;&#36890;&#30693;&#12377;&#12427;<code class="filename">smb.conf</code>&#12497;&#12521;&#12513;&#12540;&#12479;&#12391;&#12354;&#12427;&#12290;&#12371;&#12398;&#12497;&#12521;&#12513;&#12540;&#12479;&#12399;UNIX&#12392;&#12289;Samba&#12469;&#12540;&#12496;
&#19978;&#12391;oplocks&#12364;&#26377;&#21177;&#12395;&#12394;&#12387;&#12390;&#12356;&#12427;Windows&#38291;&#12391;&#20849;&#26377;&#12377;&#12427;&#12501;&#12449;&#12452;&#12523;&#12434;&#12450;&#12489;&#12524;&#12473;&#12377;&#12427;&#12290;UNIX&#12503;&#12525;&#12475;&#12473;&#12399;
Windows&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#12395;&#12424;&#12387;&#12390;oplocked&#12373;&#12428;&#12383;(&#12461;&#12515;&#12483;&#12471;&#12517;&#12373;&#12428;&#12383;)&#12501;&#12449;&#12452;&#12523;&#12434;&#38283;&#12367;&#12371;&#12392;&#12364;&#20986;&#26469;&#12289;
&#12501;&#12449;&#12452;&#12523;&#12364;&#12487;&#12540;&#12479;&#30772;&#22730;&#12398;&#12522;&#12473;&#12463;&#12364;&#12354;&#12427;&#12392;&#12356;&#12358;&#20107;&#12434;&#20253;&#12360;&#12427;&#12289;oplocks&#12502;&#12524;&#12540;&#12463;&#12434;smbd&#12503;&#12525;&#12475;&#12473;&#12399;
&#36865;&#12425;&#12394;&#12356;&#12290;&#12418;&#12375;&#12418;UNIX kernel&#12364;oplock&#12502;&#12524;&#12540;&#12463;&#12434;&#36865;&#12427;&#27231;&#33021;&#12364;&#12354;&#12427;&#12394;&#12425;&#12400;&#12289;kenel oplocks
&#12497;&#12521;&#12513;&#12540;&#12479;&#12399;&#12289;Samba&#12395;oplock&#12502;&#12524;&#12540;&#12463;&#12434;&#36865;&#12427;&#12371;&#12392;&#12434;&#26377;&#21177;&#12395;&#12377;&#12427;&#12290;kernel oplocks&#12399;&#12289;
<code class="filename">smb.conf</code>&#12501;&#12449;&#12452;&#12523;&#20013;&#12391;&#12469;&#12540;&#12496;&#21336;&#20301;&#12395;&#26377;&#21177;&#12395;&#20986;&#26469;&#12427;&#12290;
</p><p>
</p><table border="0" summary="Simple list" class="simplelist"><tr><td><a class="indexterm" name="id2631864"></a><em class="parameter"><code>kernel oplocks = yes</code></em></td></tr></table><p>
&#26082;&#23450;&#20516;&#12399;no&#12391;&#12354;&#12427;&#12290;
</p><p>
<span class="emphasis"><em>Veto oplocks</em></span>&#12399;&#12289;oplocks&#12364;&#28961;&#21177;&#12395;&#12394;&#12427;&#29305;&#23450;&#12398;&#12501;&#12449;&#12452;&#12523;&#12434;&#35672;&#21029;&#12377;&#12427;&#12383;&#12417;&#12398;&#12289;
<code class="filename">smb.conf</code>&#12497;&#12521;&#12513;&#12540;&#12479;&#12391;&#12354;&#12427;&#12290;veto oplocks&#12395;&#35373;&#23450;&#12373;&#12428;&#12390;&#12356;&#12427;&#12501;&#12449;&#12452;&#12523;&#12434;Windows&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#12364;
&#12458;&#12540;&#12503;&#12531;&#12377;&#12427;&#26178;&#12289;&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#12399;oplocks&#12364;&#35377;&#21487;&#12373;&#12428;&#12378;&#12289;&#12377;&#12409;&#12390;&#12398;&#25805;&#20316;&#12399;&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#19978;&#12395;
&#12461;&#12515;&#12483;&#12471;&#12517;&#12373;&#12428;&#12383;&#12501;&#12449;&#12452;&#12523;&#12398;&#12467;&#12500;&#12540;&#12398;&#20195;&#12431;&#12426;&#12395;&#12487;&#12451;&#12473;&#12463;&#19978;&#12398;&#12458;&#12522;&#12472;&#12490;&#12523;&#12398;&#12501;&#12449;&#12452;&#12523;&#19978;&#12391;&#23455;&#34892;
&#12373;&#12428;&#12427;&#12290;UNIX&#12503;&#12525;&#12475;&#12473;&#12392;oplocks&#12434;&#28961;&#21177;&#12395;&#12375;&#12383;&#12381;&#12428;&#12425;&#12501;&#12449;&#12452;&#12523;&#12392;&#12398;&#38291;&#12391;&#20849;&#26377;&#12373;&#12428;&#12427;&#12501;&#12449;&#12452;&#12523;&#12434;
&#26126;&#31034;&#30340;&#12395;&#35672;&#21029;&#12377;&#12427;&#12371;&#12392;&#12391;&#12289;&#12469;&#12540;&#12496;&#20840;&#20307;&#12391;&#12398;oplocks&#35373;&#23450;&#12364;&#12289;&#12487;&#12540;&#12479;&#30772;&#22730;&#12398;&#12522;&#12473;&#12463;&#12364;&#12394;&#12356;&#12289;&#12501;&#12449;&#12452;&#12523;&#12398;
&#12461;&#12515;&#12483;&#12471;&#12531;&#12464;&#12392;&#12356;&#12358;&#21177;&#29575;&#12398;&#21521;&#19978;&#12434;&#12289;Windows&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#12364;&#21033;&#29992;&#12391;&#12365;&#12427;&#12371;&#12392;&#12434;&#26377;&#21177;&#12395;&#12391;&#12365;&#12427;&#12290;
veto oplocks&#12399;&#12289;&#20197;&#19979;&#12398;<a class="link" href="locking.html#far1" title="Example 17.1. &#12356;&#12367;&#12388;&#12363;&#12398;&#12501;&#12449;&#12452;&#12523;&#12364;oplocks&#12373;&#12428;&#12383;&#20849;&#26377;">&#8220;&#12356;&#12367;&#12388;&#12363;&#12398;&#12501;&#12449;&#12452;&#12523;&#12364;oplocks&#12373;&#12428;&#12383;&#20849;&#26377;&#8221;</a>&#12391;&#31034;&#12373;&#12428;&#12427;&#12424;&#12358;&#12394;&#12289;<code class="filename">smb.conf</code>&#20013;&#12391;&#12289;
&#20849;&#26377;&#21336;&#20301;&#12363;&#12289;&#12469;&#12540;&#12496;&#20840;&#20307;&#12391;&#26377;&#21177;&#12395;&#20986;&#26469;&#12427;&#12290;
</p><p>
</p><div class="example"><a name="far1"></a><p class="title"><b>Example 17.1. &#12356;&#12367;&#12388;&#12363;&#12398;&#12501;&#12449;&#12452;&#12523;&#12364;oplocks&#12373;&#12428;&#12383;&#20849;&#26377;</b></p><div class="example-contents"><table border="0" summary="Simple list" class="simplelist"><tr><td> </td></tr><tr><td><em class="parameter"><code>[global]</code></em></td></tr><tr><td><a class="indexterm" name="id2631954"></a><em class="parameter"><code>veto oplock files = /filename.htm/*.txt/</code></em></td></tr><tr><td> </td></tr><tr><td><em class="parameter"><code>[share_name]</code></em></td></tr><tr><td><a class="indexterm" name="id2631975"></a><em class="parameter"><code>veto oplock files = /*.exe/filename.ext/</code></em></td></tr></table></div></div><p><br class="example-break">
</p><p>
<a class="link" href="smb.conf.5.html#OPLOCKBREAKWAITTIME" target="_top">oplock break wait time</a>&#12399;&#12289;<code class="filename">smb.conf</code>&#20013;&#12398;&#12497;&#12521;&#12513;&#12540;&#12479;&#12391;&#12289;oplock
&#12502;&#12524;&#12540;&#12463;&#35201;&#27714;&#12434;Samba&#12364;&#32368;&#12426;&#36820;&#12377;&#26178;&#38291;&#24863;&#35226;&#12434;&#35519;&#25972;&#12377;&#12427;&#12290;Samba&#12399;
<span class="quote">&#8220;<span class="quote">Samba&#12398;oplocks&#12467;&#12540;&#12489;&#12434;&#35501;&#12435;&#12391;&#29702;&#35299;&#12375;&#12394;&#12356;&#38480;&#12426;&#12371;&#12398;&#12497;&#12521;&#12513;&#12540;&#12479;&#12434;&#22793;&#26356;&#12375;&#12394;&#12356;&#12371;&#12392;</span>&#8221;</span>
&#12392;&#24544;&#21578;&#12375;&#12390;&#12356;&#12427;&#12290;oplock break wait time&#12399;&#12289;&#20197;&#19979;&#12398;&#12424;&#12358;&#12395;&#12289;<code class="filename">smb.conf</code>&#20013;&#12391;&#12464;&#12525;&#12540;&#12496;&#12523;&#12394;&#24418;&#12391;
&#12398;&#12415;&#35373;&#23450;&#12391;&#12365;&#12427;&#12290;
</p><p>
	</p><table border="0" summary="Simple list" class="simplelist"><tr><td><a class="indexterm" name="id2632037"></a><em class="parameter"><code>oplock break wait time =  0 (default)</code></em></td></tr></table><p>
</p><p>
<span class="emphasis"><em>Oplock break contention limit</em></span>&#12399;&#12289;<code class="filename">smb.conf</code>&#20013;&#12398;&#12497;&#12521;&#12513;&#12540;&#12479;&#12391;&#12289;
&#12497;&#12521;&#12513;&#12540;&#12479;&#12395;&#12424;&#12387;&#12390;&#25351;&#23450;&#12373;&#12428;&#12383;&#21046;&#38480;&#12395;&#12289;&#35373;&#23450;&#12373;&#12428;&#12383;&#25968;&#22810;&#12367;&#12398;&#31478;&#21512;&#12377;&#12427;&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#12364;&#21040;&#36948;&#12377;&#12427;
&#22580;&#21512;&#12289; oplock&#12434;&#35377;&#21487;&#12377;&#12427;&#12383;&#12417;&#12398;Samba&#12469;&#12540;&#12496;&#12398;&#12524;&#12473;&#12509;&#12531;&#12473;&#12434;&#21046;&#38480;&#12377;&#12427;&#12290;Samba&#12399;
<span class="quote">&#8220;<span class="quote">Samba&#12398;oplocks&#12467;&#12540;&#12489;&#12434;&#35501;&#12435;&#12391;&#29702;&#35299;&#12375;&#12394;&#12356;&#38480;&#12426;&#12371;&#12398;&#12497;&#12521;&#12513;&#12540;&#12479;&#12434;&#22793;&#26356;&#12375;&#12394;&#12356;&#12371;&#12392;</span>&#8221;</span>
&#12392;&#24544;&#21578;&#12375;&#12390;&#12356;&#12427;&#12290;oplock break contention limit&#12399;&#12289;<a class="link" href="locking.html#far3" title="Example 17.2. Oplock Break Contention Limit&#12398;&#35373;&#23450;">&#8220;Oplock Break Contention Limit&#12398;&#35373;&#23450;&#8221;</a>&#12398;&#12424;&#12358;&#12395;&#12289;
<code class="filename">smb.conf</code>&#20013;&#12391;&#20849;&#26377;&#21336;&#20301;&#12354;&#12427;&#12356;&#12399;&#12464;&#12525;&#12540;&#12496;&#12523;&#12395;&#12469;&#12540;&#12496;&#20840;&#20307;&#12391;&#26377;&#21177;&#12395;&#20986;&#26469;&#12427;&#12290;
</p><p>
</p><div class="example"><a name="far3"></a><p class="title"><b>Example 17.2. Oplock Break Contention Limit&#12398;&#35373;&#23450;</b></p><div class="example-contents"><table border="0" summary="Simple list" class="simplelist"><tr><td> </td></tr><tr><td><em class="parameter"><code>[global]</code></em></td></tr><tr><td><a class="indexterm" name="id2632116"></a><em class="parameter"><code>oplock break contention limit =  2 (default)</code></em></td></tr><tr><td> </td></tr><tr><td><em class="parameter"><code>[share_name]</code></em></td></tr><tr><td><a class="indexterm" name="id2632137"></a><em class="parameter"><code>oplock break contention limit =  2 (default)</code></em></td></tr></table></div></div><p><br class="example-break">
</p></div></div></div><div class="sect1" title="Microsoft Windows&#12398;oplocks&#12392;&#12461;&#12515;&#12483;&#12471;&#12517;&#21046;&#24481;"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id2632155"></a>Microsoft Windows&#12398;oplocks&#12392;&#12461;&#12515;&#12483;&#12471;&#12517;&#21046;&#24481;</h2></div></div></div><p>
&#12493;&#12483;&#12488;&#12527;&#12540;&#12463;&#32076;&#30001;&#12391;&#20849;&#26377;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12395;&#12450;&#12463;&#12475;&#12473;&#12377;&#12427;&#20219;&#24847;&#12398;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12395;&#24433;&#38911;&#12375;&#12358;&#12427;
Windows 2000/XP&#12527;&#12540;&#12463;&#12473;&#12486;&#12540;&#12471;&#12519;&#12531;&#19978;&#12391;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;(Norton Antivirus&#12398;&#12424;&#12358;&#12394;)&#12434;
&#21205;&#12363;&#12377;&#26178;&#12395;&#12424;&#12367;&#30693;&#12425;&#12428;&#12390;&#12356;&#12427;&#21839;&#38988;&#12364;&#12354;&#12427;&#12290;&#12371;&#12428;&#12399;&#12289;Windows 2000/XP OS&#12398;&#26082;&#23450;&#20516;&#12398;&#35373;&#23450;&#12398;&#32080;&#26524;&#12395;
&#12424;&#12427;&#12418;&#12398;&#12391;&#12354;&#12427;&#12290;&#20182;&#12398; 2000/XP&#12467;&#12531;&#12500;&#12517;&#12540;&#12479;&#19978;&#12398;&#20849;&#26377;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12501;&#12449;&#12452;&#12523;&#12395;&#12289;
&#12527;&#12540;&#12463;&#12473;&#12486;&#12540;&#12471;&#12519;&#12531;&#12364;&#12450;&#12463;&#12475;&#12473;&#12377;&#12427;&#26178;&#12289;Windows 2000/XP OS&#12399;&#12289;&#12501;&#12449;&#12452;&#12523;&#12434;&#12525;&#12483;&#12463;&#12375;&#12289;&#24773;&#22577;&#12434;
&#12525;&#12540;&#12459;&#12523;&#12395;&#12461;&#12515;&#12483;&#12471;&#12517;&#12377;&#12427;&#12371;&#12392;&#12391;&#21177;&#29575;&#12434;&#21521;&#19978;&#12377;&#12427;&#12371;&#12392;&#12434;&#35430;&#12415;&#12427;&#12290;&#12371;&#12428;&#12364;&#36215;&#12365;&#12427;&#12392;&#12289;
&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12399;&#12289;&#12493;&#12483;&#12488;&#12527;&#12540;&#12463;&#25805;&#20316;&#20013;&#12289;<span class="quote">&#8220;<span class="quote">&#12450;&#12463;&#12475;&#12473;&#12364;&#25298;&#21542;&#12373;&#12428;&#12414;&#12375;&#12383;</span>&#8221;</span>&#12392;&#12356;&#12358;
&#12456;&#12521;&#12540;&#12364;&#34920;&#31034;&#12373;&#12428;&#12390;&#36969;&#20999;&#12395;&#21205;&#20316;&#12375;&#12394;&#12367;&#12394;&#12427;&#12290;
</p><p>
&#12487;&#12540;&#12479;&#12501;&#12449;&#12452;&#12523;(&#12487;&#12540;&#12479;&#12501;&#12449;&#12452;&#12523;&#12364;&#12381;&#12371;&#12395;&#26684;&#32013;&#12373;&#12428;&#12390;&#12289;&#20182;&#12398;Windows PC&#12395;&#12424;&#12387;&#12390;&#12450;&#12463;&#12475;&#12473;&#12373;&#12428;&#12427;
&#12392;&#12356;&#12358;&#24847;&#21619;&#12391;)&#12398;&#12383;&#12417;&#12398;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12469;&#12540;&#12496;&#12392;&#12375;&#12390;&#25391;&#12427;&#33310;&#12358;&#12289;NT&#12501;&#12449;&#12511;&#12522;&#12398;&#12289;&#12377;&#12409;&#12390;&#12398;
Windows OS&#12399;&#12289;&#12487;&#12540;&#12479;&#12501;&#12449;&#12452;&#12523;&#12398;&#30772;&#25613;&#12434;&#38450;&#12368;&#12522;&#12473;&#12463;&#12434;&#26368;&#23567;&#38480;&#12395;&#12377;&#12427;&#12383;&#12417;&#12395;&#12289;oplocks&#12434;&#28961;&#21177;&#12395;&#12377;&#12427;
&#24517;&#35201;&#12364;&#12354;&#12427;&#12363;&#12418;&#12375;&#12428;&#12394;&#12356;&#12290;&#12371;&#12428;&#12395;&#12399;&#12289;Windows 9x/Me&#12289;Windows NT&#12289;Windows 200x&#12392;
Windows XP&#12364;&#21547;&#12414;&#12428;&#12427;&#12290;
<sup>[<a name="id2632208" href="#ftn.id2632208" class="footnote">5</a>]</sup>
</p><p>
&#12418;&#12375;&#12418;&#12289;&#12469;&#12540;&#12496;&#12398;&#20195;&#12431;&#12426;&#12395;Windows NT&#12501;&#12449;&#12511;&#12522;&#12398;&#12527;&#12540;&#12463;&#12473;&#12486;&#12540;&#12471;&#12519;&#12531;&#12434;&#20351;&#12387;&#12390;&#12356;&#12427;&#12394;&#12425;&#12400;&#12289;
&#12381;&#12398;&#12527;&#12540;&#12463;&#12473;&#12486;&#12540;&#12471;&#12519;&#12531;&#19978;&#12391;oplocks&#12434;&#28961;&#21177;&#12395;&#12375;&#12394;&#12369;&#12428;&#12400;&#12394;&#12425;&#12394;&#12356;&#12290;&#20363;&#12360;&#12400;&#12289;&#12418;&#12375;&#12418;&#12289;
Windows NT &#12469;&#12540;&#12496;&#12398;&#20195;&#12431;&#12426;&#12395;Windows NT &#12527;&#12540;&#12463;&#12473;&#12486;&#12540;&#12471;&#12519;&#12531;&#12434;PC&#19978;&#12391;&#20351;&#12387;&#12390;&#12356;&#12390;&#12289;
&#12381;&#12398;&#19978;&#12395;&#12289;&#20182;&#12398;Windows PC&#12363;&#12425;&#12450;&#12463;&#12475;&#12473;&#12373;&#12428;&#12427;&#12487;&#12540;&#12479;&#12501;&#12449;&#12452;&#12523;&#12364;&#12354;&#12427;&#12394;&#12425;&#12400;&#12289;&#12381;&#12398;&#12471;&#12473;&#12486;&#12512;&#19978;&#12391;
oplocks&#12434;&#28961;&#21177;&#12395;&#12375;&#12394;&#12369;&#12428;&#12400;&#12394;&#12425;&#12394;&#12356;&#12363;&#12418;&#12375;&#12428;&#12394;&#12356;&#12290;
</p><p>
&#22823;&#12365;&#12394;&#36949;&#12356;&#12399;&#12289;oplocks&#12434;&#28961;&#21177;&#12395;&#12377;&#12427;&#12383;&#12417;&#12398;&#20516;&#12434;&#20837;&#12428;&#12427;Windows&#12524;&#12472;&#12473;&#12488;&#12522;&#12398;&#20301;&#32622;&#12391;&#12354;&#12427;&#12290;
LanManServer&#12398;&#20301;&#32622;&#12398;&#20195;&#12431;&#12426;&#12395;LanManWorkstation&#12398;&#20301;&#32622;&#12364;&#20351;&#12431;&#12428;&#12427;&#12290;
</p><p>
Windows&#12524;&#12472;&#12473;&#12488;&#12522;&#12456;&#12487;&#12451;&#12479;&#12434;&#20351;&#12387;&#12390;&#12371;&#12398;&#12524;&#12472;&#12473;&#12488;&#12522;&#12398;&#20516;&#12434;&#26908;&#26619;(&#24517;&#35201;&#12395;&#24540;&#12376;&#12390;&#22793;&#26356;&#12363;&#36861;&#21152;)&#12377;&#12427;
&#12371;&#12392;&#12364;&#12391;&#12365;&#12427;&#12290;&#12371;&#12398;&#12524;&#12472;&#12473;&#12488;&#12522;&#20516;&#12434;&#22793;&#26356;&#12377;&#12427;&#26178;&#12289;&#26032;&#12375;&#12356;&#35373;&#23450;&#12434;&#21453;&#26144;&#12373;&#12379;&#12427;&#12383;&#12417;&#12395;&#12289;PC&#12434;&#20877;&#36215;&#21205;
&#12375;&#12394;&#12369;&#12428;&#12400;&#12394;&#12425;&#12394;&#12356;&#12290;
</p><p>
oplocks&#12398;&#12383;&#12417;&#12398;&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#12524;&#12472;&#12473;&#12488;&#12522;&#12456;&#12531;&#12488;&#12522;&#12398;&#20301;&#32622;&#12399;&#12289;Microsoft Windows NT&#12424;&#12426;&#12418;
&#21069;&#12398;&#20301;&#32622;&#12363;&#12425;&#12289;Windows 2000&#12391;&#12399;&#22793;&#12431;&#12387;&#12390;&#12356;&#12427;&#12290;
</p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
Windows 2000 &#12399;&#12289;&#20197;&#21069;&#12398;Windows&#20013;&#12391;oplocks&#12434;&#28961;&#21177;&#12395;&#12377;&#12427;&#12383;&#12417;&#12395;&#20351;&#12358;EnableOplocks&#12524;&#12472;&#12473;&#12488;&#12522;
&#12456;&#12531;&#12488;&#12522;&#12434;&#24341;&#12365;&#32154;&#12365;&#20351;&#29992;&#12375;&#12390;&#12356;&#12427;&#12290;
</p></div><p>
&#20197;&#19979;&#12398;&#12524;&#12472;&#12473;&#12488;&#12522;&#12456;&#12531;&#12488;&#12522;&#12434;&#22793;&#26356;&#12377;&#12427;&#12371;&#12392;&#12395;&#12424;&#12387;&#12390;&#12289;oplocks&#12398;&#35377;&#21487;&#12434;&#25298;&#21542;&#12377;&#12427;&#12371;&#12392;&#12418;&#20986;&#26469;&#12427;:
</p><p>
</p><pre class="programlisting">
	HKEY_LOCAL_MACHINE\System\
		CurrentControlSet\Services\MRXSmb\Parameters\

		OplocksDisabled REG_DWORD 0 &#21448;&#12399; 1
		&#26082;&#23450;&#20516;: 0 (&#28961;&#21177;&#12395;&#12394;&#12387;&#12390;&#12356;&#12394;&#12356;)
</pre><p>
</p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
OplocksDisabled&#12392;&#12356;&#12358;&#12524;&#12472;&#12473;&#12488;&#12522;&#12456;&#12531;&#12488;&#12522;&#20516;&#12399;&#12289;&#12522;&#12514;&#12540;&#12488;&#12501;&#12449;&#12452;&#12523;&#19978;&#12398;oplocks&#12398;&#35201;&#27714;&#12398;&#12354;&#12427;&#12394;&#12375;&#12434;
Windows&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#19978;&#12391;&#35373;&#23450;&#12377;&#12427;&#12290;oplocks&#12434;&#28961;&#21177;&#12395;&#12377;&#12427;&#12383;&#12417;&#12395;&#12399;&#12289;OplocksDisabled&#12398;&#20516;&#12399;
1&#12395;&#35373;&#23450;&#12375;&#12394;&#12369;&#12428;&#12400;&#12394;&#12425;&#12394;&#12356;&#12290;
</p></div><p>
</p><pre class="programlisting">
	HKEY_LOCAL_MACHINE\System\
		CurrentControlSet\Services\LanmanServer\Parameters

		EnableOplocks REG_DWORD 0 &#21448;&#12399; 1
		&#26082;&#23450;&#20516;: 1 (&#26082;&#23450;&#20516;&#12391;&#26377;&#21177;)

		EnableOpLockForceClose REG_DWORD 0 &#21448;&#12399; 1
		&#26082;&#23450;&#20516;: 0 (&#26082;&#23450;&#20516;&#12391;&#28961;&#21177;)
</pre><p>
</p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
EnableOplocks&#12392;&#12356;&#12358;&#20516;&#12399;Windows&#12505;&#12540;&#12473;&#12398;&#12469;&#12540;&#12496;(&#12501;&#12449;&#12452;&#12523;&#12434;&#20849;&#26377;&#12375;&#12390;&#12356;&#12427;&#12527;&#12540;&#12463;&#12473;&#12486;&#12540;&#12471;&#12519;&#12531;&#12434;
&#21547;&#12416;)&#12391;&#12289;&#12525;&#12540;&#12459;&#12523;&#12501;&#12449;&#12452;&#12523;&#19978;&#12398;oplocks&#12434;&#35377;&#21487;/&#25298;&#21542;&#12377;&#12427;&#12371;&#12392;&#12434;&#35373;&#23450;&#12377;&#12427;&#12290;
</p></div><p>
&#12463;&#12525;&#12540;&#12474;&#12414;&#12383;&#12399;&#12503;&#12525;&#12464;&#12521;&#12512;&#32066;&#20102;&#26178;&#12391;&#12458;&#12540;&#12503;&#12531;&#12375;&#12390;&#12356;&#12427;oplocks&#12434;&#24375;&#21046;&#30340;&#12395;&#32066;&#20102;&#12377;&#12427;&#12383;&#12417;&#12395;&#12399;&#12289;
EnableOpLockForceClose&#12434;1&#12395;&#35373;&#23450;&#12375;&#12394;&#12369;&#12428;&#12400;&#12394;&#12425;&#12394;&#12356;&#12290;
</p><p>
Level2 oplocks&#12398;&#21205;&#20316;&#27010;&#35201;&#12399;&#20197;&#19979;&#12398;&#36890;&#12426;:
</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
	&#12473;&#12486;&#12540;&#12471;&#12519;&#12531;1&#12364;oplock&#12434;&#35201;&#27714;&#12375;&#12390;&#12501;&#12449;&#12452;&#12523;&#12434;&#38283;&#12367;&#12290;
	</p></li><li class="listitem"><p>
	&#20182;&#12398;&#12393;&#12398;&#12473;&#12486;&#12540;&#12471;&#12519;&#12531;&#12418;&#12501;&#12449;&#12452;&#12523;&#12434;&#38283;&#12363;&#12394;&#12356;&#38291;&#12289;&#12469;&#12540;&#12496;&#12399;&#12473;&#12486;&#12540;&#12471;&#12519;&#12531;1&#12395;&#25490;&#20182;&#30340;oplock&#12434;&#35377;&#21487;&#12377;&#12427;&#12290;
	</p></li><li class="listitem"><p>
	&#12473;&#12486;&#12540;&#12471;&#12519;&#12531;2&#12364;oplock&#12434;&#35201;&#27714;&#12375;&#12390;&#12501;&#12449;&#12452;&#12523;&#12434;&#38283;&#12367;&#12290;
	</p></li><li class="listitem"><p>
	&#12473;&#12486;&#12540;&#12471;&#12519;&#12531;1&#12364;&#12414;&#12384;&#12501;&#12449;&#12452;&#12523;&#12434;&#26360;&#12365;&#36796;&#12435;&#12391;&#12356;&#12394;&#12356;&#12394;&#12425;&#12289;&#12469;&#12540;&#12496;&#12399;&#12473;&#12486;&#12540;&#12471;&#12519;&#12531;1&#12395;&#12524;&#12505;&#12523;2&#12398;
	oplock&#12398;&#12502;&#12524;&#12540;&#12463;&#36890;&#30693;&#12434;&#34892;&#12358;&#12290;
	</p></li><li class="listitem"><p>
	&#12473;&#12486;&#12540;&#12471;&#12519;&#12531;1&#12399;&#12525;&#12540;&#12459;&#12523;&#12395;&#12496;&#12483;&#12501;&#12449;&#12375;&#12383;&#24773;&#22577;&#12434;&#12469;&#12540;&#12496;&#12395;&#26360;&#12365;&#25147;&#12377;&#12290;
	</p></li><li class="listitem"><p>
	&#12473;&#12486;&#12540;&#12471;&#12519;&#12531;1&#12399;&#12524;&#12505;&#12523;2&#12398;oplock&#12434;&#32032;un&#12375;&#12383;&#12469;&#12540;&#12496;&#12395;&#24773;&#22577;&#12434;&#36865;&#12427;(&#20195;&#12431;&#12426;&#12395;&#12473;&#12486;&#12540;&#12471;&#12519;&#12531;1&#12399;
	&#12501;&#12449;&#12452;&#12523;&#12434;&#12463;&#12525;&#12540;&#12474;&#12377;&#12427;&#12371;&#12392;&#12364;&#20986;&#26469;&#12383;&#12399;&#12378;&#12391;&#12354;&#12427;)&#12290;
	</p></li><li class="listitem"><p>
	&#12469;&#12540;&#12496;&#12399;&#12473;&#12486;&#12540;&#12471;&#12519;&#12531;2&#12398;&#12458;&#12540;&#12503;&#12531;&#35201;&#27714;&#12395;&#23550;&#24540;&#12375;&#12289;&#12524;&#12505;&#12523;2&#12398;oplock&#12434;&#35377;&#21487;&#12377;&#12427;&#12290;
	&#12381;&#12398;&#20182;&#12398;&#12473;&#12486;&#12540;&#12471;&#12519;&#12531;&#12399;&#21516;&#12376;&#12367;&#12501;&#12449;&#12452;&#12523;&#12434;&#38283;&#12367;&#12371;&#12392;&#12364;&#20986;&#26469;&#12289;&#21516;&#27096;&#12395;&#12524;&#12505;&#12523;2&#12398;oplock&#12364;
	&#35377;&#21487;&#12373;&#12428;&#12427;&#12290;
	</p></li><li class="listitem"><p>
	&#12473;&#12486;&#12540;&#12471;&#12519;&#12531;2(&#12363;&#12289;&#12501;&#12449;&#12452;&#12523;&#12434;&#12458;&#12540;&#12503;&#12531;&#12375;&#12390;&#12356;&#12427;&#20182;&#12398;&#12473;&#12486;&#12540;&#12471;&#12519;&#12531;)&#12399;SMB&#26360;&#12365;&#36796;&#12415;&#35201;&#27714;&#12434;
	&#36865;&#12427;&#12290;&#12469;&#12540;&#12496;&#12399;&#26360;&#12365;&#36796;&#12415;&#24540;&#31572;&#12434;&#36820;&#12377;&#12290;
	</p></li><li class="listitem"><p>
	&#12469;&#12540;&#12496;&#12399;&#12289;&#12501;&#12449;&#12452;&#12523;&#12434;&#12458;&#12540;&#12503;&#12531;&#12375;&#12390;&#12356;&#12427;&#12377;&#12409;&#12390;&#12398;&#12473;&#12486;&#12540;&#12471;&#12519;&#12531;&#12395;&#23550;&#12375;&#12390;&#12289;&#12525;&#12483;&#12463;&#12434;
	&#22730;&#12373;&#12394;&#12356;&#12371;&#12392;&#12289;&#12377;&#12394;&#12431;&#12385;&#12501;&#12449;&#12452;&#12523;&#12395;&#23550;&#12375;&#12390; oplock &#12434;&#20445;&#25345;&#12375;&#12390;&#12356;&#12427;&#12473;&#12486;&#12540;&#12471;&#12519;&#12531;&#12364;
	&#12394;&#12356;&#12371;&#12392;&#12434;&#30906;&#35469;&#12377;&#12427;&#12290;&#12371;&#12398;&#26178;&#28857;&#12391;&#12289;&#12527;&#12540;&#12463;&#12473;&#12486;&#12540;&#12471;&#12519;&#12531;&#12399;&#12461;&#12515;&#12483;&#12471;&#12517;&#12373;&#12428;&#12383;
	&#26360;&#12365;&#36796;&#12415;&#12418;&#12525;&#12483;&#12463;&#12418;&#20445;&#25345;&#12375;&#12390;&#12356;&#12394;&#12356;&#12383;&#12417;&#12289;break-to-none &#21223;&#21578;&#12395;&#23550;&#12375;&#12390;&#24540;&#31572;&#12377;&#12427;
	&#24517;&#35201;&#12364;&#12394;&#12356;&#12363;&#12425;&#12391;&#12354;&#12427;&#12290;&#12381;&#12428;&#12382;&#12428;&#12398;&#12527;&#12540;&#12463;&#12473;&#12486;&#12540;&#12471;&#12519;&#12531;&#12399;&#12289;&#21336;&#12395;&#12525;&#12540;&#12459;&#12523;&#12391;
	&#12461;&#12515;&#12483;&#12471;&#12517;&#12375;&#12390;&#12356;&#12427;&#20808;&#35501;&#12415;&#12487;&#12540;&#12479;&#12434;&#28961;&#21177;&#12395;&#12377;&#12427;&#12384;&#12369;&#12391;&#12424;&#12356;&#12290;
	</p></li></ul></div><div class="sect2" title="&#12527;&#12540;&#12463;&#12473;&#12486;&#12540;&#12471;&#12519;&#12531;&#12469;&#12540;&#12499;&#12473;&#12398;&#12456;&#12531;&#12488;&#12522;"><div class="titlepage"><div><div><h3 class="title"><a name="id2632452"></a>&#12527;&#12540;&#12463;&#12473;&#12486;&#12540;&#12471;&#12519;&#12531;&#12469;&#12540;&#12499;&#12473;&#12398;&#12456;&#12531;&#12488;&#12522;</h3></div></div></div><pre class="programlisting">
	\HKEY_LOCAL_MACHINE\System\
		CurrentControlSet\Services\LanmanWorkstation\Parameters

	UseOpportunisticLocking   REG_DWORD   0 &#21448;&#12399; 1
	&#26082;&#23450;&#20516;: 1 (&#30495;)
</pre><p>
&#12371;&#12428;&#12399;&#12289;&#12522;&#12480;&#12452;&#12524;&#12463;&#12479;&#12364;oplock&#12398;&#21177;&#29575;&#21521;&#19978;&#27231;&#33021;&#12434;&#20351;&#12358;&#12363;&#12393;&#12358;&#12363;&#12434;&#25351;&#31034;&#12377;&#12427;&#12290;
&#12371;&#12398;&#12497;&#12521;&#12513;&#12540;&#12479;&#12399;&#21839;&#38988;&#12434;&#21028;&#21029;&#12377;&#12427;&#12383;&#12417;&#12395;&#12398;&#12415;&#28961;&#21177;&#12395;&#12377;&#12409;&#12365;&#12391;&#12354;&#12427;&#12290;
</p></div><div class="sect2" title="&#12469;&#12540;&#12496;&#12469;&#12540;&#12499;&#12473;&#12398;&#12456;&#12531;&#12488;&#12522;"><div class="titlepage"><div><div><h3 class="title"><a name="id2632481"></a>&#12469;&#12540;&#12496;&#12469;&#12540;&#12499;&#12473;&#12398;&#12456;&#12531;&#12488;&#12522;</h3></div></div></div><pre class="programlisting">
	\HKEY_LOCAL_MACHINE\System\
		CurrentControlSet\Services\LanmanServer\Parameters

	EnableOplocks   REG_DWORD   0 &#21448;&#12399; 1
	&#26082;&#23450;&#20516;: 1 (&#30495;)
</pre><p>
&#12371;&#12428;&#12399;&#12289;&#12469;&#12540;&#12496;&#12364;&#12289;&#12501;&#12449;&#12452;&#12523;&#12395;oplocks&#12434;&#20351;&#12358;&#12371;&#12392;&#12434;&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#12395;&#23550;&#12375;&#12390;&#35377;&#21487;&#12377;&#12427;&#12363;
&#12393;&#12358;&#12363;&#12434;&#25351;&#23450;&#12377;&#12427;&#12290;oplocks&#12399;&#26126;&#30906;&#12395;&#21177;&#29575;&#12434;&#21521;&#19978;&#12373;&#12379;&#12427;&#12364;&#12289;&#29305;&#12395;WAN&#12398;&#12424;&#12358;&#12394;&#12289;&#12354;&#12427;&#31278;&#12398;
&#12493;&#12483;&#12488;&#12527;&#12540;&#12463;&#19978;&#12391;&#12461;&#12515;&#12483;&#12471;&#12517;&#12373;&#12428;&#12383;&#12487;&#12540;&#12479;&#12434;&#22833;&#12358;&#21487;&#33021;&#24615;&#12364;&#12354;&#12427;&#12290;
</p><pre class="programlisting">
	MinLinkThroughput   REG_DWORD   0 &#12399;&#31186;&#12354;&#12383;&#12426;&#28961;&#38480;&#12398;&#12496;&#12452;&#12488;&#37327;
	&#26082;&#23450;&#20516;: 0
</pre><p>
&#12371;&#12428;&#12399;&#12289;&#12371;&#12398;&#25509;&#32154;&#12398;&#12383;&#12417;&#12398;&#12289;&#29983;&#12398;(raw) I/O&#12392;oplocks&#12434;&#28961;&#21177;&#12395;&#12377;&#12427;&#21069;&#12395;&#12289;&#12469;&#12540;&#12496;&#12395;&#12424;&#12387;&#12390;
&#35377;&#21487;&#12373;&#12428;&#12427;&#26368;&#23567;&#12398;&#12522;&#12531;&#12463;&#12473;&#12523;&#12540;&#12503;&#12483;&#12488;&#12434;&#25351;&#23450;&#12377;&#12427;&#12290;
</p><pre class="programlisting">
	MaxLinkDelay   REG_DWORD   0 &#12363;&#12425; 10&#19975;&#31186;
	&#26082;&#23450;&#20516;: 60
</pre><p>
&#12371;&#12428;&#12399;&#12289;&#12522;&#12531;&#12463;&#12398;&#12487;&#12451;&#12524;&#12452;&#12391;&#35377;&#12373;&#12428;&#12427;&#26368;&#23567;&#38480;&#12398;&#26178;&#38291;&#12434;&#25351;&#23450;&#12377;&#12427;&#12290;&#12418;&#12375;&#12418;&#12371;&#12398;&#20516;&#12424;&#12426;&#12418;&#36933;&#24310;&#12364;
&#22823;&#12365;&#12356;&#22580;&#21512;&#12289;&#12469;&#12540;&#12496;&#12399;&#29983;&#12398;(raw)I/O&#12392;oplocks&#12434;&#12289;&#12371;&#12398;&#25509;&#32154;&#12391;&#12399;&#28961;&#21177;&#12395;&#12377;&#12427;&#12290;
</p><pre class="programlisting">
	OplockBreakWait   REG_DWORD   10 &#12363;&#12425; 180 &#31186;
	&#26082;&#23450;&#20516;: 35
</pre><p>
&#12371;&#12428;&#12399;&#12289;oplock&#12502;&#12524;&#12540;&#12463;&#35201;&#27714;&#12395;&#23550;&#12375;&#12390;&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#12364;&#36820;&#31572;&#12377;&#12427;&#12414;&#12391;&#12289;&#12469;&#12540;&#12496;&#12364;&#24453;&#12388;&#26178;&#38291;&#12434;&#25351;&#23450;
&#12377;&#12427;&#12290;&#12424;&#12426;&#23567;&#12373;&#12394;&#20516;&#12399;&#12424;&#12426;&#36895;&#12420;&#12363;&#12395;&#12463;&#12521;&#12483;&#12471;&#12517;&#12375;&#12383;&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#12434;&#26908;&#20986;&#12391;&#12365;&#12427;&#12364;&#12289;&#12461;&#12515;&#12483;&#12471;&#12517;&#12375;&#12383;
&#12487;&#12540;&#12479;&#12434;&#22833;&#12358;&#21487;&#33021;&#24615;&#12364;&#12354;&#12427;&#12290;
</p></div></div><div class="sect1" title="&#25345;&#32154;&#30340;&#12394;&#12487;&#12540;&#12479;&#30772;&#22730;"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id2632576"></a>&#25345;&#32154;&#30340;&#12394;&#12487;&#12540;&#12479;&#30772;&#22730;</h2></div></div></div><p>
&#12418;&#12375;&#12418;&#12371;&#12398;&#31456;&#12391;&#35696;&#35542;&#12373;&#12428;&#12390;&#12356;&#12427;&#35373;&#23450;&#12398;&#12377;&#12409;&#12390;&#12434;&#36969;&#29992;&#12375;&#12383;&#12364;&#12289;&#12487;&#12540;&#12479;&#12398;&#30772;&#22730;&#21839;&#38988;&#12392;&#20182;&#12398;&#30151;&#29366;&#12364;&#25345;&#32154;
&#12375;&#12390;&#12356;&#12427;&#12398;&#12391;&#12354;&#12428;&#12400;&#12289;&#36861;&#21152;&#12375;&#12390;&#30435;&#35222;&#12377;&#12427;&#12418;&#12398;&#12364;&#12354;&#12427;&#12290;
</p><p>
&#21336;&#29420;&#12398;&#27424;&#38501;&#12364;&#12354;&#12427;&#12493;&#12483;&#12488;&#12527;&#12540;&#12463;&#12459;&#12540;&#12489;&#12398;&#12424;&#12358;&#12394;&#12289;&#27424;&#38501;&#12364;&#12354;&#12427;&#12493;&#12483;&#12488;&#12527;&#12540;&#12463;&#12495;&#12540;&#12489;&#12454;&#12455;&#12450;&#12395;&#12388;&#12356;&#12390;&#12289;
&#38283;&#30330;&#32773;&#12363;&#12425;&#20449;&#29992;&#12391;&#12365;&#12427;&#22577;&#21578;&#12434;&#21463;&#12369;&#12390;&#12356;&#12427;&#12371;&#12392;&#12364;&#12289;&#35501;&#12415;&#21462;&#12426;&#12461;&#12515;&#12483;&#12471;&#12531;&#12464;&#12392;&#12487;&#12540;&#12479;&#30772;&#22730;&#12395;&#39006;&#20284;&#12375;&#12390;
&#12356;&#12427;&#20806;&#20505;&#12434;&#24341;&#12365;&#36215;&#12371;&#12377;&#12290;&#12418;&#12375;&#12418;&#12289;&#32368;&#12426;&#36820;&#12375;&#12452;&#12531;&#12487;&#12483;&#12463;&#12473;&#12375;&#12383;&#24460;&#12395;&#12418;&#12363;&#12363;&#12431;&#12425;&#12377;&#12289;&#25345;&#32154;&#30340;&#12394;&#12487;&#12540;&#12479;
&#30772;&#22730;&#12364;&#36215;&#12365;&#12390;&#12356;&#12427;&#12394;&#12425;&#12400;&#12289;&#21839;&#12356;&#21512;&#12431;&#12379;&#20013;&#12391;&#12487;&#12540;&#12479;&#12501;&#12449;&#12452;&#12523;&#12398;&#20877;&#27083;&#31689;&#12434;&#12375;&#12394;&#12369;&#12428;&#12400;&#12394;&#12425;&#12394;&#12356;&#12363;&#12418;
&#12375;&#12428;&#12394;&#12356;&#12290;&#12371;&#12428;&#12399;&#12289;&#12522;&#12499;&#12523;&#12489;&#12377;&#12427;&#12424;&#12358;&#12394;&#12398;&#12392;&#21516;&#12376;&#12356;&#12367;&#12388;&#12363;&#12398;&#23450;&#32681;&#12391;&#26032;&#12375;&#12356;&#12487;&#12540;&#12479;&#12501;&#12449;&#12452;&#12523;&#12434;&#20316;&#25104;
&#12377;&#12427;&#12371;&#12392;&#12434;&#25913;&#21892;&#12375;&#12289;&#21476;&#12356;&#12501;&#12449;&#12452;&#12523;&#12363;&#12425;&#26032;&#12375;&#12356;&#12501;&#12449;&#12452;&#12523;&#12395;&#12487;&#12540;&#12479;&#12434;&#36578;&#36865;&#12377;&#12427;&#12290;Samba&#30693;&#35672;&#12505;&#12540;&#12473;&#20013;&#12391;
&#35211;&#12388;&#12369;&#12427;&#12371;&#12392;&#12364;&#20986;&#26469;&#12427;&#12289;&#12371;&#12428;&#12434;&#34892;&#12358;&#12289;&#12356;&#12367;&#12388;&#12363;&#12398;&#25163;&#27861;&#12364;&#12354;&#12427;&#12290;
</p></div><div class="sect1" title="&#12424;&#12367;&#12354;&#12427;&#12456;&#12521;&#12540;"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id2632625"></a>&#12424;&#12367;&#12354;&#12427;&#12456;&#12521;&#12540;</h2></div></div></div><p>
&#12469;&#12540;&#12496;&#12434;&#12452;&#12531;&#12473;&#12488;&#12540;&#12523;&#12377;&#12427;&#12420;&#12356;&#12394;&#12420;&#12289;&#21839;&#38988;&#12364;&#34920;&#38754;&#21270;&#12377;&#12427;&#12469;&#12452;&#12488;&#12364;&#12354;&#12427;&#12290;&#20182;&#12398;&#12469;&#12452;&#12488;&#20869;&#12391;&#12399;&#38263;&#12356;
&#38291;&#21839;&#38988;&#12364;&#34920;&#38754;&#21270;&#12375;&#12390;&#12356;&#12394;&#12356;&#12290;&#20363;&#22806;&#12434;&#38500;&#12356;&#12390;&#12411;&#12392;&#12435;&#12393;&#12289;&#21839;&#38988;&#12364;&#34920;&#38754;&#21270;&#12375;&#12383;&#12392;&#12365;&#12289;&#24403;&#24785;&#12392;&#12289;&#28508;&#22312;&#30340;&#12394;
&#12487;&#12540;&#12479;&#30772;&#22730;&#12434;&#24341;&#12365;&#36215;&#12371;&#12377;&#12384;&#12429;&#12358;&#12290;
</p><p>
&#36942;&#21435;&#25968;&#24180;&#12398;&#38291;&#12289;Samba&#12364;&#12487;&#12540;&#12479;&#30772;&#22730;&#12434;&#24341;&#12365;&#36215;&#12371;&#12377;&#12392;&#12356;&#12358;&#12463;&#12524;&#12540;&#12512;&#12398;&#12289;&#25968;&#22810;&#12367;&#12398;&#19981;&#28288;&#12364;&#12289;Samba
&#12513;&#12540;&#12522;&#12531;&#12464;&#12522;&#12473;&#12488;&#19978;&#12395;&#25237;&#31295;&#12373;&#12428;&#12390;&#12365;&#12383;&#12290;3&#12388;&#12398;&#21407;&#22240;&#12364;&#35469;&#35672;&#12373;&#12428;&#12390;&#12365;&#12383;:
</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
	&#19981;&#27491;&#12394;oplocks&#12398;&#35373;&#23450;(&#12450;&#12503;&#12522;&#12364;&#20351;&#12358;&#12418;&#12398;&#12392;&#12398;&#38750;&#20114;&#25563;)&#12290;&#12371;&#12428;&#12399;&#12289;Microsoft Windows NT4&#12363;
	Microsoft Windows 200x&#12505;&#12540;&#12473;&#12391;&#20351;&#12387;&#12390;&#12356;&#12427;&#12469;&#12540;&#12496;&#12391;&#12418;&#20849;&#36890;&#12398;&#21839;&#38988;&#12391;&#12354;&#12427;&#12290;&#12477;&#12501;&#12488;&#12454;&#12455;&#12450;
	&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12505;&#12531;&#12480;&#12398;&#12501;&#12449;&#12452;&#12523;&#12525;&#12483;&#12461;&#12531;&#12464;&#12395;&#38306;&#12377;&#12427;&#35373;&#23450;&#25163;&#38918;&#12395;&#24613;&#12356;&#12391;&#24467;&#12358;&#12409;&#12365;&#12391;&#12354;&#12427;&#12290;
	&#12418;&#12375;&#12418;&#30097;&#12358;&#12398;&#12391;&#12354;&#12428;&#12400;&#12289;&#12469;&#12540;&#12496;&#12392;&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#20001;&#26041;&#12391;oplocks&#12434;&#28961;&#21177;&#12395;&#12377;&#12427;&#12290;Microsoft
	Windows&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#19978;&#12391;&#12461;&#12515;&#12483;&#12471;&#12531;&#12464;&#12377;&#12427;&#12377;&#12409;&#12390;&#12398;&#24418;&#24335;&#12398;&#12501;&#12449;&#12452;&#12523;&#12434;&#28961;&#21177;&#12395;&#12377;&#12427;&#12371;&#12392;&#12418;
	&#24517;&#35201;&#12363;&#12418;&#12375;&#12428;&#12394;&#12356;&#12290;
	</p></li><li class="listitem"><p>
	&#19981;&#23436;&#20840;&#12394;&#12493;&#12483;&#12488;&#12527;&#12540;&#12463;&#12459;&#12540;&#12489;&#12289;&#12465;&#12540;&#12502;&#12523;&#12289;&#12354;&#12427;&#12356;&#12399;&#12495;&#12502;/&#12473;&#12452;&#12483;&#12481;&#12290;&#12371;&#12428;&#12399;&#12289;&#19968;&#33324;&#30340;&#12395;
	&#20302;&#12467;&#12473;&#12488;&#12493;&#12483;&#12488;&#12527;&#12540;&#12463;&#12495;&#12540;&#12489;&#12454;&#12455;&#12450;&#12395;&#12362;&#12369;&#12427;&#19968;&#33324;&#30340;&#12394;&#20107;&#38917;&#12391;&#12354;&#12427;&#12364;&#12289;&#12424;&#12426;&#39640;&#32026;&#12394;&#12495;&#12540;&#12489;
	&#12454;&#12455;&#12450;&#12395;&#12362;&#12369;&#12427;&#38750;&#20114;&#25563;&#24615;&#12398;&#21839;&#38988;&#12418;&#26178;&#25240;&#12354;&#12427;&#12290;
	</p></li><li class="listitem"><p>
	&#12487;&#12540;&#12479;&#12501;&#12449;&#12452;&#12523;&#12434;&#26360;&#12367;&#26178;&#12395;Samba&#12398;&#12525;&#12464;&#12501;&#12449;&#12452;&#12523;&#12395;&#26178;&#25240;&#30165;&#36321;&#12364;&#27531;&#12427;&#12371;&#12392;&#12364;&#12354;&#12427;&#12290;&#12371;&#12428;&#12399;&#12289;
	&#12372;&#12367;&#23569;&#25968;&#12398;&#12469;&#12452;&#12488;&#12391;&#22577;&#21578;&#12373;&#12428;&#12390;&#12356;&#12390;(&#36942;&#21435;3&#24180;&#12391;&#12362;&#12362;&#12424;&#12381;5&#12388;)&#12289;&#12377;&#12409;&#12390;&#12398;&#20877;&#29694;&#35430;&#39443;&#12399;
	&#22833;&#25943;&#12375;&#12383;&#12290;Samba&#12481;&#12540;&#12512;&#12399;&#12371;&#12398;&#29694;&#35937;&#12434;&#25429;&#12414;&#12360;&#12425;&#12428;&#12378;&#12289;&#12381;&#12398;&#12383;&#12417;&#12289;&#20309;&#12425;&#12363;&#12398;&#29305;&#23450;&#12398;&#29694;&#35937;&#12392;
	&#12375;&#12390;&#20998;&#38626;&#12391;&#12365;&#12390;&#12356;&#12394;&#12356;&#12290;Samba&#12434;&#20351;&#12358;&#38750;&#24120;&#12395;&#25968;&#22810;&#12367;&#12398;&#12471;&#12473;&#12486;&#12512;&#12364;&#12354;&#12427;&#12371;&#12392;&#12434;&#32771;&#12360;&#12427;&#12392;&#12289;
	Samba&#12481;&#12540;&#12512;&#12392;&#21516;&#27096;&#12395;&#12289;&#12371;&#12428;&#12395;&#24433;&#38911;&#12434;&#21463;&#12369;&#12383;&#12469;&#12452;&#12488;&#12395;&#12392;&#12387;&#12390;&#12289;&#12371;&#12428;&#12399;&#12356;&#12425;&#12356;&#12425;&#12377;&#12427;&#12289;
	&#12420;&#12387;&#12363;&#12356;&#12394;&#38627;&#21839;&#12391;&#12354;&#12427;&#12290;&#12418;&#12375;&#12418;&#12289;&#12371;&#12398;&#12479;&#12452;&#12503;&#12398;&#29694;&#35937;&#12395;&#36973;&#36935;&#12375;&#12383;&#12394;&#12425;&#12400;&#12289;&#36933;&#28382;&#12394;&#12367;&#12289;
	Samba&#12398;<a class="ulink" href="https://bugzilla.samba.org" target="_top">Bugzilla</a>&#12395;&#12496;&#12464;&#12524;&#12509;&#12540;&#12488;&#12434;
	&#25237;&#31295;&#12375;&#12390;&#12411;&#12375;&#12356;&#12290;&#21487;&#33021;&#12394;&#38480;&#12426;&#12398;&#12383;&#12367;&#12373;&#12435;&#12398;&#24773;&#22577;&#12434;&#12418;&#12425;&#12360;&#12427;&#12392;&#12289;&#29694;&#35937;&#12398;&#29305;&#23450;&#12398;&#25163;&#21161;&#12369;&#12392;&#12289;
	(&#21839;&#38988;&#12398;&#29305;&#23450;&#12392;&#20462;&#27491;&#12398;&#12383;&#12417;&#12398;&#22522;&#26412;&#30340;&#12394;&#12473;&#12486;&#12483;&#12503;&#12391;&#12354;&#12427;)&#21839;&#38988;&#12398;&#20877;&#29694;&#12398;&#25163;&#21161;&#12369;&#12395;&#12394;&#12427;&#12290;
	</p></li></ul></div><div class="sect2" title="locking.tdb &#12398;&#12456;&#12521;&#12540;&#12513;&#12483;&#12475;&#12540;&#12472;"><div class="titlepage"><div><div><h3 class="title"><a name="id2632725"></a>locking.tdb &#12398;&#12456;&#12521;&#12540;&#12513;&#12483;&#12475;&#12540;&#12472;</h3></div></div></div><p>
		<span class="quote">&#8220;<span class="quote">
			&#20197;&#19979;&#12398;&#12424;&#12358;&#12394;&#12383;&#12367;&#12373;&#12435;&#12398;&#12456;&#12521;&#12540;&#12513;&#12483;&#12475;&#12540;&#12472;&#12364;Samba&#12398;&#12525;&#12464;&#20013;&#12395;&#12354;&#12427;:
		</span>&#8221;</span>
</p><pre class="programlisting">
tdb(/usr/local/samba_2.2.7/var/locks/locking.tdb): rec_read bad magic
 0x4d6f4b61 at offset=36116
</pre><p>

		<span class="quote">&#8220;<span class="quote">
			&#12371;&#12428;&#12399;&#20309;&#12434;&#24847;&#21619;&#12377;&#12427;&#12398;&#12363;?
		</span>&#8221;</span>
	</p><p>
	&#12371;&#12398;&#12456;&#12521;&#12540;&#12399;tdb&#12501;&#12449;&#12452;&#12523;&#12364;&#22730;&#12428;&#12390;&#12356;&#12427;&#12371;&#12392;&#12434;&#34920;&#31034;&#12375;&#12390;&#12356;&#12427;&#12290;smbd&#12398;&#12377;&#12409;&#12390;&#12398;&#12503;&#12525;&#12475;&#12473;&#12434;&#20572;&#27490;&#12375;&#12289;
	locking.tdb&#12434;&#21066;&#38500;&#12375;&#12390;smbd&#12434;&#20877;&#36215;&#21205;&#12377;&#12427;&#12290;
	</p></div><div class="sect2" title="Windows XP&#19978;&#12391;&#12398;Microsoft Office&#12501;&#12449;&#12452;&#12523;&#12475;&#12540;&#12502;&#26178;&#12398;&#21839;&#38988;"><div class="titlepage"><div><div><h3 class="title"><a name="id2632764"></a>Windows XP&#19978;&#12391;&#12398;Microsoft Office&#12501;&#12449;&#12452;&#12523;&#12475;&#12540;&#12502;&#26178;&#12398;&#21839;&#38988;</h3></div></div></div><a class="indexterm" name="id2632772"></a><p>&#12371;&#12428;&#12399;Windows XP&#12398;&#12496;&#12464;&#12391;&#12354;&#12427;&#12290;&#12424;&#12426;&#35443;&#32048;&#12394;&#24773;&#22577;&#12399;&#12289;
		<a class="ulink" href="http://support.microsoft.com/?id=812937" target="_top">Microsoft KB&#12398;&#35352;&#20107;812937</a>
		&#12434;&#21442;&#29031;&#12398;&#12371;&#12392;&#12290;</p></div><div class="sect2" title="XP SP1&#12391;&#12493;&#12483;&#12488;&#12527;&#12540;&#12463;&#32076;&#30001;&#12391;&#12501;&#12449;&#12452;&#12523;&#12434;&#28040;&#12377;&#12398;&#12395;&#38263;&#12356;&#26178;&#38291;&#12364;&#12363;&#12363;&#12427;"><div class="titlepage"><div><div><h3 class="title"><a name="id2632792"></a>XP SP1&#12391;&#12493;&#12483;&#12488;&#12527;&#12540;&#12463;&#32076;&#30001;&#12391;&#12501;&#12449;&#12452;&#12523;&#12434;&#28040;&#12377;&#12398;&#12395;&#38263;&#12356;&#26178;&#38291;&#12364;&#12363;&#12363;&#12427;</h3></div></div></div><p><span class="quote">&#8220;<span class="quote">XP SP1&#12434;&#36969;&#29992;&#35486;&#12289;&#12493;&#12483;&#12488;&#12527;&#12540;&#12463;&#32076;&#30001;&#12391;&#12501;&#12449;&#12452;&#12523;&#12434;&#28040;&#12377;&#12398;&#12395;&#12289;&#26178;&#12293;&#12362;&#12362;&#12424;&#12381;35&#31186;&#12418;&#12363;&#12363;&#12427;&#12290;</span>&#8221;</span></p><a class="indexterm" name="id2632809"></a><p>&#12371;&#12428;&#12399;Windows XP&#12398;&#12496;&#12464;&#12391;&#12354;&#12427;&#12290;&#12424;&#12426;&#35443;&#12375;&#12356;&#24773;&#22577;&#12399;&#12289;
		<a class="ulink" href="http://support.microsoft.com/?id=811492" target="_top">Microsoft KB&#12398;&#35352;&#20107;</a>
		&#12434;&#21442;&#29031;&#12398;&#12371;&#12392;&#12290;</p></div></div><div class="sect1" title="&#21442;&#32771;&#25991;&#29486;"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id2632830"></a>&#21442;&#32771;&#25991;&#29486;</h2></div></div></div><p>
Microsoft&#12398;<a class="ulink" href="http://support.microsoft.com/" target="_top">&#12469;&#12509;&#12540;&#12488;</a>web&#12469;&#12452;&#12488;&#12391;&#12289;
&#12501;&#12449;&#12452;&#12523;&#12392;&#12524;&#12467;&#12540;&#12489;&#12398;&#12525;&#12483;&#12461;&#12531;&#12464;&#12395;&#38306;&#12377;&#12427;&#26356;&#26032;&#12373;&#12428;&#12383;&#25991;&#26360;&#12434;&#12481;&#12455;&#12483;&#12463;&#12375;&#12390;&#12418;&#33391;&#12356;&#12384;&#12429;&#12358;&#12290;
&#36861;&#21152;&#12391;&#12289;Samba&#12398;<a class="ulink" href="http://www.samba.org/" target="_top">web</a>&#12469;&#12452;&#12488;&#12391;&#12289;
<code class="literal">locking</code>&#12392;&#12356;&#12358;&#21336;&#35486;&#12434;&#25506;&#12375;&#12390;&#12418;&#33391;&#12356;&#12384;&#12429;&#12358;&#12290;
</p><p>
Microsoft MSDN&#12521;&#12452;&#12502;&#12521;&#12522;&#19978;&#12395;&#12354;&#12427; opportunistic locking &#31680;&#12399;&#20197;&#19979;&#12398;&#36890;&#12426;:
</p><p>
<a class="indexterm" name="id2632872"></a>
Microsoft KB, <span class="quote">&#8220;<span class="quote">OPLOCKS &#12395;&#12424;&#12427;&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12398;&#25972;&#21512;&#24615;&#12434;&#32173;&#25345;</span>&#8221;</span>,
Microsoft Corporation, April 1999, <a class="ulink" href="http://support.microsoft.com/kb/224992/ja" target="_top">Microsoft
KB &#12398;&#35352;&#20107; 224992(&#35379;&#27880;:&#27231;&#26800;&#32763;&#35379;)</a>.
</p><p>
<a class="indexterm" name="id2632899"></a>
Microsoft KB, <span class="quote">&#8220;<span class="quote">Windows &#12391; Opportunistic Lock &#12434;&#27083;&#25104;&#12377;&#12427;</span>&#8221;</span>,
Microsoft Corporation, April 2001 <a class="ulink" href="http://support.microsoft.com/kb/296264/ja" target="_top">Microsoft KB &#12398;&#35352;&#20107; 296264</a>.
</p><p>
<a class="indexterm" name="id2632924"></a>
Microsoft KB, <span class="quote">&#8220;<span class="quote">PC Ext: Windows NT &#12398; Opportunistic Locking &#12398;&#35500;&#26126;</span>&#8221;</span>,
Microsoft Corporation, April 1995 <a class="ulink" href="http://support.microsoft.com/kb/129202/ja" target="_top">Microsoft
KB &#12398;&#35352;&#20107; 129202</a>.
</p></div><div class="footnotes"><br><hr width="100" align="left"><div class="footnote"><p><sup>[<a name="ftn.id2632208" href="#id2632208" class="para">5</a>] </sup>Microsoft&#12399;&#12371;&#12398;&#20214;&#12395;&#12388;&#12356;&#12390; KB 300216&#12391;&#35299;&#35500;&#12375;&#12390;&#12356;&#12427;&#12290;</p></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="AccessControls.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="optional.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="securing-samba.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter 16. &#12501;&#12449;&#12452;&#12523;&#12289;&#12487;&#12451;&#12524;&#12463;&#12488;&#12522;&#12392;&#20849;&#26377;&#12398;&#12450;&#12463;&#12475;&#12473;&#21046;&#24481; </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Chapter 18. Securing Samba</td></tr></table></div></body></html>
