<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>Chapter 42. Sambaのコンパイル方法</title><link rel="stylesheet" href="../samba.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.75.2"><link rel="home" href="index.html" title="公式のSamba 3.2.x HOWTOとリファレンスガイド"><link rel="up" href="Appendix.html" title="Part VI. Reference Section"><link rel="prev" href="Appendix.html" title="Part VI. Reference Section"><link rel="next" href="Portability.html" title="Chapter 43. 移植性"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Chapter 42. Sambaのコンパイル方法</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="Appendix.html">Prev</a> </td><th width="60%" align="center">Part VI. Reference Section</th><td width="20%" align="right"> <a accesskey="n" href="Portability.html">Next</a></td></tr></table><hr></div><div class="chapter" title="Chapter 42. Sambaのコンパイル方法"><div class="titlepage"><div><div><h2 class="title"><a name="compiling"></a>Chapter 42. Sambaのコンパイル方法</h2></div><div><div class="author"><h3 class="author"><span class="firstname">Jelmer</span> <span class="othername">R.</span> <span class="surname">Vernooij</span></h3><div class="affiliation"><span class="orgname">The Samba Team<br></span><div class="address"><p><code class="email"><<a class="email" href="mailto:jelmer@samba.org">jelmer@samba.org</a>></code></p></div></div></div></div><div><div class="author"><h3 class="author"><span class="firstname">John</span> <span class="othername">H.</span> <span class="surname">Terpstra</span></h3><div class="affiliation"><span class="orgname">Samba Team<br></span><div class="address"><p><code class="email"><<a class="email" href="mailto:jht@samba.org">jht@samba.org</a>></code></p></div></div></div></div><div><div class="author"><h3 class="author"><span class="firstname">Andrew</span> <span class="surname">Tridgell</span></h3><div class="affiliation"><span class="orgname">Samba Team<br></span><div class="address"><p><code class="email"><<a class="email" href="mailto:tridge@samba.org">tridge@samba.org</a>></code></p></div></div></div></div><div><p class="pubdate"> 22 May 2001 </p></div><div><p class="pubdate"> 18 March 2003 </p></div><div><p class="pubdate"> June 2005 </p></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="sect1"><a href="compiling.html#id2712445">Subversion経由でのSambaソースコードへのアクセス</a></span></dt><dd><dl><dt><span class="sect2"><a href="compiling.html#id2712453">概要</a></span></dt><dt><span class="sect2"><a href="compiling.html#id2712500">samba.orgへのSubversionアクセス</a></span></dt></dl></dd><dt><span class="sect1"><a href="compiling.html#id2712733">rsyncとftp経由によるSambaソースへのアクセス</a></span></dt><dt><span class="sect1"><a href="compiling.html#id2712821">SambaのPGP署名の検証</a></span></dt><dt><span class="sect1"><a href="compiling.html#id2712978">バイナリの構築</a></span></dt><dd><dl><dt><span class="sect2"><a href="compiling.html#id2713253">Active Directoryサポートを伴うSambaのコンパイル</a></span></dt></dl></dd><dt><span class="sect1"><a href="compiling.html#startingSamba"><span class="application">smbd</span> <span class="application">nmbd</span>と<span class="application">winbindd</span>の起動</a></span></dt><dd><dl><dt><span class="sect2"><a href="compiling.html#id2713576">inetd.confからの起動</a></span></dt><dt><span class="sect2"><a href="compiling.html#id2713816">もう一つの方法: <span class="application">smbd</span>をデーモンとして起動する</a></span></dt></dl></dd></dl></div><p><a class="ulink" href="http://samba.org/" target="_top">Samba Web site</a>からSambaソースファイルを入手できる。開発バージョンのSambaは、Subversionか<code class="literal">rsync</code>を使って入手できる(訳注:現在はgit)。</p><div class="sect1" title="Subversion経由でのSambaソースコードへのアクセス"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id2712445"></a>Subversion経由でのSambaソースコードへのアクセス</h2></div></div></div><div class="sect2" title="概要"><div class="titlepage"><div><div><h3 class="title"><a name="id2712453"></a>概要</h3></div></div></div><p><a class="indexterm" name="id2712460"></a>(訳注:この節は現在古くなっている)Sambaは公開された環境で開発されている。開発者はSubversionを使って、新しいソースコードを<span class="quote">“<span class="quote">checkin</span>”</span>(<span class="quote">“<span class="quote">commit</span>”</span>としても知られる)する。Sambaの種々のSubversionブランチはこの章で説明される手順で匿名Subversion経由でアクセスできる。</p><p>この章は、<a class="ulink" href="http://samba.org/samba/subversion.html" target="_top">Samba</a>Webサイトにある手順を変更したものである。</p></div><div class="sect2" title="samba.orgへのSubversionアクセス"><div class="titlepage"><div><div><h3 class="title"><a name="id2712500"></a>samba.orgへのSubversionアクセス</h3></div></div></div><p>samba.orgのマシンはSamba,rsync,distcc, ccacheとjitterbugを含むいくつかのパッケージのソースコードへアクセスできるSubversionリポジトリに自由にアクセスできるサーバを動かしている。このホスト上のSubversionサーバにアクセスするには2つの方法がある。</p><div class="sect3" title="ViewCVS経由のアクセス"><div class="titlepage"><div><div><h4 class="title"><a name="id2712520"></a>ViewCVS経由のアクセス</h4></div></div></div><p><a class="indexterm" name="id2712528"></a>お好みのWWWブラウザ経由でソースコードにアクセスできる。これにより、リポジトリの個別のファイルの内容、リビジョン履歴、特定のファイルに対するコミットログにアクセスできる。リポジトリ上の任意の2つのバージョン間での差分表示を得ることもできる。</p><p><a class="ulink" href="http://viewcvs.samba.org/" target="_top">http://viewcvs.samba.org/</a>を使うこと。</p></div><div class="sect3" title="Subversion経由でのアクセス"><div class="titlepage"><div><div><h4 class="title"><a name="id2712562"></a>Subversion経由でのアクセス</h4></div></div></div><p><a class="indexterm" name="id2712570"></a>通常のSubversionクライアント経由でソースコードにアクセスすることもできる。そうすると、リポジトリに対してより多くの制御ができ、完全なソースコードツリーをチェックアウトでき、通常のSubversionコマンド経由で最新版に追従できる。もしもあなたが開発者であれば、これは好ましいアクセス方法であり、通常のブラウザは好ましくない。</p><p>SubversionでSambaのソースをダウンロードできるように、するためには、Subversionクライアントが必要である。使用しているディストリビューションに入っているかもしれないし、そうでなければ、<a class="ulink" href="http://subversion.tigris.org/" target="_top">http://subversion.tigris.org/</a>からソースをダウンロードできる。</p><p>匿名Subversion経由でアクセスするためには、以下のステップを使う。</p><div class="procedure" title="Procedure 42.1. Subversionを使うSambaの検索"><a name="id2712618"></a><p class="title"><b>Procedure 42.1. Subversionを使うSambaの検索</b></p><ol class="procedure" type="1"><li class="step" title="Step 1"><p>	最新のSubversionのコピーをインストールする。必要なものすべては、	Subversionクライアントバイナリのコピーである。	</p></li><li class="step" title="Step 2"><p>	以下のコマンドを動かす	</p><pre class="screen">	<strong class="userinput"><code>svn co svn://svnanon.samba.org/samba/trunk samba</code></strong>.	</pre><p>	</p><p>	これは、最新のSambaソースコード(通常次のメジャーリリースになるブランチ)を含む、	<code class="filename">samba</code>と呼ばれるディレクトリを作成する。これは現在	3.1開発ツリーに連動している。	</p><p>	trunk以外のSubversionブランチは、チェックアウトするときに、branches/BRANCH_NAME	というURLによって得られる。ブランチ名の一覧は、Samba Webサイトの	<span class="quote">“<span class="quote">Development</span>”</span>のページから得られる。最新の3.0リリースコードを得たい	という共通の要求がある。これは以下のコマンドを使うことによってできる:	</p><pre class="screen">	<strong class="userinput"><code>svn co svn://svnanon.samba.org/samba/branches/SAMBA_3_0 samba_3</code></strong>.	</pre><p>	</p></li><li class="step" title="Step 3"><p>	最新のコードの変更にマージしたい場合は、Sambaディレクトリ内で以下のコマンドを使う:	</p><pre class="screen">	<strong class="userinput"><code>svn update</code></strong>	</pre><p>	</p></li></ol></div></div></div></div><div class="sect1" title="rsyncとftp経由によるSambaソースへのアクセス"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id2712733"></a>rsyncとftp経由によるSambaソースへのアクセス</h2></div></div></div><p>	<a class="indexterm" name="id2712742"></a>	<a class="indexterm" name="id2712749"></a>	<em class="parameter"><code>pserver.samba.org</code></em>も、	<a class="ulink" href="ftp://pserver.samba.org/pub/unpacked" target="_top">pserver</a>	というSambaのサイトの所から、Subversionツリーのほとんどの部分のパックされてない	コピーをエクスポートでき、また、	<a class="ulink" href="rsync://pserver.samba.org/ftp/unpacked/" target="_top">rsync</a>	という、Sambaの匿名rsyncサーバ経由でも同じようにできる。ftpよりはrsyncの方が、	rsyncはデータを圧縮転送できるのでお勧めであり、また、抜けているデータのみを	転送出来るという、部分更新が出来て、オーバヘッドが少ないという点でもお勧めで	ある。rsyncについてのより詳細な情報は、	<a class="ulink" href="http://rsync.samba.org/" target="_top">the rsync home page</a>	を参照のこと。	</p><p>	アンパックされたツリーの欠点は、Subversionのように、ローカルな変更の自動マージを	サポートしないと言うことである。<code class="literal">rsync</code>によるアクセスは、	初期導入に最も便利である。	</p></div><div class="sect1" title="SambaのPGP署名の検証"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id2712821"></a>SambaのPGP署名の検証</h2></div></div></div><p><a class="indexterm" name="id2712830"></a><a class="indexterm" name="id2712836"></a>インストールする前に、任意のソースファイルのPGP署名を検証することを強く推奨する。ミラーサイトからダウンロードしていないとしても、PGP署名の検証は、標準的な習慣とすべきである。多くの人は現在PGPの代替としてGNU GPGツールを使っている。GPGはPGPの代わりとして使える。</p><p>そんなわけで、以下のようにしてファイルをダウンロードする:</p><pre class="screen"><code class="prompt">$ </code><strong class="userinput"><code>wget http://us1.samba.org/samba/ftp/samba-3.0.20.tar.asc</code></strong><code class="prompt">$ </code><strong class="userinput"><code>wget http://us1.samba.org/samba/ftp/samba-pubkey.asc</code></strong></pre><p><a class="indexterm" name="id2712892"></a>最初のファイルはSambaソースファイルのPGP署名である。もう1つはSambaの公開PGPキーそれ自身である。以下のようにしてPGPキーをインポートする:</p><pre class="screen"><code class="prompt">$ </code><strong class="userinput"><code>gpg --import samba-pubkey.asc</code></strong></pre><p>そして、Sambaソースコードの正当性を以下のようにして検査する:</p><pre class="screen"><code class="prompt">$ </code><strong class="userinput"><code>gzip -d samba-3.0.20.tar.gz</code></strong><code class="prompt">$ </code><strong class="userinput"><code>gpg --verify samba-3.0.20.tar.asc</code></strong></pre><p></p><p>もしも、<span class="quote">“<span class="quote">Good signature from Samba Distribution Verification Key...,</span>”</span>というようなメッセージが表示されたならば、すべて問題はない。信頼性の関係についての警告は無視して良い。以下のような表示が出たら問題である:</p><pre class="screen">gpg: BAD signature from <span class="quote">“<span class="quote">Samba Distribution Verification Key</span>”</span></pre><p></p></div><div class="sect1" title="バイナリの構築"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id2712978"></a>バイナリの構築</h2></div></div></div><p>	<a class="indexterm" name="id2712986"></a><a class="indexterm" name="id2712992"></a>	tar形式のソースコードを展開後、次のステップは、使用しているOSプラットフォームに	Sambaが適合するように、設定(configuration)を行う。もしもソースディレクトリが	<code class="literal">configure</code>スクリプトを含んでいないのであれば、以降を行う	ために、構築作業が必要である。configureスクリプトの構築はautoconfの正しい	バージョンが必要である。ど必要とされるバージョンのautoconfがある場合、	以下を実行して生成されるスクリプトでconfigureスクリプトを生成できる。</p><pre class="screen"><code class="prompt">root# </code> cd samba-3.0.20/source<code class="prompt">root# </code> ./autogen.sh</pre><p>	</p><p>	<a class="indexterm" name="id2713047"></a>	バイナリを構築するためには、ソースディレクトリ中で、	<strong class="userinput"><code>./configure</code></strong>プログラムを動かす。これは、使用している	OS用にSambaを自動的に設定する。もしも特別な要求があるならば、最初に	以下のように起動しても良いだろう:</p><pre class="screen"><code class="prompt">root# </code><strong class="userinput"><code>./configure --help</code></strong></pre><p></p><p>	これは、どのような特別なオプションが有効に出来るかの一覧を表示する。その後、	必要な任意の引数を付けて、<strong class="userinput"><code>./configure</code></strong>を実行する:</p><pre class="screen"><code class="prompt">root# </code><strong class="userinput"><code>./configure <em class="replaceable"><code>[... arguments ...]</code></em></code></strong></pre><p>	</p><p>	<a class="indexterm" name="id2713119"></a>	以下を実行して、バイナリを生成する:</p><pre class="screen"><code class="prompt">root# </code> <strong class="userinput"><code>make</code></strong></pre><p>	一度コンパイルが成功すると、以下のようなコマンドを実行することで、	バイナリとマニュアルページをインストールできる:</p><pre class="screen"><code class="prompt">root# </code> <strong class="userinput"><code>make install</code></strong></pre><p>	</p><p>	ある人は、バイナリファイルとマニュアルページを分離してインストールすることを	好んでいる。もしもそうしたいのであれば、以下を実行することで、バイナリファイルを	インストールできる:</p><pre class="screen"><code class="prompt">root# </code> <strong class="userinput"><code>make installbin</code></strong></pre><p>	マニュアルページは以下のコマンドでインストールできる:</p><pre class="screen"><code class="prompt">root# </code> <strong class="userinput"><code>make installman</code></strong></pre><p>	</p><p>	もしも、以前のバージョンからアップグレードするのであれば、古いバージョンの	バイナリは<span class="quote">“<span class="quote">.old</span>”</span>という拡張子を付けて改名される。	以下を実行することで、前のバージョンに戻ることが出来る:</p><pre class="screen"><code class="prompt">root# </code> <strong class="userinput"><code>make revert</code></strong></pre><p>	上記を見て分かるとおり、Sambaの構築とインストールは災難を引き起こす事はない!	</p><div class="sect2" title="Active Directoryサポートを伴うSambaのコンパイル"><div class="titlepage"><div><div><h3 class="title"><a name="id2713253"></a>Active Directoryサポートを伴うSambaのコンパイル</h3></div></div></div><p>	ADSをサポートするようにSambaをコンパイルするためには、以下のものをシステムに	インストールする必要がある:	</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>		MIT あるいは Heimdal Kerberos開発ライブラリ		(ソース、あるいはパッケージからのどちらかからインストール)		</p></li><li class="listitem"><p>		OpenLDAP開発ライブラリ。		</p></li></ul></div><p>	もしも、使用しているKerberosライブラリが標準でない位置にあるならば、	以下のconfigure オプションを追加するのを忘れないこと。	<code class="option">--with-krb5=<em class="replaceable"><code>DIR</code></em></code>.	</p><p>	configrue を実行後、生成された<code class="filename">include/config.h</code>が、	以下のような行を含んでいるかを確認する:</p><pre class="programlisting">#define HAVE_KRB5 1#define HAVE_LDAP 1</pre><p>	</p><p>	もしもそうでない場合、configureはインストールされているKRB5ライブラリか	LDAPライブラリを見つけるのに失敗している。なぜそうなったかを	<code class="filename">config.log</code>をみて確認して修正する。	</p><div class="sect3" title="Debian用の、必要とされるパッケージのインストール"><div class="titlepage"><div><div><h4 class="title"><a name="id2713338"></a>Debian用の、必要とされるパッケージのインストール</h4></div></div></div><p>Debianでは、以下のパッケージのインストールが必要である:</p><p>		</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>libkrb5-dev</p></li><li class="listitem"><p>krb5-user</p></li></ul></div><p>	</p></div><div class="sect3" title="Red Hat Linux用の、必要とされるパッケージのインストール"><div class="titlepage"><div><div><h4 class="title"><a name="id2713368"></a>Red Hat Linux用の、必要とされるパッケージのインストール</h4></div></div></div><p>Red Hat Linuxでは、少なくとも:</p><p>		</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>krb5-workstation (for kinit)</p></li><li class="listitem"><p>krb5-libs (for linking with)</p></li><li class="listitem"><p>krb5-devel (because you are compiling from source)</p></li></ul></div><p>	</p><p>を標準開発環境に追加する必要があることを意味する。</p><p>もしも、使用しているシステム上にこれらのファイルがインストールされて	いないならば、どこにそれらがあるかをインストールCDでチェックすべきであり、	使用しているツールにあわせてインストールする。もしもどのツールが使っている	かが分からない場合は、Red Hat Linuxのドキュメントを参照すること。</p></div><div class="sect3" title="SuSE Linuxパッケージでの要求"><div class="titlepage"><div><div><h4 class="title"><a name="id2713425"></a>SuSE Linuxパッケージでの要求</h4></div></div></div><p>	SuSE Linuxはバイナリパッケージを構築する事が出来るのに必要とされるだろうHeimdal	パッケージをインストールする。使用しているシステム上に、開発ライブラリが	インストールされているかを調べるべきである。	</p><p>	SuSE Linux のSamba RPMはKerberosをサポートする。SuSE Linux固有の設定に関連する	情報は、使用しているSuSE Linuxシステムのドキュメントを参照して欲しい。さらに、	SuSEは使用可能な機能を最大限提供するように、Sambaパッケージのメンテナンスをとても	頻繁に行っている。使用可能な、SuSEが提供しているパッケージの使用について考慮	すべきである。	</p></div></div></div><div class="sect1" title="smbd nmbdとwinbinddの起動"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="startingSamba"></a><span class="application">smbd</span> <span class="application">nmbd</span>と<span class="application">winbindd</span>の起動</h2></div></div></div><p>	<a class="indexterm" name="id2713491"></a>	<span class="application">smbd</span>, <span class="application">winbindd</span> と <span class="application">nmbd</span>の起動を、デーモンか<span class="application">inetd</span>	からの起動のどちらかにするかを選ぶ必要がある。両方同時に行ってはいけない!	<span class="application">inetd</span>によって必要時に起動するように、	<code class="filename"> inetd.conf</code>にそれらを記述するか、コマンドラインか、	<code class="filename">/etc/rc.local</code>に記述することで、デーモンとして起動できる。	コマンドラインオプションの詳細についてはマニュアルを参照のこと。どのユーザで	Sambaを起動する必要があることについての部分を注意深く読むこと。ほとんどの場合、	rootで起動する必要がある。	</p><p>	推奨される、デーモンによる方法を使って<span class="application">smbd</span> と <span class="application">nmbd</span>を開始することの利点は、	最初の接続要求時に、若干より迅速に反応すると言うことである。	</p><div class="sect2" title="inetd.confからの起動"><div class="titlepage"><div><div><h3 class="title"><a name="id2713576"></a>inetd.confからの起動</h3></div></div></div><a class="indexterm" name="id2713583"></a><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>以下は、もしもNIS、NIS+あるいはLDAPが分散されたサービスマップを	使っている場合は異なる。</p></div><p><code class="filename">/etc/services</code>を見る。ポート139/tcpに何が定義されて	いるだろうか?もしも何も定義されていないならば、以下のように行を追加する:</p><pre class="programlisting">netbios-ssn     139/tcp</pre><p>137/udpに対して、以下のようなエントリを同様に追加する:</p><pre class="programlisting">netbios-ns	137/udp</pre><p>	次に、<code class="filename">/etc/inetd.conf</code>を編集し、以下のように2行追加する:</p><pre class="programlisting">netbios-ssn stream tcp nowait root /usr/local/samba/sbin/smbd smbd netbios-ns dgram udp wait root /usr/local/samba/sbin/nmbd nmbd </pre><p>	</p><a class="indexterm" name="id2713648"></a><p>	<code class="filename">/etc/inetd.conf</code>の正しい文法はUNIX毎に異なる。ガイドの	inetd.conf中の他の項目を参照すること。	</p><p>	<a class="indexterm" name="id2713668"></a>	いくつかのディストリビューションはinetdの代わりにxinetdを使っている。	設定情報についてはxinetdのマニュアルを参照すること。	</p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>いくつかのUNIXではすでに<code class="filename">/etc/services</code>中に	netbios_ns(下線に注意)のようなエントリが存在している。整合性を取るために、	<code class="filename">/etc/services</code>か<code class="filename">/etc/inetd.conf</code>を	編集する必要がある。	</p></div><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>	<a class="indexterm" name="id2713710"></a>	多くのシステムでは、使用しているネットワークインタフェースのIPアドレスと	ネットマスクを指定するために、 <code class="filename">smb.conf</code>中で	<a class="link" href="smb.conf.5.html#INTERFACES" target="_top">interfaces</a>オプションを使う必要があるかもしれない。	使用しているネットワークでの、ブロードキャストが何であるかを知らないのであれば、	rootで<span class="application">ifconfig</span>を起動する。<span class="application">nmbd</span>は実行時にそれを	決めようとするが、ある種のUNIXでは失敗する。	</p></div><div class="warning" title="Warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Warning</h3><p>	多くのUNIXは、<code class="filename">inetd.conf</code>中で、コマンドライン上におおよそ	5つのパラメータのみを受け付ける。これは、オプションと引数間でスペースが使えない	という事を意味するので、そうしたくなければ、スクリプトを使い、	<code class="literal">inetd</code>経由でスクリプトを起動する。	</p></div><p>	おそらく以下のようにHUPを送ることで、<span class="application">inetd</span>を	再起動する:<a class="indexterm" name="id2713790"></a></p><pre class="screen"><code class="prompt">root# </code><strong class="userinput"><code>killall -HUP inetd</code></strong></pre><p>	</p></div><div class="sect2" title="もう一つの方法: smbdをデーモンとして起動する"><div class="titlepage"><div><div><h3 class="title"><a name="id2713816"></a>もう一つの方法: <span class="application">smbd</span>をデーモンとして起動する</h3></div></div></div><p>	<a class="indexterm" name="id2713829"></a><a class="indexterm" name="id2713836"></a>	サービスをデーモンとして起動するには、<code class="filename">startsmb</code>という、	下記のようなスクリプトを作成すべきである。	</p><pre class="programlisting">#!/bin/sh/usr/local/samba/sbin/smbd -D/usr/local/samba/sbin/winbindd -D/usr/local/samba/sbin/nmbd -D</pre><p>	<code class="literal">chmod +x startsmb</code>でこれを実行可能にする。	</p><p>	手動か、<code class="filename">/etc/rc.local</code>から<code class="literal">startsmb</code>を	実行することが出来る。	</p><p>	これを停止するには、プロセス<span class="application">nmbd</span> と <span class="application">smbd</span>にkillシグナルを送る。	</p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>	もしも、SVR4形式のinitシステムを使っているならば、そのシステムにSambaを	適合するように、<code class="filename">examples/svr4-startup</code>スクリプトを	みてやってもよいだろう。	</p></div><div class="sect3" title="Red Hat LinuxでのSambaの起動"><div class="titlepage"><div><div><h4 class="title"><a name="id2713921"></a>Red Hat LinuxでのSambaの起動</h4></div></div></div><p>	Red Hat Linuxは標準的なインストール状態ではすべてのSambaコンポーネントが	常時含まれるわけではない。そのためRed Hat Linuxのバージョンによっては、	インストールCDROMメディアにあったとしても、winbindユーティリティをインストール	しない。システム上に<code class="literal">winbindd</code>があるかをチェックすること:</p><pre class="screen"><code class="prompt">root# </code> ls /usr/sbin/winbindd/usr/sbin/winbindd</pre><p>	これは、適切なRPMパッケージがインストールされていることを意味する。以下の応答は、	インストールされていない場合である:</p><pre class="screen">/bin/ls: /usr/sbin/winbind: No such file or directory</pre><p>	この場合、<code class="literal">winbindd</code>を使うつもりであるならば、インストールが	必要である。samba-winbind RPMをCDROMインストールメディアから捜し、以下の	Red Hatガイドラインに従ってインストールする。	</p><p>	Sambaの起動の手順の概要を以下で説明する。Sambaを起動する前に、Sambaの	<code class="filename">smb.conf</code>をきちんと設定しておくこと。設定後、以下のようにしてSambaを	起動する:</p><pre class="screen"><code class="prompt">root# </code> service smb start<code class="prompt">root# </code> service winbind start</pre><p>	このステップで <span class="application">nmbd</span>, <span class="application">smbd</span> と <span class="application">winbindd</span>を起動する。	</p><p>	システムが再起動したときに、自動的にこれらのサービスが再起動するようにするには、	以下を実行する:</p><pre class="screen"><code class="prompt">root# </code> chkconfig smb on<code class="prompt">root# </code> chkconfig winbind on</pre><p>	Sambaは毎再帰同時に自動的に起動するようになる。	</p></div><div class="sect3" title="Novell SUSE LinuxにおけるSambaの起動"><div class="titlepage"><div><div><h4 class="title"><a name="id2714064"></a>Novell SUSE LinuxにおけるSambaの起動</h4></div></div></div><p>	Novell SuSE Linux 製品は自動的にすべての基本的なSambaコンポーネントを既定値の	インストール作業でインストールする。<code class="filename">smb.conf</code>ファイルを設定後、以下を行う	事でSambaを起動する:</p><pre class="screen"><code class="prompt">root# </code> rcnmb start<code class="prompt">root# </code> rcsmb start<code class="prompt">root# </code> rcwinbind start</pre><p>	以下のコマンドを実行後、Sambaはシステム再起動後に自動的に起動する:</p><pre class="screen"><code class="prompt">root# </code> chkconfig nmb on<code class="prompt">root# </code> chkconfig smb on<code class="prompt">root# </code> chkconfig winbind on</pre><p>	これで、Sambaサーバはシステム再起動後に自動的に起動する。	</p></div></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="Appendix.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="Appendix.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="Portability.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Part VI. Reference Section </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Chapter 43. 移植性</td></tr></table></div></body></html>