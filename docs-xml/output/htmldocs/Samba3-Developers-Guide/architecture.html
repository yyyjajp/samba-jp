<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Chapter 3. Samba&#12450;&#12540;&#12461;&#12486;&#12463;&#12481;&#12515;</title><link rel="stylesheet" href="../samba.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.75.2"><link rel="home" href="index.html" title="SAMBA&#38283;&#30330;&#32773;&#12460;&#12452;&#12489;"><link rel="up" href="pt02.html" title="Part II. Samba&#12398;&#22522;&#26412;"><link rel="prev" href="pt02.html" title="Part II. Samba&#12398;&#22522;&#26412;"><link rel="next" href="debug.html" title="Chapter 4. Samba&#12398;&#12487;&#12496;&#12483;&#12464;&#12471;&#12473;&#12486;&#12512;"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Chapter 3. Samba&#12450;&#12540;&#12461;&#12486;&#12463;&#12481;&#12515;</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="pt02.html">Prev</a> </td><th width="60%" align="center">Part II. Samba&#12398;&#22522;&#26412;</th><td width="20%" align="right"> <a accesskey="n" href="debug.html">Next</a></td></tr></table><hr></div><div class="chapter" title="Chapter 3. Samba&#12450;&#12540;&#12461;&#12486;&#12463;&#12481;&#12515;"><div class="titlepage"><div><div><h2 class="title"><a name="architecture"></a>Chapter 3. Samba&#12450;&#12540;&#12461;&#12486;&#12463;&#12481;&#12515;</h2></div><div><div class="author"><h3 class="author"><span class="firstname">Dan</span> <span class="surname">Shearer</span></h3></div></div><div><p class="pubdate"> November 1997</p></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="sect1"><a href="architecture.html#id2563002">&#27010;&#35201;</a></span></dt><dt><span class="sect1"><a href="architecture.html#id2563057">&#12510;&#12523;&#12481;&#12473;&#12524;&#12483;&#12489;&#12392;Samba</a></span></dt><dt><span class="sect1"><a href="architecture.html#id2563104">smbd&#12398;&#12473;&#12524;&#12483;&#12489;&#21270;</a></span></dt><dt><span class="sect1"><a href="architecture.html#id2563198">nmbd&#12398;&#12473;&#12524;&#12483;&#12489;&#21270;</a></span></dt><dt><span class="sect1"><a href="architecture.html#id2563283">nbmd&#12398;&#12487;&#12470;&#12452;&#12531;</a></span></dt></dl></div><div class="sect1" title="&#27010;&#35201;"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id2563002"></a>&#27010;&#35201;</h2></div></div></div><p>
&#12371;&#12398;&#25991;&#26360;&#12399;&#12289;&#20869;&#37096;&#30340;&#12395;Samba&#12364;&#12393;&#12398;&#12424;&#12358;&#12395;&#21205;&#12367;&#12363;&#12395;&#12388;&#12356;&#12390;&#12398;&#19968;&#33324;&#30340;&#12394;&#27010;&#35201;&#12434;&#35500;&#26126;&#12375;&#12390;&#12356;&#12427;&#12290;
Samba Team&#12399;&#12289;&#38750;&#24120;&#12395;&#27738;&#12356;SMB&#12392;CIFS&#12503;&#12525;&#12488;&#12467;&#12523;&#12395;&#12424;&#12387;&#12390;&#25276;&#12375;&#12388;&#12369;&#12425;&#12428;&#12427;&#12289;&#20778;&#38597;&#12373;&#12289;&#12475;&#12461;&#12517;&#12522;&#12486;&#12451;&#12392;
&#21046;&#32004;&#12398;&#38291;&#12391;&#12289;&#26368;&#12418;&#33391;&#12356;&#22949;&#21332;&#28857;&#12391;&#12354;&#12427;&#12514;&#12487;&#12523;&#12434;&#35211;&#12356;&#12384;&#12381;&#12358;&#12392;&#12375;&#12383;&#12290;
</p><p>
&#12414;&#12383;&#12289;&#20197;&#19979;&#12398;&#12424;&#12358;&#12394;&#12424;&#12367;&#32862;&#12363;&#12428;&#12427;&#36074;&#21839;&#12398;&#12356;&#12367;&#12388;&#12363;&#12395;&#31572;&#12360;&#12424;&#12358;&#12392;&#12418;&#12375;&#12390;&#12356;&#12427;:
</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
    UNIX&#19978;&#12391;&#21205;&#12363;&#12377;&#12392;&#12365;&#12395;Samba&#12399;&#23433;&#20840;&#12363;?xyz&#12503;&#12521;&#12483;&#12488;&#12501;&#12457;&#12540;&#12512;&#12391;&#12399;?
    root&#29305;&#27177;&#12395;&#12388;&#12356;&#12390;&#12398;&#21839;&#38988;&#12399;?
</p></li><li class="listitem"><p>Samba&#12398;&#12356;&#12367;&#12388;&#12363;&#12398;&#37096;&#20998;&#20013;&#12391;&#12398;&#12510;&#12523;&#12481;&#12473;&#12524;&#12483;&#12489;&#12398;&#36059;&#21542;</p></li><li class="listitem"><p>&#12394;&#12380;&#12289;&#21517;&#21069;&#35299;&#27770;&#12289;WINS&#12392;&#12502;&#12521;&#12454;&#12472;&#12531;&#12464;&#12395;&#38306;&#12375;&#12390;&#20998;&#38626;&#12373;&#12428;&#12383;&#12503;&#12525;&#12475;&#12473;&#12364;&#12354;&#12427;&#12398;&#12363;?</p></li></ol></div></div><div class="sect1" title="&#12510;&#12523;&#12481;&#12473;&#12524;&#12483;&#12489;&#12392;Samba"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id2563057"></a>&#12510;&#12523;&#12481;&#12473;&#12524;&#12483;&#12489;&#12392;Samba</h2></div></div></div><p>
&#20154;&#12293;&#12399;&#26178;&#12293;&#12289;&#19968;&#27096;&#12395;&#12473;&#12524;&#12483;&#12489;&#12434;&#33391;&#12356;&#12418;&#12398;&#12392;&#12375;&#12390;&#25512;&#22888;&#12377;&#12427;&#12290;&#12381;&#12428;&#12425;&#12399;&#25512;&#22888;&#12377;&#12427;&#20154;&#12395;&#12392;&#12387;&#12390;&#12399;
&#12392;&#12390;&#12418;&#33391;&#12356;&#12418;&#12398;&#12391;&#12354;&#12427;&#12364;&#12289;smbd&#12395;&#21462;&#12387;&#12390;&#12399;&#12414;&#12387;&#12383;&#12367;&#19981;&#36969;&#24403;&#12391;&#12354;&#12427;&#12290;nmbd&#12399;&#21029;&#12398;&#21839;&#38988;&#12391;&#12289;
&#12510;&#12523;&#12481;&#12473;&#12524;&#12483;&#12489;&#12381;&#12428;&#33258;&#36523;&#12399;&#12392;&#12390;&#12418;&#33391;&#12356;&#12371;&#12392;&#12391;&#12354;&#12427;&#12290;
</p><p>
&#25163;&#30701;&#12395;&#35328;&#12358;&#12392;&#12289;smbd&#12399;&#12510;&#12523;&#12481;&#12473;&#12524;&#12483;&#12489;&#21270;&#12373;&#12428;&#12390;&#12362;&#12425;&#12378;&#12289;UNIX&#37197;&#19979;&#12391;&#12398;&#21029;&#12398;&#12469;&#12540;&#12496;(&#20363;&#12360;&#12400;&#12289;
&#26360;&#12356;&#12390;&#12356;&#12427;&#26178;&#28857;&#12395;&#12362;&#12356;&#12390;&#12399;Syntax)&#12399;&#12371;&#12398;&#26041;&#27861;&#12434;&#21462;&#12387;&#12390;&#12356;&#12390;&#12289;&#12392;&#12390;&#12418;&#22823;&#12365;&#12394;&#24615;&#33021;&#19978;&#12398;&#21839;&#38988;&#12434;
&#25265;&#12360;&#12390;&#12356;&#12390;&#12289;&#38929;&#19976;&#12391;&#12399;&#12394;&#12356;&#12290;nmbd&#12418;&#12473;&#12524;&#12483;&#12489;&#21270;&#12373;&#12428;&#12390;&#12356;&#12394;&#12356;&#12364;&#12289;&#12371;&#12428;&#12399;&#12289;35&#20197;&#19978;&#12418;&#12398;
&#12503;&#12521;&#12483;&#12488;&#12501;&#12457;&#12540;&#12512;&#12395;&#12414;&#12383;&#12364;&#12387;&#12390;&#12289;&#12467;&#12540;&#12489;&#12398;&#25972;&#21512;&#24615;&#12434;&#21462;&#12426;&#12289;&#12509;&#12540;&#12479;&#12502;&#12523;&#12395;&#12377;&#12427;&#12392;&#12356;&#12358;&#12371;&#12392;&#12364;&#12289;
&#19981;&#21487;&#33021;&#12384;&#12363;&#12425;&#12392;&#12356;&#12358;&#29702;&#30001;&#12391;&#12354;&#12427;(&#12371;&#12398;&#27424;&#28857;&#12399;&#21516;&#12376;&#12367;smbd&#12434;&#12473;&#12524;&#12483;&#12489;&#21270;&#12377;&#12427;&#12371;&#12392;&#12395;&#12418;&#24403;&#12390;&#12399;&#12414;&#12427;)&#12290;
</p><p>
&#12424;&#12426;&#38263;&#12356;&#26399;&#38291;&#12395;&#12362;&#12356;&#12390;&#12289;smbd&#12434;&#12510;&#12523;&#12481;&#12473;&#12524;&#12483;&#12489;&#12395;&#12375;&#12394;&#12356;&#12289;&#12392;&#12390;&#12418;&#33391;&#12356;&#29702;&#30001;&#12364;&#23384;&#22312;&#12375;&#12390;&#12356;&#12427;&#12290;
&#12510;&#12523;&#12481;&#12473;&#12524;&#12483;&#12489;&#12399;Samba&#12434;&#12424;&#12426;&#36933;&#12367;&#12375;&#12289;&#12473;&#12465;&#12540;&#12521;&#12499;&#12522;&#12486;&#12451;&#12434;&#28187;&#23569;&#12373;&#12379;&#12289;&#31227;&#26893;&#24615;&#12434;&#12394;&#12367;&#12375;&#12289;
&#12392;&#12390;&#12418;&#19981;&#23433;&#23450;&#12395;&#12373;&#12379;&#12427;&#12290;&#23455;&#38555;&#12289;&#21508;&#25509;&#32154;&#12395;&#23550;&#12375;&#12390;&#29420;&#31435;&#12375;&#12383;&#12503;&#12525;&#12475;&#12473;&#12434;&#20351;&#29992;&#12375;&#12390;&#12356;&#12390;&#12289;&#12381;&#12428;&#12399;
Samba&#12398;&#26368;&#12418;&#22823;&#12365;&#12394;&#21033;&#28857;&#12398;1&#12388;&#12391;&#12354;&#12427;&#12290;
</p></div><div class="sect1" title="smbd&#12398;&#12473;&#12524;&#12483;&#12489;&#21270;"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id2563104"></a>smbd&#12398;&#12473;&#12524;&#12483;&#12489;&#21270;</h2></div></div></div><p>
&#12473;&#12524;&#12483;&#12489;&#21270;&#12375;&#12383;smbd&#12363;&#12425;&#30330;&#29983;&#12377;&#12427;&#12356;&#12367;&#12388;&#12363;&#12398;&#21839;&#38988;&#12399;&#20197;&#19979;&#12398;&#36890;&#12426;:
</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
    &#12503;&#12525;&#12475;&#12473;&#12398;&#20195;&#12431;&#12426;&#12395;&#12473;&#12524;&#12483;&#12489;&#12434;&#20316;&#25104;&#12377;&#12427;&#12384;&#12369;&#12391;&#12394;&#12367;&#12289;&#12473;&#12524;&#12483;&#12489;&#22266;&#26377;&#12391;&#23384;&#22312;&#12375;&#12394;&#12369;&#12428;&#12400;&#12394;&#12425;&#12394;&#12356;
    &#22580;&#21512;&#12289;&#12377;&#12409;&#12390;&#12398;&#22793;&#25968;&#12395;&#12388;&#12356;&#12390;&#31649;&#29702;&#12434;&#34892;&#12431;&#12394;&#12369;&#12428;&#12400;&#12394;&#12425;&#12394;&#12356;(&#29694;&#22312;&#12381;&#12428;&#12425;&#12399;&#12464;&#12525;&#12540;&#12496;&#12523;&#12391;&#12354;&#12427;)&#12290;
</p></li><li class="listitem"><p>
    &#12418;&#12375;&#12418;&#12354;&#12427;1&#12388;&#12398;&#12473;&#12524;&#12483;&#12489;&#12364;&#30064;&#24120;&#32066;&#20102;&#12377;&#12427;&#12392;(&#20363;&#12360;&#12400;&#12289;&#12475;&#12464;&#12513;&#12531;&#12486;&#12540;&#12471;&#12519;&#12531;&#12501;&#12457;&#12523;&#12488;)&#12289;
    &#12377;&#12409;&#12390;&#12398;&#12473;&#12524;&#12483;&#12489;&#12364;&#30064;&#24120;&#32066;&#20102;&#12377;&#12427;&#12290;&#20449;&#38972;&#24615;&#12434;&#25613;&#12397;&#12427;&#12371;&#12392;&#12395;&#12394;&#12427;&#12290;
</p></li><li class="listitem"><p>
    &#20351;&#29992;&#12375;&#12390;&#12356;&#12427;&#22810;&#12367;&#12398;&#12471;&#12473;&#12486;&#12512;&#12467;&#12540;&#12523;&#12364;&#12502;&#12525;&#12483;&#12463;&#12375;&#12390;&#12356;&#12427;&#12290;&#22810;&#12367;&#12398;&#12471;&#12473;&#12486;&#12512;&#12467;&#12540;&#12523;&#12391;
    &#12502;&#12525;&#12483;&#12463;&#12375;&#12394;&#12356;&#12363;&#21516;&#31561;&#12398;&#12371;&#12392;&#12434;&#12377;&#12427;&#12418;&#12398;&#12399;&#12289;&#29992;&#24847;&#12373;&#12428;&#12390;&#12356;&#12394;&#12356;&#12363;&#12289;&#12358;&#12414;&#12367;&#20351;&#12360;&#12394;&#12356;
    (&#12381;&#12375;&#12390;&#36933;&#12356;)&#12290;&#12381;&#12398;&#12383;&#12417;&#12289;&#12354;&#12427;1&#12388;&#12398;&#12473;&#12524;&#12483;&#12489;&#12391;&#12502;&#12525;&#12483;&#12463;&#12375;&#12390;&#12356;&#12427;&#38291;&#12399;&#12289;&#12377;&#12409;&#12390;&#12398;
    &#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#12399;&#24453;&#12383;&#12373;&#12428;&#12427;&#12371;&#12392;&#12395;&#12394;&#12427;&#12290;&#12354;&#12427;&#20849;&#26377;&#12364;&#36933;&#12356;NFS&#12501;&#12449;&#12452;&#12523;&#12471;&#12473;&#12486;&#12512;&#12391;&#12289;
    &#12381;&#12398;&#20182;&#12364;&#26089;&#12356;&#12418;&#12398;&#12384;&#12392;&#20206;&#23450;&#12375;&#12390;&#12415;&#12383;&#22580;&#21512;&#12289;&#12377;&#12409;&#12390;&#12398;&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#12364;&#12289;NFS&#12398;&#12473;&#12500;&#12540;&#12489;&#12395;
    &#25233;&#21046;&#12373;&#12428;&#12390;&#12375;&#12414;&#12358;&#12290;
</p></li><li class="listitem"><p>
    &#30064;&#12394;&#12387;&#12383;&#12473;&#12524;&#12483;&#12489;&#20013;&#12391;&#30064;&#12394;&#12387;&#12383;uid&#12392;&#12375;&#12390;&#21205;&#20316;&#12391;&#12365;&#12394;&#12356;&#12290;&#12371;&#12428;&#12399;&#12289;&#12377;&#12409;&#12390;&#12398;SMB&#12497;&#12465;&#12483;&#12488;&#19978;&#12391;
    uid/gid&#12434;&#12473;&#12452;&#12483;&#12481;&#12375;&#12394;&#12369;&#12428;&#12400;&#12394;&#12425;&#12394;&#12356;&#12392;&#35328;&#12358;&#12371;&#12392;&#12434;&#24847;&#21619;&#12377;&#12427;&#12290;&#12381;&#12428;&#12399;&#12392;&#12390;&#12388;&#12418;&#12394;&#12367;&#36933;&#12356;&#12290;
</p></li><li class="listitem"><p>
    &#12503;&#12525;&#12475;&#12473;&#12354;&#12383;&#12426;&#12398;&#12501;&#12449;&#12452;&#12523;&#12487;&#12451;&#12473;&#12463;&#12522;&#12503;&#12479;&#21046;&#38480;&#12399;&#12289;&#21046;&#38480;&#12373;&#12428;&#12383;&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#12398;&#25968;&#12398;&#12415;&#12434;
    &#12469;&#12509;&#12540;&#12488;&#12391;&#12365;&#12427;&#12371;&#12392;&#12434;&#24847;&#21619;&#12377;&#12427;&#12290;
</p></li><li class="listitem"><p>
    &#12503;&#12525;&#12475;&#12473;&#12395;&#23550;&#12375;&#12390;fcntl()&#12398;&#12467;&#12531;&#12486;&#12461;&#12473;&#12488;&#12391;&#12525;&#12483;&#12461;&#12531;&#12464;&#12434;&#34892;&#12358;&#12424;&#12358;&#12395;&#12473;&#12524;&#12483;&#12489;&#12395;&#23550;&#12375;&#12390;
    &#12471;&#12473;&#12486;&#12512;&#12525;&#12483;&#12461;&#12531;&#12464;&#12434;&#20351;&#12358;&#12371;&#12392;&#12364;&#20986;&#26469;&#12394;&#12356;&#12290;
</p></li></ol></div></div><div class="sect1" title="nmbd&#12398;&#12473;&#12524;&#12483;&#12489;&#21270;"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id2563198"></a>nmbd&#12398;&#12473;&#12524;&#12483;&#12489;&#21270;</h2></div></div></div><p>
&#12371;&#12428;&#12399;&#29702;&#24819;&#12391;&#12399;&#12354;&#12427;&#12364;&#12289;&#12509;&#12540;&#12479;&#12499;&#12522;&#12486;&#12451;&#12398;&#35201;&#27714;&#12395;&#12424;&#12426;&#23455;&#29694;&#12377;&#12427;&#12398;&#12399;&#38627;&#12375;&#12356;&#12290;
</p><p>
Andrew &#12399;ANSI-C&#12398;&#31684;&#22258;&#12398;&#12415;&#12434;&#20351;&#12387;&#12390;(setjmp&#12392;longjmp&#12434;&#20351;&#12387;&#12390;)nmbd&#29992;&#12398;&#12486;&#12473;&#12488;&#29992;
&#12473;&#12524;&#12483;&#12489;&#12521;&#12452;&#12502;&#12521;&#12522;&#12434;&#21152;&#24037;&#12392;&#12375;&#12383;&#12290;&#27531;&#24565;&#12394;&#12371;&#12392;&#12395;&#12289;&#12356;&#12367;&#12388;&#12363;&#12398;OS&#12391;&#12399;&#12289;&#12473;&#12479;&#12483;&#12463;&#19978;&#12398;
&#29694;&#22312;&#12398;&#12450;&#12489;&#12524;&#12473;&#12424;&#12426;&#12418;&#27973;&#12356;&#20301;&#32622;&#12398;&#12450;&#12489;&#12524;&#12473;&#12434;&#21628;&#12403;&#20986;&#12377;&#12383;&#12417;&#12395;longjmp&#12434;&#21046;&#38480;&#12377;&#12427;&#12371;&#12392;&#12395;
&#12424;&#12387;&#12390;&#12289;&#12358;&#12414;&#12367;&#12356;&#12363;&#12394;&#12363;&#12387;&#12383;(&#35211;&#12383;&#12392;&#12371;&#12429;&#12391;&#12399;&#12289;AIX&#12364;&#12381;&#12358;&#12391;&#12354;&#12427;)&#12290;&#12371;&#12428;&#12399;&#12289;&#30495;&#12395;
&#12509;&#12540;&#12479;&#12502;&#12523;&#12394;&#12473;&#12524;&#12483;&#12489;&#12521;&#12452;&#12502;&#12521;&#12522;&#12434;&#19981;&#21487;&#33021;&#12395;&#12375;&#12390;&#12356;&#12427;&#12290;&#12381;&#12398;&#12383;&#12417;&#12289;&#29694;&#22312;&#23550;&#24540;&#12375;&#12390;&#12356;&#12427;
&#12377;&#12409;&#12390;&#12398;&#12503;&#12521;&#12483;&#12488;&#12501;&#12457;&#12540;&#12512;&#12395;&#23550;&#12375;&#12390;&#12289;nmbd&#12398;&#12467;&#12540;&#12489;&#12434;&#12473;&#12524;&#12483;&#12489;&#12354;&#12426;&#12289;&#12394;&#12375;&#12398;&#20001;&#26041;&#29992;&#24847;
&#12375;&#12394;&#12369;&#12428;&#12400;&#12394;&#12425;&#12378;&#12289;&#12473;&#12524;&#12483;&#12489;&#12398;&#26412;&#26469;&#12398;&#30446;&#30340;&#12399;&#12467;&#12540;&#12489;&#12434;&#12365;&#12428;&#12356;&#12395;&#12377;&#12427;&#12371;&#12392;&#12391;&#12354;&#12427;&#12364;&#12289;
&#12381;&#12428;&#12434;&#24471;&#12425;&#12428;&#12394;&#12356;(&#12473;&#12524;&#12483;&#12489;&#12364;&#29289;&#20107;&#12434;&#26089;&#12367;&#12377;&#12427;&#12392;&#12356;&#12358;&#12398;&#12399;&#31070;&#35441;&#12391;&#12354;&#12427;&#12290;&#12473;&#12524;&#12483;&#12489;&#12399;
&#20877;&#24112;&#12398;&#12424;&#12358;&#12394;&#12418;&#12398;&#12391;&#12354;&#12426;&#12289;&#29289;&#20107;&#12434;&#12365;&#12428;&#12356;&#12395;&#12377;&#12427;&#12364;&#12289;&#20182;&#12398;&#20309;&#12425;&#12363;&#12398;&#26041;&#27861;&#12395;&#12424;&#12387;&#12390;&#12289;&#12356;&#12388;&#12391;&#12418;
&#12381;&#12428;&#12399;&#12418;&#12387;&#12392;&#26089;&#12367;&#12377;&#12427;&#12371;&#12392;&#12418;&#12391;&#12365;&#12427;)&#12290;
</p><p>
Chris&#12399;&#12289;&#12473;&#12524;&#12483;&#12489;&#23550;&#29420;&#31435;&#12375;&#12383;&#12503;&#12525;&#12475;&#12473;(&#23550;&#20182;&#12398;&#26041;&#27861;?)&#12434;&#35201;&#32004;&#12377;&#12427;&#27726;&#29992;&#30340;&#12394;&#12487;&#12470;&#12452;&#12531;&#12434;&#35373;&#35336;
&#12375;&#12424;&#12358;&#12392;&#12375;&#12289;&#12356;&#12367;&#12388;&#12363;&#12398;&#27726;&#29992;APC&#12434;&#36890;&#12375;&#12390;&#12289;&#12381;&#12428;&#12425;&#12434;&#12450;&#12463;&#12475;&#12473;&#21487;&#33021;&#12395;&#12375;&#12383;&#12290;&#12371;&#12428;&#12399;&#12289;
&#12503;&#12525;&#12488;&#12467;&#12523;&#12395;&#12424;&#12427;&#12487;&#12540;&#12479;&#20849;&#26377;&#35201;&#27714;(&#29694;&#22312;&#12398;&#12497;&#12465;&#12483;&#12488;&#12395;&#23558;&#26469;&#12398;&#12497;&#12465;&#12483;&#12488;&#12364;&#20381;&#23384;&#12377;&#12427;&#12394;&#12393;)&#12392;&#12356;&#12358;
&#29702;&#30001;&#12391;&#12358;&#12414;&#12367;&#21205;&#12363;&#12394;&#12363;&#12387;&#12383;&#12290;&#23569;&#12394;&#12367;&#12392;&#12418;&#12289;&#12467;&#12540;&#12489;&#12399;&#21205;&#12356;&#12383;&#12364;&#12289;&#38750;&#24120;&#12395;&#12366;&#12371;&#12385;&#12394;&#12367;&#12289;
&#12381;&#12398;&#19978;&#12289;fork()&#12479;&#12452;&#12503;&#12514;&#12487;&#12523;&#12399;&#12289;UNIX&#19978;&#12391;&#12399;&#27770;&#12375;&#12390;&#21205;&#12363;&#12394;&#12363;&#12387;&#12383;(nmbd&#12395;&#23550;&#12375;&#12390;&#12289;
&#12381;&#12428;&#12364;&#21205;&#12367;OS&#12399;&#12354;&#12427;&#12398;&#12384;&#12429;&#12358;&#12363;?)&#12290;
</p><p>
fork()&#12399;&#23433;&#12387;&#12413;&#12356;&#12364;&#12289;&#21463;&#20449;&#12375;&#12383;&#12377;&#12409;&#12390;&#12398;UDP&#12497;&#12465;&#12483;&#12488;&#19978;&#12391;&#20966;&#29702;&#12434;&#34892;&#12358;&#12398;&#12395;&#12289;&#21313;&#20998;
&#23433;&#12387;&#12413;&#12356;&#12431;&#12369;&#12391;&#12399;&#12394;&#12356;&#12290;&#12503;&#12525;&#12475;&#12473;&#12398;&#12503;&#12540;&#12523;&#12434;&#25345;&#12388;&#12371;&#12392;&#12399;&#21487;&#33021;&#12391;&#12354;&#12427;&#12364;&#12289;&#12503;&#12525;&#12475;&#12473;&#38291;&#12391;&#12289;
(&#35079;&#38609;&#12394;&#27083;&#36896;&#20307;&#20013;&#12391;)&#20849;&#26377;&#12373;&#12428;&#12383;&#24040;&#22823;&#12394;&#37327;&#12398;&#12487;&#12540;&#12479;&#12398;&#12383;&#12417;&#12395;&#12289;&#12503;&#12525;&#12464;&#12521;&#12512;&#12434;&#12365;&#12428;&#12356;&#12395;&#12377;&#12427;
&#12371;&#12392;&#12399;&#12289;&#12402;&#12393;&#12367;&#38627;&#12375;&#12356;&#12290;&#21508;&#12503;&#12521;&#12483;&#12488;&#12501;&#12457;&#12540;&#12512;&#12364;&#20849;&#26377;&#12513;&#12514;&#12522;&#12471;&#12473;&#12486;&#12512;&#12434;&#25345;&#12388;&#20107;&#12434;
&#12354;&#12390;&#12395;&#12377;&#12427;&#12371;&#12392;&#12399;&#20986;&#26469;&#12394;&#12356;&#12290;
</p></div><div class="sect1" title="nbmd&#12398;&#12487;&#12470;&#12452;&#12531;"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id2563283"></a>nbmd&#12398;&#12487;&#12470;&#12452;&#12531;</h2></div></div></div><p>
&#12418;&#12392;&#12418;&#12392;&#12289;Andrew&#12399;&#12289;&#36884;&#26041;&#12418;&#12394;&#12367;&#12473;&#12479;&#12483;&#12463;&#12434;&#20351;&#12356;&#12289;&#20840;&#12367;&#12418;&#12387;&#12390;&#12487;&#12496;&#12483;&#12464;&#20316;&#26989;&#12434;&#28151;&#20081;&#12373;&#12379;&#12427;&#12289;
&#12510;&#12523;&#12481;&#12473;&#12524;&#12483;&#12489;&#29872;&#22659;&#12434;&#12471;&#12511;&#12517;&#12524;&#12540;&#12488;&#12377;&#12427;&#12383;&#12417;&#12398;&#20877;&#24112;&#12434;&#20351;&#12387;&#12383;&#12290;Luke Leighton&#12399;&#21508;&#12497;&#12465;&#12483;&#12488;&#19978;&#12391;
&#12473;&#12486;&#12540;&#12488;&#24773;&#22577;&#12434;&#20445;&#25345;&#12377;&#12427;&#21839;&#12356;&#21512;&#12431;&#12379;&#12471;&#12473;&#12486;&#12512;&#12434;&#20351;&#12358;&#12424;&#12358;&#12395;&#26360;&#12365;&#30452;&#12375;&#12383;&#12290;&#26368;&#21021;&#12398;&#12496;&#12540;&#12472;&#12519;&#12531;&#12399;&#12289;
&#12377;&#12409;&#12390;&#12398;&#24453;&#27231;&#29366;&#24907;&#12473;&#12486;&#12540;&#12488;&#12395;&#12424;&#12387;&#12390;&#20351;&#12431;&#12428;&#12427;&#21336;&#19968;&#12398;&#27083;&#36896;&#12434;&#20351;&#12387;&#12390;&#12356;&#12383;&#12290;&#12371;&#12398;&#27083;&#36896;&#12398;&#21021;&#26399;&#21270;&#12399;&#12289;
&#24341;&#25968;&#12434;&#36861;&#21152;&#12377;&#12427;&#12371;&#12392;&#12391;&#34892;&#12431;&#12428;&#12289;&#27231;&#33021;&#12364;&#38283;&#30330;&#12377;&#12427;&#12395;&#24467;&#12356;&#12289;&#12384;&#12435;&#12384;&#12435;&#35079;&#38609;&#21270;&#12375;&#12390;&#12356;&#12387;&#12383;&#12290;
&#12381;&#12398;&#12383;&#12417;&#12289;&#12424;&#12426;&#39640;&#20301;&#12398;&#38306;&#25968;&#12392;&#12289;&#12518;&#12540;&#12470;&#12364;&#23450;&#32681;&#12375;&#12383;&#12513;&#12514;&#12522;&#12502;&#12525;&#12483;&#12463;&#12434;&#25351;&#23450;&#12377;&#12427;&#12509;&#12452;&#12531;&#12479;&#12395;&#12424;&#12387;&#12390;
&#32622;&#12365;&#25563;&#12360;&#12425;&#12428;&#12383;&#12290;&#12371;&#12428;&#12399;&#31361;&#28982;&#29289;&#20107;&#12434;&#12424;&#12426;&#31777;&#21336;&#12395;&#12375;&#12383;:&#38750;&#24120;&#12395;&#22810;&#25968;&#12398;&#38306;&#25968;&#12399;&#38745;&#30340;&#12395;&#20316;&#25104;&#12373;&#12428;&#12289;
&#12514;&#12472;&#12517;&#12540;&#12523;&#21270;&#12373;&#12428;&#12383;&#12290;&#12371;&#12428;&#12399;NT&#12459;&#12540;&#12493;&#12523;&#12391;&#20351;&#12431;&#12428;&#12390;&#12356;&#12427;&#12418;&#12398;&#12392;&#21516;&#12376;&#21407;&#29702;&#12391;&#12354;&#12426;&#12289;&#21336;&#19968;&#12398;
&#12503;&#12525;&#12475;&#12473;&#20013;&#12391;&#12399;&#12354;&#12427;&#12364;&#12289;&#12473;&#12524;&#12483;&#12489;&#12392;&#21516;&#12376;&#12424;&#12358;&#12394;&#21177;&#26524;&#12364;&#25104;&#12375;&#36930;&#12370;&#12425;&#12428;&#12383;&#12290;
</p><p>
&#27425;&#12395;&#12289;Jeremy&#12399;nmbd&#12434;&#26360;&#12365;&#30452;&#12375;&#12383;&#12290;nmbd&#20013;&#12398;&#12497;&#12465;&#12483;&#12488;&#12487;&#12540;&#12479;&#12399;&#12493;&#12483;&#12488;&#12527;&#12540;&#12463;&#19978;&#12398;&#12418;&#12398;&#12391;&#12399;&#12394;&#12356;&#12290;
&#12371;&#12398;&#24418;&#24335;&#12399;&#12289;&#20966;&#29702;&#12395;&#23550;&#12375;&#12390;&#12392;&#12390;&#12418;&#24467;&#38918;&#12394;&#12418;&#12398;&#12391;&#12354;&#12427;&#12364;&#12289;&#12414;&#12384;&#20182;&#12398;&#12497;&#12465;&#12483;&#12488;&#12398;&#20869;&#23481;&#12434;&#20445;&#25345;&#12375;&#12390;&#12356;&#12383;&#12290;
nameserv.h&#20013;&#12398;"struct packet_struct"&#12434;&#21442;&#29031;&#12398;&#12371;&#12392;&#12290;&#12381;&#12371;&#12395;&#12399;&#12377;&#12409;&#12390;&#12398;&#35443;&#32048;&#12364;&#12354;&#12427;&#12364;&#12289;
&#12493;&#12483;&#12488;&#12527;&#12540;&#12463;&#19978;&#12398;&#12513;&#12483;&#12475;&#12540;&#12472;&#12395;&#12388;&#12356;&#12390;&#12399;&#35352;&#36848;&#12364;&#12394;&#12356;&#12290;&#12371;&#12428;&#12399;&#12289;&#12502;&#12521;&#12454;&#12472;&#12531;&#12464;&#12392;WINS&#12469;&#12509;&#12540;&#12488;&#12398;
&#12383;&#12417;&#12398;&#12289;&#12487;&#12451;&#12473;&#12463;&#12363;&#12513;&#12514;&#12522;&#12505;&#12540;&#12473;&#12398;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#20013;&#12391;&#29702;&#24819;&#30340;&#12395;&#20351;&#12360;&#12427;&#12424;&#12358;&#12395;&#12377;&#12427;&#12290;
</p></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="pt02.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="pt02.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="debug.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Part II. Samba&#12398;&#22522;&#26412; </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Chapter 4. Samba&#12398;&#12487;&#12496;&#12483;&#12464;&#12471;&#12473;&#12486;&#12512;</td></tr></table></div></body></html>
