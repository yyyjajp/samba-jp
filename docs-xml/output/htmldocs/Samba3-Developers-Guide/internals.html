<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Chapter 5. Samba&#12398;&#20869;&#37096;</title><link rel="stylesheet" href="../samba.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.75.2"><link rel="home" href="index.html" title="SAMBA&#38283;&#30330;&#32773;&#12460;&#12452;&#12489;"><link rel="up" href="pt02.html" title="Part II. Samba&#12398;&#22522;&#26412;"><link rel="prev" href="debug.html" title="Chapter 4. Samba&#12398;&#12487;&#12496;&#12483;&#12464;&#12471;&#12473;&#12486;&#12512;"><link rel="next" href="CodingSuggestions.html" title="Chapter 6. &#12467;&#12540;&#12487;&#12451;&#12531;&#12464;&#12395;&#23550;&#12377;&#12427;&#21161;&#35328;"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Chapter 5. Samba&#12398;&#20869;&#37096;</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="debug.html">Prev</a> </td><th width="60%" align="center">Part II. Samba&#12398;&#22522;&#26412;</th><td width="20%" align="right"> <a accesskey="n" href="CodingSuggestions.html">Next</a></td></tr></table><hr></div><div class="chapter" title="Chapter 5. Samba&#12398;&#20869;&#37096;"><div class="titlepage"><div><div><h2 class="title"><a name="internals"></a>Chapter 5. Samba&#12398;&#20869;&#37096;</h2></div><div><div class="author"><h3 class="author"><span class="firstname">David</span> <span class="surname">Chappell</span></h3><div class="affiliation"><div class="address"><p><code class="email">&lt;<a class="email" href="mailto:David.Chappell@mail.trincoll.edu">David.Chappell@mail.trincoll.edu</a>&gt;</code></p></div></div></div></div><div><p class="pubdate">8 May 1996</p></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="sect1"><a href="internals.html#id2563893">&#25991;&#23383;&#12398;&#21462;&#12426;&#25201;&#12356;</a></span></dt><dt><span class="sect1"><a href="internals.html#id2563920">&#26032;&#12375;&#12356;&#27231;&#33021;</a></span></dt><dt><span class="sect1"><a href="internals.html#id2564128">byteorder.h&#20013;&#12398;&#12510;&#12463;&#12525;</a></span></dt><dd><dl><dt><span class="sect2"><a href="internals.html#id2564143">CVAL(buf,pos)</a></span></dt><dt><span class="sect2"><a href="internals.html#id2564156">PVAL(buf,pos)</a></span></dt><dt><span class="sect2"><a href="internals.html#id2564167">SCVAL(buf,pos,val)</a></span></dt><dt><span class="sect2"><a href="internals.html#id2564180">SVAL(buf,pos)</a></span></dt><dt><span class="sect2"><a href="internals.html#id2564196">IVAL(buf,pos)</a></span></dt><dt><span class="sect2"><a href="internals.html#id2564208">SVALS(buf,pos)</a></span></dt><dt><span class="sect2"><a href="internals.html#id2564220">IVALS(buf,pos)</a></span></dt><dt><span class="sect2"><a href="internals.html#id2564232">SSVAL(buf,pos,val)</a></span></dt><dt><span class="sect2"><a href="internals.html#id2564244">SIVAL(buf,pos,val)</a></span></dt><dt><span class="sect2"><a href="internals.html#id2564256">SSVALS(buf,pos,val)</a></span></dt><dt><span class="sect2"><a href="internals.html#id2564269">SIVALS(buf,pos,val)</a></span></dt><dt><span class="sect2"><a href="internals.html#id2564281">RSVAL(buf,pos)</a></span></dt><dt><span class="sect2"><a href="internals.html#id2564293">RIVAL(buf,pos)</a></span></dt><dt><span class="sect2"><a href="internals.html#id2564304">RSSVAL(buf,pos,val)</a></span></dt><dt><span class="sect2"><a href="internals.html#id2564321">RSIVAL(buf,pos,val)</a></span></dt></dl></dd><dt><span class="sect1"><a href="internals.html#id2564334">LAN Manager&#29992;Samba API</a></span></dt><dd><dl><dt><span class="sect2"><a href="internals.html#id2564371">&#12497;&#12521;&#12513;&#12540;&#12479;</a></span></dt><dt><span class="sect2"><a href="internals.html#id2564528">&#25147;&#12426;&#20516;</a></span></dt></dl></dd><dt><span class="sect1"><a href="internals.html#id2564646">&#12467;&#12540;&#12489;&#25991;&#23383;&#12486;&#12540;&#12502;&#12523;</a></span></dt></dl></div><div class="sect1" title="&#25991;&#23383;&#12398;&#21462;&#12426;&#25201;&#12356;"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id2563893"></a>&#25991;&#23383;&#12398;&#21462;&#12426;&#25201;&#12356;</h2></div></div></div><p>
&#12371;&#12398;&#31456;&#12391;&#12399;&#12289;Samba3.0&#20197;&#38477;&#12395;&#12362;&#12369;&#12427;Samba&#20869;&#37096;&#12391;&#12398;&#25991;&#23383;&#12475;&#12483;&#12488;&#12398;&#21462;&#12426;&#25201;&#12356;&#12395;&#12388;&#12356;&#12390;&#35328;&#21450;&#12377;&#12427;&#12290;

</p><p>
&#20197;&#21069;&#12398;&#12496;&#12540;&#12472;&#12519;&#12531;&#12398;Samba&#12399;&#12289;&#12392;&#12390;&#12418;&#12381;&#12398;&#22580;&#12375;&#12398;&#12366;&#12398;&#25991;&#23383;&#12475;&#12483;&#12488;&#20966;&#29702;&#12434;&#34892;&#12387;&#12390;&#12356;&#12383;&#12290;&#28857;&#22312;&#12377;&#12427;
&#12467;&#12540;&#12489;&#12399;DOS&#12398;&#12467;&#12540;&#12489;&#12506;&#12540;&#12472;&#12408;&#12289;&#12354;&#12427;&#12356;&#12399;&#12467;&#12540;&#12489;&#12506;&#12540;&#12472;&#12363;&#12425;&#29305;&#23450;&#12398;&#25991;&#23383;&#21015;&#12434;&#22793;&#25563;&#12377;&#12427;&#12398;&#12395;&#12289;
&#25968;&#22810;&#12367;&#12398;&#21628;&#12403;&#20986;&#12375;&#12364;&#20351;&#12431;&#12428;&#12390;&#12356;&#12383;&#12290;&#21839;&#38988;&#12399;&#12289;&#29305;&#23450;&#12398;char*&#12364;dos&#12398;&#12467;&#12540;&#12489;&#12506;&#12540;&#12472;&#12363;UNIX&#12398;
&#12467;&#12540;&#12489;&#12506;&#12540;&#12472;&#12363;&#12434;&#30906;&#35469;&#12377;&#12427;&#12377;&#12409;&#12364;&#12394;&#12356;&#12392;&#12356;&#12358;&#12371;&#12392;&#12391;&#12354;&#12427;&#12290;&#12371;&#12428;&#12399;&#12289;&#19968;&#33324;&#30340;&#12394;&#22580;&#21512;&#12391;&#12398;&#21462;&#12426;&#25201;&#12356;&#12364;
&#12394;&#12356;&#12289;&#29305;&#23450;&#12398;&#22580;&#21512;&#12395;&#23550;&#24540;&#12377;&#12427;&#20107;&#12434;&#35430;&#12415;&#12427;&#24746;&#22818;&#12398;&#12424;&#12358;&#12394;&#12467;&#12540;&#12489;&#12395;&#12394;&#12387;&#12390;&#12375;&#12414;&#12358;&#12290;
</p></div><div class="sect1" title="&#26032;&#12375;&#12356;&#27231;&#33021;"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id2563920"></a>&#26032;&#12375;&#12356;&#27231;&#33021;</h2></div></div></div><p>
&#26032;&#12375;&#12356;&#12471;&#12473;&#12486;&#12512;&#12399;&#20197;&#19979;&#12398;&#12424;&#12358;&#12395;&#21205;&#20316;&#12377;&#12427;:
</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
    Samba&#20869;&#37096;&#12395;&#12362;&#12369;&#12427;&#12377;&#12409;&#12390;&#12398;char*&#25991;&#23383;&#21015;&#12399;"unix"&#25991;&#23383;&#21015;&#12391;&#12354;&#12427;&#12290;smb.conf&#20013;&#12398;
    "unix charset"&#12458;&#12503;&#12471;&#12519;&#12531;&#12395;&#12424;&#12387;&#12390;&#23450;&#32681;&#12373;&#12428;&#12427;&#25991;&#23383;&#12475;&#12483;&#12488;&#20013;&#12395;&#12399;&#12510;&#12523;&#12481;&#12496;&#12452;&#12488;
    &#25991;&#23383;&#21015;&#12364;&#23384;&#22312;&#12377;&#12427;&#12290;
</p></li><li class="listitem"><p>
    unix&#25991;&#23383;&#21015;&#29992;&#12398;1&#12496;&#12452;&#12488;&#22266;&#23450;&#25991;&#23383;&#12475;&#12483;&#12488;&#12399;&#23384;&#22312;&#12375;&#12394;&#12356;&#12364;&#12289;&#20351;&#12431;&#12428;&#12390;&#12356;&#12427;&#20219;&#24847;&#12398;&#25991;&#23383;&#12475;&#12483;&#12488;&#12399;
    &#20197;&#19979;&#12398;&#24615;&#36074;&#12434;&#24517;&#35201;&#12392;&#12375;&#12390;&#12356;&#12427;:
	</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p>
	    &#34892;&#32066;&#31471;&#12434;&#38500;&#12356;&#12390;&#12289;NULL&#25991;&#23383;&#12364;&#21547;&#12414;&#12428;&#12390;&#12399;&#12394;&#12425;&#12394;&#12356;
	</p></li><li class="listitem"><p>
	    C&#12398;&#25991;&#23383;&#21015;&#12392;&#20114;&#25563;&#12364;&#12354;&#12427;7&#12499;&#12483;&#12488;&#25991;&#23383;&#12391;&#12394;&#12369;&#12428;&#12400;&#12394;&#12425;&#12378;&#12289;&#12381;&#12398;&#12383;&#12417;&#12289;C&#29992;&#12398;
	    &#23450;&#25968;&#25991;&#23383;&#21015;&#12363;&#25991;&#23383;&#12399;&#12289;&#36984;&#25246;&#12373;&#12428;&#12383;&#25991;&#23383;&#12475;&#12483;&#12488;&#20013;&#12391;&#21516;&#31561;&#12398;&#25991;&#23383;&#21015;&#12392;&#12496;&#12452;&#12488;&#21336;&#20301;&#12391;
	    &#20840;&#12367;&#21516;&#12376;&#12391;&#12354;&#12427;&#12290;
	</p></li><li class="listitem"><p>
	    &#25991;&#23383;&#21015;&#12434;&#22823;&#25991;&#23383;&#21270;&#12354;&#12427;&#12356;&#12399;&#23567;&#25991;&#23383;&#21270;&#12375;&#12383;&#22580;&#21512;&#12289;&#12418;&#12399;&#12420;&#12458;&#12522;&#12472;&#12490;&#12523;&#12398;&#25991;&#23383;&#21015;&#12392;
	    &#21516;&#12376;&#12391;&#12399;&#12394;&#12367;&#12394;&#12427;&#12290;
	</p></li><li class="listitem"><p>
	    &#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#12363;&#12425;&#36865;&#20449;&#12373;&#12428;&#12390;&#12365;&#12383;&#12377;&#12409;&#12390;&#12398;&#25991;&#23383;&#12434;&#25201;&#12360;&#12397;&#12400;&#12394;&#12425;&#12394;&#12356;&#12290;
	</p></li></ol></div><p>
	  &#20363;&#12360;&#12400;&#12289;UTF-8&#12399;&#33391;&#12367;&#12391;&#12365;&#12390;&#12356;&#12390;&#12289;&#12411;&#12392;&#12435;&#12393;&#12398;&#12510;&#12523;&#12481;&#12496;&#12452;&#12488;&#12398;&#12450;&#12472;&#12450;&#12398;&#25991;&#23383;&#12475;&#12483;&#12488;&#12395;
	  &#23550;&#24540;&#12377;&#12427;&#12364;&#12289;UCS2&#12399;&#12289;&#20869;&#37096;&#12395;NULL&#12364;&#21547;&#12414;&#12428;&#12390;&#12356;&#12427;&#12383;&#12417;&#12289;UNIX&#25991;&#23383;&#21015;&#12392;&#12375;&#12390;&#12399;&#20351;&#12358;&#12371;&#12392;&#12364;
	  &#12391;&#12365;&#12394;&#12356;&#12290;
	</p></li><li class="listitem"><p>
    &#12493;&#12483;&#12488;&#12527;&#12540;&#12463;&#19978;&#12395;&#36865;&#20449;&#12375;&#12424;&#12358;&#12392;&#12377;&#12427;&#12383;&#12417;&#12398;&#12496;&#12483;&#12501;&#12449;&#20013;&#12395;&#25991;&#23383;&#21015;&#12434;&#26360;&#12365;&#36796;&#12416;&#24517;&#35201;&#12364;&#12354;&#12427;&#22580;&#21512;&#12289;
    &#12354;&#12427;&#12356;&#12399;&#12289;&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#12398;&#25991;&#23383;&#12475;&#12483;&#12488;&#12392;&#20114;&#25563;&#12398;&#12354;&#12427;&#25991;&#23383;&#12475;&#12483;&#12488;&#24418;&#24335;&#12391;&#12398;&#25991;&#23383;&#21015;&#12434;&#24517;&#35201;&#12392;&#12377;&#12427;
    &#22580;&#21512;&#12289;pull_&#12414;&#12383;&#12399;push_&#38306;&#25968;&#12434;&#20351;&#12358;&#24517;&#35201;&#12364;&#12354;&#12427;&#12290;pull_&#38306;&#25968;&#12399;&#36865;&#20449;&#12496;&#12483;&#12501;&#12449;&#12363;&#12425;(&#12510;&#12523;&#12481;&#12496;&#12452;&#12488;)
    UNIX&#25991;&#23383;&#21015;&#20013;&#12395;&#22793;&#25563;&#12377;&#12427;&#12290;push_&#38306;&#25968;&#12399;&#25991;&#23383;&#21015;&#12434;&#26360;&#12365;&#36796;&#12415;&#12496;&#12483;&#12501;&#12449;&#12395;&#26360;&#12367;&#12290;
</p></li><li class="listitem"><p>
    &#29702;&#35299;&#12377;&#12427;&#24517;&#35201;&#12364;&#12354;&#12427;2&#12388;&#12398;&#20027;&#35201;&#12394;pull_&#12392;push_&#38306;&#25968;&#12399;&#12289;pull_string&#12392;push_string&#12391;&#12354;&#12427;&#12290;
    &#12371;&#12428;&#12425;&#12398;&#38306;&#25968;&#12399;&#25991;&#23383;&#21015;&#12364;&#20837;&#12387;&#12390;&#12356;&#12427;SMB&#12497;&#12465;&#12483;&#12488;&#12398;&#38283;&#22987;&#20301;&#32622;&#12434;&#12509;&#12452;&#12531;&#12488;&#12377;&#12409;&#12365;&#12391;&#12354;&#12427;&#12289;
    &#12505;&#12540;&#12473;&#12509;&#12452;&#12531;&#12479;&#12434;&#21462;&#12427;&#12290;&#38306;&#25968;&#12399;&#12289;&#12497;&#12465;&#12483;&#12488;&#12364;&#12518;&#12491;&#12467;&#12540;&#12489;&#12497;&#12465;&#12483;&#12488;&#12392;&#12375;&#12390;&#12510;&#12540;&#12463;
    &#12373;&#12428;&#12390;&#12356;&#12427;&#12363;&#12434;&#33258;&#21205;&#30340;&#12395;&#27770;&#23450;&#12377;&#12427;&#12383;&#12417;&#12289;&#12497;&#12465;&#12483;&#12488;&#20013;&#12398;&#12501;&#12521;&#12464;&#12501;&#12451;&#12540;&#12523;&#12489;&#12434;&#12481;&#12455;&#12483;&#12463;&#12375;&#12289;
    &#12371;&#12398;&#12501;&#12521;&#12464;&#12395;&#22522;&#12389;&#12356;&#12390;&#12289;&#25991;&#23383;&#21015;&#12395;&#23550;&#12375;&#12390;&#12518;&#12491;&#12467;&#12540;&#12489;&#12434;&#20351;&#12358;&#12363;&#12393;&#12358;&#12363;&#12434;&#27770;&#12417;&#12427;&#12290;&#12414;&#12383;&#12289;
    STR_UNICODE&#12363;STR_ASCII&#12434;&#20351;&#12358;&#12371;&#12392;&#12395;&#12424;&#12387;&#12390;&#12289;&#12371;&#12398;&#27770;&#23450;&#12434;&#24375;&#21046;&#30340;&#12395;&#34892;&#12431;&#12379;&#12390;&#12418;&#12424;&#12356;&#12290;
    smbd/&#12392;libsmb/&#20013;&#12391;&#12398;&#20351;&#29992;&#12398;&#12383;&#12417;&#12395;&#12289;&#36969;&#20999;&#12394;&#26368;&#21021;&#12398;&#24341;&#25968;&#12434;&#20184;&#12369;&#12390;pull_/push_&#38306;&#25968;&#12434;
    &#21628;&#12403;&#20986;&#12377;clistr_&#12392;srvstr_&#12521;&#12483;&#12497;&#12540;&#38306;&#25968;&#12364;&#12354;&#12427;&#12290;
	</p><p>
	  &#12414;&#12383;&#12289;&#29305;&#23450;&#12398;&#25991;&#23383;&#21015;&#12364;ASCII&#12363;&#12518;&#12491;&#12467;&#12540;&#12489;&#12363;&#20998;&#12363;&#12387;&#12390;&#12356;&#12427;&#22580;&#21512;&#12289;pull_ascii/
	  pull_ucs2&#12363;push_ascii/push_ucs2&#38306;&#25968;&#12434;&#21628;&#12403;&#20986;&#12375;&#12390;&#12418;&#33391;&#12356;&#12290;&#12383;&#12392;&#12360;&#12400;
	  pull_ascii_pstring()&#12398;&#12424;&#12358;&#12394;&#12289;&#29305;&#23450;&#12398;&#20849;&#36890;&#12398;&#24341;&#25968;&#12434;&#25345;&#12388;push_/pull_&#38306;&#25968;&#12434;
	  &#21628;&#12403;&#20986;&#12377;charcnv.c&#20013;&#12395;&#12289;&#25968;&#22810;&#12367;&#12398;&#20182;&#12398;&#20415;&#21033;&#12394;&#38306;&#25968;&#12418;&#12354;&#12427;&#12290;
	</p></li><li class="listitem"><p>
    &#35226;&#12360;&#12390;&#12362;&#12363;&#12394;&#12369;&#12428;&#12400;&#12394;&#12425;&#12394;&#12356;&#26368;&#12418;&#22823;&#12365;&#12394;&#21839;&#38988;&#12399;&#12289;Samba&#20013;&#12398;&#20869;&#37096;(UNIX)&#25991;&#23383;&#21015;&#12399;&#12289;
    &#12510;&#12523;&#12481;&#12496;&#12452;&#12488;&#25991;&#23383;&#12434;&#21547;&#12416;&#12363;&#12418;&#12375;&#12428;&#12394;&#12356;&#12392;&#12356;&#12358;&#12371;&#12392;&#12391;&#12354;&#12427;&#12290;&#12371;&#12428;&#12399;&#12289;&#25991;&#23383;&#12364;&#24120;&#26178;1&#12496;&#12452;&#12488;
    &#12391;&#12354;&#12427;&#12371;&#12392;&#12434;&#20206;&#23450;&#12391;&#12365;&#12394;&#12356;&#12392;&#35328;&#12358;&#12371;&#12392;&#12434;&#24847;&#21619;&#12377;&#12427;&#12290;&#12375;&#12400;&#12375;&#12400;&#12371;&#12428;&#12399;&#25991;&#23383;&#21015;&#12434;ucs2&#12395;
    &#22793;&#25563;&#12375;&#12394;&#12369;&#12428;&#12400;&#12394;&#12425;&#12394;&#12356;&#12392;&#12356;&#12358;&#12371;&#12392;&#12391;&#12354;&#12426;&#12289;&#12356;&#12367;&#12388;&#12363;&#12398;(&#34920;&#38754;&#19978;)&#21336;&#32020;&#12394;&#20316;&#26989;&#12434;&#34892;&#12358;&#12383;&#12417;&#12395;&#12289;
    &#20877;&#24230;&#36870;&#22793;&#25563;&#12377;&#12427;&#24517;&#35201;&#12364;&#12354;&#12427;&#12392;&#12356;&#12358;&#12371;&#12392;&#12391;&#12354;&#12427;&#12290;&#12393;&#12398;&#12424;&#12358;&#12395;&#12371;&#12428;&#12434;&#34892;&#12358;&#12363;&#12398;&#20363;&#12399;&#12289;
    strchr_m()&#38306;&#25968;&#12434;&#35211;&#12427;&#12371;&#12392;&#12290;&#12371;&#12428;&#12399;&#12392;&#12390;&#12418;&#36933;&#12356;&#12371;&#12392;&#12364;&#20998;&#12363;&#12387;&#12390;&#12356;&#12390;&#12289;&#32080;&#23616;&#12289;&#12371;&#12428;&#12434;
    &#39640;&#36895;&#21270;&#12375;&#12383;&#12364;&#12289;&#29694;&#22312;&#12289;&#12473;&#12500;&#12540;&#12489;&#12424;&#12426;&#12418;&#27491;&#30906;&#12373;&#12434;&#27714;&#12417;&#12390;&#12356;&#12427;&#12290;
</p></li><li class="listitem"><p>
    &#12377;&#12409;&#12390;&#12398;lp_&#38306;&#25968;&#12399;&#29694;&#22312;UNIX&#25991;&#23383;&#21015;&#12434;&#36820;&#12377;&#12290;&#12497;&#12521;&#12513;&#12540;&#12479;&#19978;&#12398;&#29305;&#21029;&#12394;"DOS"&#12501;&#12521;&#12464;&#12399;&#12394;&#12367;&#12394;&#12387;&#12383;&#12290;
</p></li><li class="listitem"><p>
    &#12377;&#12409;&#12390;&#12398;vfs&#38306;&#25968;&#12399;UNIX&#25991;&#23383;&#21015;&#12434;&#21462;&#12427;&#12290;&#12381;&#12428;&#12395;&#28193;&#12377;&#12392;&#12365;&#12395;&#22793;&#25563;&#12375;&#12390;&#12399;&#12394;&#12425;&#12394;&#12356;&#12290;
</p></li></ol></div></div><div class="sect1" title="byteorder.h&#20013;&#12398;&#12510;&#12463;&#12525;"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id2564128"></a>byteorder.h&#20013;&#12398;&#12510;&#12463;&#12525;</h2></div></div></div><p>
&#12371;&#12398;&#31680;&#12391;&#12399;&#12289;byteorder.h&#20869;&#12391;&#23450;&#32681;&#12373;&#12428;&#12390;&#12356;&#12427;&#12510;&#12463;&#12525;&#12395;&#12388;&#12356;&#12390;&#35500;&#26126;&#12377;&#12427;&#12290;&#12381;&#12428;&#12425;&#12398;&#12510;&#12463;&#12525;&#12399;
Samba&#12398;&#12467;&#12540;&#12489;&#20869;&#12391;&#24195;&#31684;&#22258;&#12395;&#20351;&#12431;&#12428;&#12390;&#12356;&#12427;&#12290;
</p><div class="sect2" title="CVAL(buf,pos)"><div class="titlepage"><div><div><h3 class="title"><a name="id2564143"></a>CVAL(buf,pos)</h3></div></div></div><p>
&#31526;&#21495;&#12394;&#12375;&#25991;&#23383;&#12392;&#12375;&#12390;&#12496;&#12483;&#12501;&#12449;buf&#20869;&#12398;&#12458;&#12501;&#12475;&#12483;&#12488;&#20301;&#32622;&#12434;&#12496;&#12452;&#12488;&#21336;&#20301;&#12391;&#36820;&#12377;&#12290;
</p></div><div class="sect2" title="PVAL(buf,pos)"><div class="titlepage"><div><div><h3 class="title"><a name="id2564156"></a>PVAL(buf,pos)</h3></div></div></div><p>&#31526;&#21495;&#12394;&#12375;&#25991;&#23383;&#12479;&#12452;&#12503;&#12392;&#12375;&#12390;&#12461;&#12515;&#12473;&#12488;&#12375;&#12383;CVAL(buf,pos)&#12398;&#20516;&#12434;&#36820;&#12377;&#12290;</p></div><div class="sect2" title="SCVAL(buf,pos,val)"><div class="titlepage"><div><div><h3 class="title"><a name="id2564167"></a>SCVAL(buf,pos,val)</h3></div></div></div><p>val&#12392;&#12356;&#12358;&#20516;&#12391;&#12496;&#12483;&#12501;&#12449;buf&#20869;&#12398;&#12496;&#12452;&#12488;&#20301;&#32622;&#12434;&#35373;&#23450;&#12377;&#12427;&#12290;</p></div><div class="sect2" title="SVAL(buf,pos)"><div class="titlepage"><div><div><h3 class="title"><a name="id2564180"></a>SVAL(buf,pos)</h3></div></div></div><p>
  &#12496;&#12483;&#12501;&#12449;buf&#20869;&#12398;&#12289;&#31526;&#21495;&#12394;&#12375;short(16&#12499;&#12483;&#12488;)&#12522;&#12488;&#12523;&#12456;&#12531;&#12487;&#12451;&#12450;&#12531;&#25972;&#25968;&#20516;&#12395;&#12424;&#12427;&#12458;&#12501;&#12475;&#12483;&#12488;&#20301;&#32622;&#12398;
  &#20516;&#12434;&#36820;&#12377;&#12290;&#12371;&#12398;&#12479;&#12452;&#12503;&#12398;&#25972;&#25968;&#12399;&#26178;&#12293;USHORT&#12392;&#12375;&#12390;&#21442;&#29031;&#12373;&#12428;&#12427;&#12290;
</p></div><div class="sect2" title="IVAL(buf,pos)"><div class="titlepage"><div><div><h3 class="title"><a name="id2564196"></a>IVAL(buf,pos)</h3></div></div></div><p>&#12496;&#12483;&#12501;&#12449;buf&#20869;&#12398;&#31526;&#21495;&#12394;&#12375;32&#12499;&#12483;&#12488;&#12522;&#12488;&#12523;&#12456;&#12531;&#12487;&#12451;&#12450;&#12531;&#25972;&#25968;&#12395;&#12424;&#12427;&#12458;&#12501;&#12475;&#12483;&#12488;&#20301;&#32622;&#12434;
&#36820;&#12377;&#12290;</p></div><div class="sect2" title="SVALS(buf,pos)"><div class="titlepage"><div><div><h3 class="title"><a name="id2564208"></a>SVALS(buf,pos)</h3></div></div></div><p>&#12496;&#12483;&#12501;&#12449;buf&#20869;&#12398;&#31526;&#21495;&#20184;&#12365;short(16&#12499;&#12483;&#12488;)&#12522;&#12488;&#12523;&#12456;&#12531;&#12487;&#12451;&#12450;&#12531;&#25972;&#25968;&#20516;&#12395;&#12424;&#12427;&#12458;&#12501;&#12475;&#12483;&#12488;
&#20301;&#32622;&#12398;&#20516;&#12434;&#36820;&#12377;&#12290;</p></div><div class="sect2" title="IVALS(buf,pos)"><div class="titlepage"><div><div><h3 class="title"><a name="id2564220"></a>IVALS(buf,pos)</h3></div></div></div><p>&#12496;&#12483;&#12501;&#12449;buf&#20869;&#12391;&#12398;&#31526;&#21495;&#20184;&#12365;32&#12499;&#12483;&#12488;&#12522;&#12488;&#12523;&#12456;&#12531;&#12487;&#12451;&#12450;&#12531;&#25972;&#25968;&#12395;&#12424;&#12427;&#12458;&#12501;&#12475;&#12483;&#12488;&#20301;&#32622;&#12398;
&#20516;&#12434;&#36820;&#12377;&#12290;</p></div><div class="sect2" title="SSVAL(buf,pos,val)"><div class="titlepage"><div><div><h3 class="title"><a name="id2564232"></a>SSVAL(buf,pos,val)</h3></div></div></div><p>&#12496;&#12483;&#12501;&#12449;buf&#12408;&#12398;&#31526;&#21495;&#12394;&#12375;short(16&#12499;&#12483;&#12488;)&#12522;&#12488;&#12523;&#12456;&#12531;&#12487;&#12451;&#12450;&#12531;&#25972;&#25968;&#12395;&#12424;&#12427;&#12458;&#12501;&#12475;&#12483;&#12488;&#20301;&#32622;&#12434;
val&#12392;&#12356;&#12358;&#20516;&#12391;&#35373;&#23450;&#12377;&#12427;&#12290;</p></div><div class="sect2" title="SIVAL(buf,pos,val)"><div class="titlepage"><div><div><h3 class="title"><a name="id2564244"></a>SIVAL(buf,pos,val)</h3></div></div></div><p>&#12496;&#12483;&#12501;&#12449;buf&#12408;&#12398;&#31526;&#21495;&#12394;&#12375;32&#12499;&#12483;&#12488;&#12522;&#12488;&#12523;&#12456;&#12531;&#12487;&#12451;&#12450;&#12531;&#25972;&#25968;&#12395;&#12424;&#12427;&#12458;&#12501;&#12475;&#12483;&#12488;&#20301;&#32622;&#12434;
val&#12392;&#12356;&#12358;&#20516;&#12391;&#35373;&#23450;&#12377;&#12427;&#12290;</p></div><div class="sect2" title="SSVALS(buf,pos,val)"><div class="titlepage"><div><div><h3 class="title"><a name="id2564256"></a>SSVALS(buf,pos,val)</h3></div></div></div><p>&#12496;&#12483;&#12501;&#12449;buf&#12408;&#12398;short(16&#12499;&#12483;&#12488;)&#31526;&#21495;&#20184;&#12365;&#12522;&#12488;&#12523;&#12456;&#12531;&#12487;&#12451;&#12450;&#12531;&#25972;&#25968;&#12395;&#12424;&#12427;&#12458;&#12501;&#12475;&#12483;&#12488;&#20301;&#32622;&#12434;
val&#12392;&#12356;&#12358;&#20516;&#12391;&#35373;&#23450;&#12377;&#12427;&#12290;</p></div><div class="sect2" title="SIVALS(buf,pos,val)"><div class="titlepage"><div><div><h3 class="title"><a name="id2564269"></a>SIVALS(buf,pos,val)</h3></div></div></div><p>&#12496;&#12483;&#12501;&#12449;buf&#12408;&#12398;&#31526;&#21495;&#20184;&#12365;32&#12499;&#12483;&#12488;&#12522;&#12488;&#12523;&#12456;&#12531;&#12487;&#12451;&#12450;&#12531;&#25972;&#25968;&#12395;&#12424;&#12427;&#12458;&#12501;&#12475;&#12483;&#12488;&#20301;&#32622;&#12434;
val&#12392;&#12356;&#12358;&#20516;&#12391;&#35373;&#23450;&#12377;&#12427;&#12290;</p></div><div class="sect2" title="RSVAL(buf,pos)"><div class="titlepage"><div><div><h3 class="title"><a name="id2564281"></a>RSVAL(buf,pos)</h3></div></div></div><p>&#12496;&#12483;&#12501;&#12449;buf&#20869;&#12391;&#12398;&#12289;&#31526;&#21495;&#12394;&#12375;short(16bit)&#12499;&#12483;&#12464;&#12456;&#12531;&#12487;&#12451;&#12450;&#12531;&#25972;&#25968;&#12395;&#12424;&#12427;&#12458;&#12501;&#12475;&#12483;&#12488;&#20301;&#32622;&#12434;
&#36820;&#12377;&#12290;</p></div><div class="sect2" title="RIVAL(buf,pos)"><div class="titlepage"><div><div><h3 class="title"><a name="id2564293"></a>RIVAL(buf,pos)</h3></div></div></div><p>&#12496;&#12483;&#12501;&#12449;buf&#20869;&#12398;&#12289;&#31526;&#21495;&#12394;&#12375;32&#12499;&#12483;&#12488;&#12499;&#12483;&#12464;&#12456;&#12531;&#12487;&#12451;&#12450;&#12531;&#25972;&#25968;&#12395;&#12424;&#12427;&#12458;&#12501;&#12475;&#12483;&#12488;&#20301;&#32622;&#12434;
&#36820;&#12377;&#12290;</p></div><div class="sect2" title="RSSVAL(buf,pos,val)"><div class="titlepage"><div><div><h3 class="title"><a name="id2564304"></a>RSSVAL(buf,pos,val)</h3></div></div></div><p>
&#12496;&#12483;&#12501;&#12449;buf&#20869;&#12391;&#12289;&#31526;&#21495;&#12394;&#12375;short(16&#12499;&#12483;&#12488;)&#12499;&#12483;&#12464;&#12456;&#12531;&#12487;&#12451;&#12450;&#12531;&#25972;&#25968;&#20516;&#12398;&#12458;&#12501;&#12475;&#12483;&#12488;&#20301;&#32622;&#12434;&#12289;
val&#12392;&#12356;&#12358;&#20516;&#12395;&#35373;&#23450;&#12377;&#12427;&#12290;&#12371;&#12428;&#12399;"USHORT"&#12392;&#12375;&#12390;&#21442;&#29031;&#12373;&#12428;&#12427;&#12290;</p></div><div class="sect2" title="RSIVAL(buf,pos,val)"><div class="titlepage"><div><div><h3 class="title"><a name="id2564321"></a>RSIVAL(buf,pos,val)</h3></div></div></div><p>&#12496;&#12483;&#12501;&#12449;buf&#20869;&#12391;&#12289;&#31526;&#21495;&#12394;&#12375;32&#12499;&#12483;&#12488;&#12499;&#12483;&#12464;&#12456;&#12531;&#12487;&#12451;&#12450;&#12531;&#25972;&#25968;&#20516;&#12398;&#12458;&#12501;&#35373;&#23450;&#20516;&#12434;&#12289;
val&#12392;&#12356;&#12358;&#20516;&#12395;&#35373;&#23450;&#12377;&#12427;&#12290;</p></div></div><div class="sect1" title="LAN Manager&#29992;Samba API"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id2564334"></a>LAN Manager&#29992;Samba API</h2></div></div></div><p>
&#12371;&#12398;&#31680;&#12391;&#12399;&#12289;LAN&#12510;&#12493;&#12540;&#12472;&#12515;RPC&#12467;&#12540;&#12523;&#12434;&#34892;&#12431;&#12379;&#12427;&#12398;&#12395;&#24517;&#35201;&#12394;&#38306;&#25968;&#12395;&#12388;&#12356;&#12390;&#35500;&#26126;&#12377;&#12427;&#12290;
&#12371;&#12398;&#24773;&#22577;&#12399;Samba&#12467;&#12540;&#12489;&#12398;&#35519;&#26619;&#12392;LAN&#12510;&#12493;&#12540;&#12472;&#12515; 2.0API&#12398;&#12489;&#12461;&#12517;&#12513;&#12531;&#12488;&#12395;&#20381;&#23384;&#12375;&#12390;&#12356;&#12427;&#12290;
&#12371;&#12428;&#12399;&#23436;&#20840;&#12395;&#20449;&#38972;&#12391;&#12365;&#12427;&#12418;&#12398;&#12391;&#12399;&#12394;&#12356;&#12290;

</p><p>
</p><pre class="programlisting">
call_api(int prcnt, int drcnt, int mprcnt, int mdrcnt, 
	char *param, char *data, char **rparam, char **rdata);
</pre><p>
</p><p>
&#12371;&#12398;&#38306;&#25968;&#12399;client.c&#20869;&#12391;&#23450;&#32681;&#12373;&#12428;&#12390;&#12356;&#12427;&#12290;&#12522;&#12514;&#12540;&#12488;API&#12434;&#21628;&#12403;&#20986;&#12377;&#12383;&#12417;&#12395;SMB&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12391;
&#20351;&#12431;&#12428;&#12427;&#12290;
</p><div class="sect2" title="&#12497;&#12521;&#12513;&#12540;&#12479;"><div class="titlepage"><div><div><h3 class="title"><a name="id2564371"></a>&#12497;&#12521;&#12513;&#12540;&#12479;</h3></div></div></div><p>&#12497;&#12521;&#12513;&#12540;&#12479;&#12399;&#20197;&#19979;&#12398;&#36890;&#12426;:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
	prcnt: the number of bytes of parameters begin sent.
</p></li><li class="listitem"><p>
	drcnt:   the number of bytes of data begin sent.
</p></li><li class="listitem"><p>
	mprcnt:  the maximum number of bytes of parameters which should be returned
</p></li><li class="listitem"><p>
	mdrcnt:  the maximum number of bytes of data which should be returned
</p></li><li class="listitem"><p>
	param:   a pointer to the parameters to be sent.
</p></li><li class="listitem"><p>
	data:    a pointer to the data to be sent.
</p></li><li class="listitem"><p>
	rparam:  a pointer to a pointer which will be set to point to the returned
	parameters.  The caller of call_api() must deallocate this memory.
</p></li><li class="listitem"><p>
	rdata:   a pointer to a pointer which will be set to point to the returned 
	data.  The caller of call_api() must deallocate this memory.
</p></li></ol></div><p>
&#12497;&#12521;&#12513;&#12540;&#12479;&#12502;&#12525;&#12483;&#12463;&#20013;&#12391;&#12289;&#29694;&#12428;&#12427;&#38918;&#30058;&#12391;&#36865;&#12425;&#12394;&#12369;&#12428;&#12400;&#12394;&#12425;&#12394;&#12356;&#12497;&#12521;&#12513;&#12540;&#12479;&#12364;&#12354;&#12427;:
</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
&#31526;&#21495;&#12394;&#12375;16&#12499;&#12483;&#12488;&#25972;&#25968;&#20516;&#12290;SSVAL()&#12434;&#20351;&#12387;&#12390;&#12371;&#12398;&#20516;&#12434;&#35373;&#23450;&#12377;&#12409;&#12365;&#12391;&#12354;&#12427;&#12290;&#12371;&#12398;&#25968;&#20516;&#12364;
&#12393;&#12371;&#12391;&#35500;&#26126;&#12373;&#12428;&#12390;&#12356;&#12427;&#12363;&#12399;&#20998;&#12363;&#12425;&#12394;&#12356;&#12290;
</p></li><li class="listitem"><p>
LAN&#12510;&#12493;&#12540;&#12472;&#12515;&#12398;&#12489;&#12461;&#12517;&#12513;&#12531;&#12488;&#20013;&#12391;&#23450;&#32681;&#12373;&#12428;&#12390;&#12427;&#12424;&#12358;&#12394;API&#38306;&#25968;&#12398;&#12383;&#12417;&#12398;&#12497;&#12521;&#12513;&#12540;&#12479;&#12434;
&#35500;&#26126;&#12377;&#12427;ASCIIZ&#25991;&#23383;&#21015;&#12290;&#26368;&#21021;&#12398;&#12497;&#12521;&#12513;&#12540;&#12479;&#12399;&#12469;&#12540;&#12496;&#21517;&#12391;&#12289;&#30465;&#30053;&#12373;&#12428;&#12390;&#12356;&#12427;&#12290;&#12371;&#12398;&#25991;&#23383;&#21015;&#12399;
&#12510;&#12491;&#12517;&#12450;&#12523;&#20013;&#12391;&#35500;&#26126;&#12373;&#12428;&#12390;&#12356;&#12427;&#12424;&#12358;&#12394;API&#38306;&#25968;&#12395;&#22522;&#12389;&#12356;&#12390;&#12356;&#12390;&#12289;&#23455;&#38555;&#12395;&#28193;&#12373;&#12428;&#12427;&#12487;&#12540;&#12479;&#12391;&#12399;&#12394;&#12356;&#12290;
</p></li><li class="listitem"><p>
&#25147;&#12373;&#12428;&#12427;&#12409;&#12365;&#12487;&#12540;&#12479;&#27083;&#36896;&#12434;&#35500;&#26126;&#12377;&#12427;ASCIIZ&#25991;&#23383;&#21015;&#12290;
</p></li><li class="listitem"><p>
&#38306;&#25968;&#21628;&#12403;&#20986;&#12375;&#20013;&#12391;&#29694;&#12428;&#12427;&#20219;&#24847;&#12398;&#12497;&#12521;&#12513;&#12540;&#12479;&#12391;&#12289;LAN&#12510;&#12493;&#12540;&#12472;&#12515;API&#12489;&#12461;&#12517;&#12513;&#12531;&#12488;&#20013;&#12398;&#12289;
"Server"&#12398;&#24460;&#12289;"uLevel"&#12497;&#12521;&#12513;&#12540;&#12479;&#12414;&#12391;&#12434;&#21547;&#12416;&#12424;&#12358;&#12395;&#23450;&#32681;&#12373;&#12428;&#12390;&#12356;&#12427;&#12290;
Any parameters which appear in the function call, as defined in the LAN
Manager API documentation, after the "Server" and up to and including the
"uLevel" parameters.
</p></li><li class="listitem"><p>
&#31526;&#21495;&#12394;&#12375;16&#12499;&#12483;&#12488;&#25972;&#25968;&#20516;&#12391;&#12289;&#25147;&#12373;&#12428;&#12427;&#12487;&#12540;&#12479;&#27083;&#36896;&#20307;&#37197;&#21015;&#12434;&#21463;&#12369;&#21462;&#12427;&#12383;&#12417;&#12395;&#20351;&#12431;&#12428;&#12427;
&#12496;&#12483;&#12501;&#12449;&#12398;&#22823;&#12365;&#12373;&#12434;&#12496;&#12452;&#12488;&#21336;&#20301;&#12391;&#19982;&#12360;&#12427;&#12290;&#12371;&#12428;&#12399;&#12362;&#12381;&#12425;&#12367;mdrcnt&#12392;&#21516;&#12376;&#12391;&#12354;&#12427;&#12409;&#12365;&#12391;&#12354;&#12427;&#12290;
&#12371;&#12398;&#20516;&#12399;SSVAL()&#12434;&#20351;&#12387;&#12390;&#35373;&#23450;&#12373;&#12428;&#12427;&#12409;&#12365;&#12391;&#12354;&#12427;&#12290;
</p></li><li class="listitem"><p>
&#25147;&#12373;&#12428;&#12427;&#12409;&#12365;&#21103;&#27083;&#36896;&#20307;&#12434;&#35500;&#26126;&#12377;&#12427;ASCIIZ&#25991;&#23383;&#21015;&#12290;&#12418;&#12375;&#12418;&#21103;&#27083;&#36896;&#20307;&#12364;&#36969;&#29992;&#12373;&#12428;&#12394;&#12369;&#12428;&#12400;&#12289;
&#12371;&#12398;&#25991;&#23383;&#21015;&#12398;&#38263;&#12373;&#12399;0&#12391;&#12354;&#12427;&#12290;
</p></li></ol></div><p>
client.c&#20013;&#12398;&#12467;&#12540;&#12489;&#12399;&#24120;&#26178;&#12487;&#12540;&#12479;&#12394;&#12375;&#12391;call_api()&#12434;&#21628;&#12403;&#20986;&#12377;&#12290;0&#20197;&#22806;&#12398;&#38263;&#12373;&#12434;&#25345;&#12388;&#12487;&#12540;&#12479;
&#12496;&#12483;&#12501;&#12449;&#12364;&#12356;&#12388;&#36865;&#12425;&#12428;&#12427;&#12363;&#12399;&#19981;&#26126;&#12391;&#12354;&#12427;&#12290;
</p></div><div class="sect2" title="&#25147;&#12426;&#20516;"><div class="titlepage"><div><div><h3 class="title"><a name="id2564528"></a>&#25147;&#12426;&#20516;</h3></div></div></div><p>
&#25147;&#12373;&#12428;&#12427;&#12497;&#12521;&#12513;&#12540;&#12479;(rparam&#12395;&#12424;&#12387;&#12390;&#25351;&#31034;&#12373;&#12428;&#12427;)&#12398;&#12289;&#29694;&#12428;&#12427;&#38918;&#30058;&#12399;&#20197;&#19979;&#12398;&#36890;&#12426;:
</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
&#31526;&#21495;&#12394;&#12375;16&#12499;&#12483;&#12488;&#25972;&#25968;&#20516;&#12391;&#12289;API&#38306;&#25968;&#12398;&#25147;&#12426;&#12467;&#12540;&#12489;&#12434;&#21547;&#12435;&#12391;&#12356;&#12427;&#12290;&#12371;&#12398;&#20516;&#12399;SVAL()
&#12434;&#20351;&#12387;&#12390;&#35501;&#12414;&#12428;&#12427;&#12409;&#12365;&#12391;&#12354;&#12427;&#12290;
</p></li><li class="listitem"><p>
&#25147;&#12373;&#12428;&#12383;&#12487;&#12540;&#12479;&#20013;&#12398;&#12509;&#12452;&#12531;&#12479;&#12395;&#12424;&#12427;&#12289;&#35519;&#25972;&#12377;&#12409;&#12365;&#35519;&#25972;&#37327;&#12290;&#12371;&#12398;&#20516;&#12399;SVAL()&#12434;&#20351;&#12387;&#12390;&#35501;&#12414;&#12428;&#12427;
&#12409;&#12365;&#12391;&#12354;&#12427;&#12290;&#22522;&#26412;&#30340;&#12395;&#25147;&#12373;&#12428;&#12383;&#12496;&#12483;&#12501;&#12449;&#12398;&#38283;&#22987;&#12450;&#12489;&#12524;&#12473;&#12399;&#12289;&#12381;&#12428;&#12395;&#36861;&#21152;&#12373;&#12428;&#12427;&#25147;&#12373;&#12428;&#12383;
&#12509;&#12452;&#12531;&#12479;&#20516;&#12434;&#25345;&#12385;&#12289;&#25147;&#12373;&#12428;&#12383;&#12487;&#12540;&#12479;&#12496;&#12483;&#12501;&#12449;&#20013;&#12398;&#29694;&#22312;&#12398;&#12458;&#12501;&#12475;&#12483;&#12488;&#12434;&#24471;&#12427;&#12383;&#12417;&#12395;&#12289;&#12381;&#12428;&#12363;&#12425;
&#12371;&#12398;&#20516;&#12364;&#24341;&#12363;&#12428;&#12427;&#12290;
An adjustment which tells the amount by which pointers in the returned
data should be adjusted.  This value should be read with SVAL().  Basically, 
the address of the start of the returned data buffer should have the returned
pointer value added to it and then have this value subtracted from it in
order to obtain the currect offset into the returned data buffer.
</p></li><li class="listitem"><p>
&#25147;&#12373;&#12428;&#12383;&#27083;&#36896;&#20307;&#37197;&#21015;&#20013;&#12398;&#35201;&#32032;&#12398;&#25968;&#12290;&#26178;&#12293;&#12289;&#12371;&#12428;&#12399;&#25147;&#12373;&#12428;&#12383;&#12496;&#12452;&#12488;&#25968;&#12391;&#12354;&#12427;&#21487;&#33021;&#24615;&#12418;&#12354;&#12427;&#12290;
</p></li></ol></div><p>
calll_api()&#12363;&#12425;&#25147;&#12387;&#12383;&#12392;&#12365;&#12289;rparam&#12399;&#25147;&#12426;&#12497;&#12521;&#12513;&#12540;&#12479;&#12434;&#25351;&#31034;&#12377;&#12427;&#12290;&#12381;&#12428;&#12364;&#12354;&#12427;&#22580;&#21512;&#12289;
&#26368;&#21021;&#12398;&#12418;&#12398;&#12399;&#25147;&#12426;&#20516;&#12391;&#12354;&#12427;&#12290;API&#21628;&#12403;&#20986;&#12375;&#12364;&#25104;&#21151;&#12375;&#12383;&#22580;&#21512;&#12289;&#12381;&#12428;&#12399;0&#12391;&#12354;&#12427;&#12290;&#12371;&#12428;&#12399;&#12289;
"SVAL(rparam,0)"&#12392;&#12375;&#12390;&#35501;&#12414;&#12428;&#12427;&#12290;
</p><p>
2&#30058;&#30446;&#12398;&#12497;&#12521;&#12513;&#12540;&#12479;&#12399;"SVAL(rparam,2)"&#12392;&#12375;&#12390;&#35501;&#12416;&#12371;&#12392;&#12364;&#20986;&#26469;&#12427;&#12290;&#25147;&#12373;&#12428;&#12383;&#12487;&#12540;&#12479;&#12496;&#12483;&#12501;&#12449;&#12398;
&#12505;&#12540;&#12473;&#12450;&#12489;&#12524;&#12473;&#12364;&#12469;&#12540;&#12496;&#19978;&#12391;&#27083;&#31689;&#12373;&#12428;&#12383;&#26178;&#12395;&#20309;&#12384;&#12387;&#12383;&#12363;&#12434;&#25351;&#31034;&#12377;&#12427;16&#12499;&#12483;&#12488;&#12458;&#12501;&#12475;&#12483;&#12488;&#12391;&#12354;&#12427;&#12290;
&#12371;&#12428;&#12399;&#20351;&#29992;&#12398;&#21069;&#12395;&#12509;&#12452;&#12531;&#12479;&#12434;&#27491;&#12375;&#12367;&#12377;&#12427;&#12398;&#12395;&#20351;&#12431;&#12428;&#12427;&#12409;&#12365;&#12391;&#12354;&#12427;&#12290;
use.
</p><p>
&#25147;&#12373;&#12428;&#12383;&#12487;&#12540;&#12479;&#12496;&#12483;&#12501;&#12449;&#12395;&#12399;&#25147;&#12373;&#12428;&#12383;&#12487;&#12540;&#12479;&#27083;&#36896;&#20307;&#37197;&#21015;&#12364;&#21547;&#12414;&#12428;&#12390;&#12356;&#12427;&#12290;&#12377;&#12409;&#12390;&#12398;&#12509;&#12452;&#12531;&#12479;&#12399;
&#20351;&#29992;&#12377;&#12427;&#21069;&#12395;&#35519;&#25972;&#12375;&#12394;&#12369;&#12428;&#12400;&#12394;&#12425;&#12394;&#12356;&#12371;&#12392;&#12395;&#27880;&#24847;&#12290;client.c&#20013;&#12398;&#38306;&#25968;fix_char_ptr()&#12399;&#12289;
&#12371;&#12398;&#30446;&#30340;&#12398;&#12383;&#12417;&#12395;&#20351;&#12360;&#12427;&#12290;
</p><p>
3&#30058;&#30446;&#12398;&#12497;&#12521;&#12513;&#12540;&#12479;("SVAL(rparam,4)"&#12392;&#12375;&#12390;&#35501;&#12416;&#12371;&#12392;&#12364;&#20986;&#26469;&#12427;)&#12399;&#12289;&#25147;&#12373;&#12428;&#12383;&#12487;&#12540;&#12479;&#12398;&#37327;&#12434;
&#25351;&#31034;&#12377;&#12427;&#12363;&#12289;&#21313;&#20998;&#12394;&#12496;&#12483;&#12501;&#12449;&#31354;&#38291;&#12364;&#12354;&#12427;&#22580;&#21512;&#12289;&#25147;&#12377;&#12371;&#12392;&#12364;&#20986;&#26469;&#12427;&#12487;&#12540;&#12479;&#12398;&#12424;&#12358;&#12394;&#12418;&#12398;&#12391;&#12354;&#12427;&#12290;
</p></div></div><div class="sect1" title="&#12467;&#12540;&#12489;&#25991;&#23383;&#12486;&#12540;&#12502;&#12523;"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id2564646"></a>&#12467;&#12540;&#12489;&#25991;&#23383;&#12486;&#12540;&#12502;&#12523;</h2></div></div></div><p>
&#29305;&#23450;&#12398;&#12487;&#12540;&#12479;&#27083;&#36896;&#12399;&#12289;&#12467;&#12540;&#12489;&#25991;&#23383;&#12434;&#21547;&#12416;ASCIIZ&#25991;&#23383;&#21015;&#12434;&#20351;&#12387;&#12390;&#35352;&#36848;&#12373;&#12428;&#12427;&#12290;&#20197;&#19979;&#12399;
&#12467;&#12540;&#12489;&#25991;&#23383;&#12391;&#12354;&#12427;:
</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
W	&#12496;&#12452;&#12488;&#21336;&#20301;&#12398;&#12522;&#12488;&#12523;&#12456;&#12531;&#12487;&#12451;&#12450;&#12531;&#31526;&#21495;&#12394;&#12375;&#25972;&#25968;
</p></li><li class="listitem"><p>
N	&#12381;&#12398;&#12354;&#12392;&#12395;&#32154;&#12367;&#21103;&#27083;&#36896;&#20307;&#12398;&#25968;
</p></li><li class="listitem"><p>
D	4&#12496;&#12452;&#12488;&#12398;&#12522;&#12488;&#12523;&#12456;&#12531;&#12487;&#12451;&#12450;&#12531;&#31526;&#21495;&#12394;&#12375;&#25972;&#25968;
</p></li><li class="listitem"><p>
B	&#12496;&#12452;&#12488;(&#12381;&#12398;&#12354;&#12392;&#12395;&#32154;&#12367;ASCII&#25968;&#20516;&#12392;&#12375;&#12390;&#34920;&#29694;&#12373;&#12428;&#12383;&#12289;&#20219;&#24847;&#12398;&#12459;&#12454;&#12531;&#12488;&#12364;&#32154;&#12367;)
</p></li><li class="listitem"><p>
z	4&#12496;&#12452;&#12488;&#12398;NULL&#12391;&#32066;&#31471;&#12377;&#12427;&#25991;&#23383;&#21015;&#12408;&#12398;&#12458;&#12501;&#12475;&#12483;&#12488;
</p></li><li class="listitem"><p>
l	4&#12496;&#12452;&#12488;&#12398;&#38750;&#25991;&#23383;&#21015;&#12518;&#12540;&#12470;&#12487;&#12540;&#12479;&#12408;&#12398;&#12458;&#12501;&#12475;&#12483;&#12488;
</p></li><li class="listitem"><p>
b	&#12487;&#12540;&#12479;&#12408;&#12398;&#12458;&#12501;&#12475;&#12483;&#12488;(&#12381;&#12398;&#12354;&#12392;&#12395;&#12289;ASCII&#25968;&#20516;&#12392;&#12375;&#12390;&#34920;&#29694;&#12373;&#12428;&#12427;&#12459;&#12454;&#12531;&#12488;&#12364;&#32154;&#12367;)
</p></li><li class="listitem"><p>
r	&#25147;&#12373;&#12428;&#12427;&#12487;&#12540;&#12479;&#12496;&#12483;&#12501;&#12449;&#12408;&#12398;&#12509;&#12452;&#12531;&#12479;???
</p></li><li class="listitem"><p>
L	&#25147;&#12373;&#12428;&#12427;&#12487;&#12540;&#12479;&#12496;&#12483;&#12501;&#12449;&#12398;&#12496;&#12452;&#12488;&#38263;???
</p></li><li class="listitem"><p>
h	&#26377;&#21177;&#12394;&#24773;&#22577;&#12398;&#12496;&#12452;&#12488;&#25968;???
</p></li></ol></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="debug.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="pt02.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="CodingSuggestions.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter 4. Samba&#12398;&#12487;&#12496;&#12483;&#12464;&#12471;&#12473;&#12486;&#12512; </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Chapter 6. &#12467;&#12540;&#12487;&#12451;&#12531;&#12464;&#12395;&#23550;&#12377;&#12427;&#21161;&#35328;</td></tr></table></div></body></html>
