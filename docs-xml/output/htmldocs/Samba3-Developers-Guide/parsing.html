<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Chapter 11. smb.conf&#12501;&#12449;&#12452;&#12523;</title><link rel="stylesheet" href="../samba.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.75.2"><link rel="home" href="index.html" title="SAMBA&#38283;&#30330;&#32773;&#12460;&#12452;&#12489;"><link rel="up" href="pt03.html" title="Part III. Samba&#12469;&#12502;&#12471;&#12473;&#12486;&#12512;"><link rel="prev" href="vfs.html" title="Chapter 10. VFS &#12514;&#12472;&#12517;&#12540;&#12523;"><link rel="next" href="wins.html" title="Chapter 12. Samba WINS &#12398;&#20869;&#37096;&#27083;&#36896;"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Chapter 11. smb.conf&#12501;&#12449;&#12452;&#12523;</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="vfs.html">Prev</a> </td><th width="60%" align="center">Part III. Samba&#12469;&#12502;&#12471;&#12473;&#12486;&#12512;</th><td width="20%" align="right"> <a accesskey="n" href="wins.html">Next</a></td></tr></table><hr></div><div class="chapter" title="Chapter 11. smb.conf&#12501;&#12449;&#12452;&#12523;"><div class="titlepage"><div><div><h2 class="title"><a name="parsing"></a>Chapter 11. smb.conf&#12501;&#12449;&#12452;&#12523;</h2></div><div><div class="author"><h3 class="author"><span class="firstname">Chris</span> <span class="surname">Hertel</span></h3></div></div><div><p class="pubdate">November 1997</p></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="sect1"><a href="parsing.html#id2567866">Lexical Analysis</a></span></dt><dd><dl><dt><span class="sect2"><a href="parsing.html#id2567953">&#31354;&#30333;&#12398;&#21462;&#12426;&#25201;&#12356;</a></span></dt><dt><span class="sect2"><a href="parsing.html#id2568011">&#32153;&#32154;&#34892;&#12398;&#21462;&#12426;&#25201;&#12356;</a></span></dt><dt><span class="sect2"><a href="parsing.html#id2568080">&#20598;&#28982;&#12395;&#12424;&#12427;&#34892;&#12398;&#32080;&#21512;</a></span></dt></dl></dd><dt><span class="sect1"><a href="parsing.html#id2568165">&#25991;&#27861;</a></span></dt><dd><dl><dt><span class="sect2"><a href="parsing.html#id2568236">params.c&#12395;&#12388;&#12356;&#12390;</a></span></dt></dl></dd></dl></div><div class="sect1" title="Lexical Analysis"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id2567866"></a>Lexical Analysis</h2></div></div></div><p>
&#22522;&#26412;&#30340;&#12395;&#12289;&#12501;&#12449;&#12452;&#12523;&#12399;&#34892;&#21336;&#20301;&#12391;&#20966;&#29702;&#12373;&#12428;&#12427;&#12290;&#27083;&#25991;&#35299;&#26512;&#12523;&#12540;&#12481;&#12531;(param.c)&#12395;&#12424;&#12387;&#12390;&#35469;&#35672;&#12373;&#12428;&#12427;
4&#12388;&#12398;&#12479;&#12452;&#12503;&#12398;&#34892;&#12364;&#12354;&#12427;&#12290;
</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
&#31354;&#30333;&#34892; - &#31354;&#30333;&#12398;&#12415;&#12434;&#21547;&#12416;&#34892;&#12290;
</p></li><li class="listitem"><p>
&#12467;&#12513;&#12531;&#12488;&#34892; - &#12475;&#12511;&#12467;&#12525;&#12531;&#12363;&#12471;&#12515;&#12540;&#12503;&#35352;&#21495;&#12391;&#22987;&#12414;&#12427;&#34892;(';' &#12363; '#')&#12290;
</p></li><li class="listitem"><p>
&#12475;&#12463;&#12471;&#12519;&#12531;&#12504;&#12483;&#12480;&#34892; - &#24038;&#22823;&#25324;&#24359;&#12391;&#22987;&#12414;&#12427;&#34892;('[')&#12290;
</p></li><li class="listitem"><p>
&#12497;&#12521;&#12513;&#12540;&#12479;&#34892; - &#12381;&#12398;&#20182;&#12398;&#25991;&#23383;&#12391;&#22987;&#12414;&#12427;&#34892;&#12290;
(&#26082;&#23450;&#20516;&#12398;&#34892;&#12479;&#12452;&#12503;)
</p></li></ol></div><p>
&#26368;&#21021;&#12398;2&#12388;&#12399;&#12418;&#12387;&#12401;&#12425;&#27083;&#25991;&#35299;&#37320;&#12523;&#12540;&#12481;&#12531;&#12395;&#12424;&#12387;&#12390;&#28961;&#35222;&#12373;&#12428;&#12427;&#12290;&#27531;&#12426;&#12398;2&#12388;&#12398;&#12479;&#12452;&#12503;&#12399;&#12289;
&#20197;&#19979;&#12434;&#35299;&#37320;&#12377;&#12427;&#12290;
</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
  - &#12475;&#12463;&#12471;&#12519;&#12531;&#21517;
</p></li><li class="listitem"><p>
  - &#12497;&#12521;&#12513;&#12540;&#12479;&#21517;
</p></li><li class="listitem"><p>
  - &#12497;&#12521;&#12513;&#12540;&#12479;&#20516;
</p></li></ol></div><p>
&#12497;&#12521;&#12513;&#12540;&#12479;&#12525;&#12540;&#12480;(loadparm.c)&#12395;&#12488;&#12540;&#12463;&#12531;&#12398;&#12415;&#12364;&#28193;&#12373;&#12428;&#12427;&#12290;&#12497;&#12521;&#12513;&#12540;&#12479;&#21517;&#12392;&#20516;&#12399;&#12381;&#12428;&#12382;&#12428;&#12434;
&#31561;&#21495;('=')&#12391;&#20998;&#38626;&#12373;&#12428;&#12427;&#12290;
</p><div class="sect2" title="&#31354;&#30333;&#12398;&#21462;&#12426;&#25201;&#12356;"><div class="titlepage"><div><div><h3 class="title"><a name="id2567953"></a>&#31354;&#30333;&#12398;&#21462;&#12426;&#25201;&#12356;</h3></div></div></div><p>
&#31354;&#30333;&#12399;&#25913;&#34892;&#25991;&#23383;('\n')&#20197;&#22806;&#12289;isspace()&#38306;&#25968;(ctype(3C)&#21442;&#29031;)&#12395;&#12424;&#12387;&#12390;&#12289;&#35469;&#35672;&#12373;&#12428;&#12427;&#12377;&#12409;&#12390;&#12398;
&#25991;&#23383;&#12392;&#12375;&#12390;&#23450;&#32681;&#12373;&#12428;&#12427;&#12290;&#34892;&#26411;&#12434;&#35672;&#21029;&#12377;&#12427;&#12392;&#12356;&#12358;&#29702;&#30001;&#12391;&#12289;&#25913;&#34892;&#12399;&#38500;&#22806;&#12373;&#12428;&#12427;&#12290;
</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
&#27083;&#25991;&#35299;&#26512;&#12523;&#12540;&#12481;&#12531;&#12399;&#34892;&#12398;&#20808;&#38957;&#12363;&#12425;&#12398;&#31354;&#30333;&#12434;&#35501;&#12415;&#39131;&#12400;&#12377;&#12290;
</p></li><li class="listitem"><p>
&#12475;&#12463;&#12471;&#12519;&#12531;&#12392;&#12497;&#12521;&#12513;&#12540;&#12479;&#21517;&#12399;&#20869;&#37096;&#12395;&#31354;&#30333;&#12434;&#21547;&#12416;&#12371;&#12392;&#12364;&#20986;&#26469;&#12427;&#12290;&#21517;&#21069;&#12398;&#20013;&#12395;&#12354;&#12427;&#12377;&#12409;&#12390;&#12398;&#31354;&#30333;&#12399;&#12289;
&#21336;&#19968;&#12398;&#31354;&#30333;&#25991;&#23383;&#12395;&#22311;&#32302;&#12373;&#12428;&#12427;&#12290;
</p></li><li class="listitem"><p>
&#12497;&#12521;&#12513;&#12540;&#12479;&#20516;&#20869;&#37096;&#12398;&#31354;&#30333;&#12399;&#12289;&#12381;&#12428;&#12425;&#12377;&#12409;&#12390;&#12364;&#21066;&#38500;&#12373;&#12428;&#12427;&#12461;&#12515;&#12522;&#12483;&#12472;&#12522;&#12479;&#12540;&#12531;&#25991;&#23383;('\r')&#12434;&#38500;&#12365;&#12289;
&#12381;&#12398;&#12414;&#12414;&#20445;&#25345;&#12373;&#12428;&#12427;&#12290;
</p></li><li class="listitem"><p>
&#21517;&#21069;&#12392;&#20516;&#12398;&#20808;&#38957;&#12362;&#12424;&#12403;&#12381;&#12398;&#12354;&#12392;&#12398;&#31354;&#30333;&#12399;&#21066;&#38500;&#12373;&#12428;&#12427;&#12290;
</p></li></ol></div></div><div class="sect2" title="&#32153;&#32154;&#34892;&#12398;&#21462;&#12426;&#25201;&#12356;"><div class="titlepage"><div><div><h3 class="title"><a name="id2568011"></a>&#32153;&#32154;&#34892;&#12398;&#21462;&#12426;&#25201;&#12356;</h3></div></div></div><p>
&#27969;&#12375;&#12475;&#12463;&#12471;&#12519;&#12531;&#12504;&#12483;&#12480;&#12392;&#12497;&#12521;&#12513;&#12540;&#12479;&#34892;&#12399;&#12289;&#12496;&#12483;&#12463;&#12473;&#12521;&#12483;&#12471;&#12517;&#25991;&#23383;('\\')&#12434;&#20351;&#12387;&#12390;&#12289;
&#35079;&#25968;&#12398;&#34892;&#12395;&#32153;&#32154;&#12375;&#12390;&#12418;&#33391;&#12356;&#12290;&#32153;&#32154;&#34892;&#12399;&#12289;&#31354;&#30333;&#12392;&#12467;&#12513;&#12531;&#12488;&#34892;&#12395;&#23550;&#12375;&#12390;&#12399;&#28961;&#35222;&#12373;&#12428;&#12427;&#12290;
</p><p>
&#12418;&#12375;&#12418;&#12289;&#12475;&#12463;&#12471;&#12519;&#12531;&#12504;&#12483;&#12480;&#20869;&#12363;&#12289;&#12497;&#12521;&#12513;&#12540;&#12479;&#34892;&#19978;&#12395;&#12354;&#12427;&#26368;&#24460;&#12398;(&#38750;&#31354;&#30333;)&#25991;&#23383;&#12399;&#12289;&#12496;&#12483;&#12463;&#12473;&#12521;&#12483;&#12471;&#12517;
&#25991;&#23383;&#12391;&#12354;&#12426;&#12289;&#27425;&#12395;&#12289;&#27425;&#12398;&#34892;&#12364;&#12289;&#27083;&#25991;&#35299;&#26512;&#12523;&#12540;&#12481;&#12531;&#12395;&#12424;&#12387;&#12390;&#12289;(&#35542;&#29702;&#30340;&#12395;)&#29694;&#22312;&#12398;&#34892;&#12395;&#23550;&#12375;&#12390;
&#32080;&#21512;&#12373;&#12428;&#12427;&#12290;&#20363;&#12399;&#20197;&#19979;&#12398;&#36890;&#12426;:
</p><pre class="programlisting">
	param name = parameter value string \
	with line continuation.
</pre><p>&#12399;&#20197;&#19979;&#12392;&#21516;&#20516;&#12391;&#12354;&#12427;</p><pre class="programlisting">
    param name = parameter value string     with line continuation.
</pre><p>
&#21336;&#35486;'string'&#12398;&#24460;&#12395;5&#12388;&#12398;&#31354;&#30333;&#12364;&#12354;&#12426;&#12289;&#26368;&#21021;&#12398;&#34892;&#20013;&#12398;'stging'&#12392;'\\'&#12398;&#38291;&#12395;1&#12388;&#12398;&#31354;&#30333;&#12364;&#12354;&#12426;&#12289;
&#12373;&#12425;&#12395;&#12289;2&#30058;&#30446;&#12398;&#34892;&#12398;'with'&#12398;&#21069;&#12395;4&#12388;&#12398;&#31354;&#30333;&#12364;&#12354;&#12427;&#12371;&#12392;&#12395;&#27880;&#24847;(&#12418;&#12385;&#12429;&#12435;&#12289;
&#12452;&#12531;&#12487;&#12531;&#12488;&#12434;&#12459;&#12454;&#12531;&#12488;&#12375;&#12390;&#12356;&#12427;)&#12290;
</p><p>
&#32153;&#32154;&#34892;&#25991;&#23383;&#12399;&#31354;&#30333;&#34892;&#12392;&#12467;&#12513;&#12531;&#12488;&#12398;&#26368;&#24460;&#12391;&#12399;&#28961;&#35222;&#12373;&#12428;&#12427;&#12290;&#12475;&#12463;&#12471;&#12519;&#12531;&#12392;&#12497;&#12521;&#12513;&#12540;&#12479;&#34892;*&#12398;&#12415;&#12391;*
&#35299;&#37320;&#12373;&#12428;&#12427;&#12290;
</p></div><div class="sect2" title="&#20598;&#28982;&#12395;&#12424;&#12427;&#34892;&#12398;&#32080;&#21512;"><div class="titlepage"><div><div><h3 class="title"><a name="id2568080"></a>&#20598;&#28982;&#12395;&#12424;&#12427;&#34892;&#12398;&#32080;&#21512;</h3></div></div></div><p>&#20197;&#19979;&#12398;&#20363;&#12395;&#27880;&#24847;:</p><pre class="programlisting">
	param name = parameter value string \
    \
    with line continuation.
</pre><p>
&#30495;&#12435;&#20013;&#12398;&#34892;&#12399;&#12289;&#26368;&#21021;&#12398;&#34892;&#12398;&#34892;&#12395;&#32080;&#21512;&#12373;&#12428;&#12427;&#12383;&#12417;&#12289;&#31354;&#30333;&#34892;&#12392;&#12375;&#12390;&#12399;*&#20966;&#29702;&#12373;&#12428;&#12394;&#12356;*&#12290;
&#32080;&#26524;&#12399;&#20197;&#19979;&#12398;&#12424;&#12358;&#12395;&#12394;&#12427;&#12290;
</p><pre class="programlisting">
param name = parameter value string         with line continuation.
</pre><p>&#12467;&#12513;&#12531;&#12488;&#12521;&#12452;&#12531;&#12395;&#23550;&#12375;&#12390;&#12418;&#12371;&#12398;&#12371;&#12392;&#12399;&#25104;&#31435;&#12377;&#12427;&#12290;</p><pre class="programlisting">
	param name = parameter value string \
	; comment \
    with a comment.
</pre><p>&#12371;&#12428;&#12399;&#20197;&#19979;&#12398;&#12424;&#12358;&#12395;&#12394;&#12427;:</p><pre class="programlisting">
param name = parameter value string     ; comment     with a comment.
</pre><p>
&#12475;&#12463;&#12471;&#12519;&#12531;&#12504;&#12483;&#12480;&#34892;&#29366;&#12395;&#32622;&#12356;&#12390;&#12289;&#38281;&#12376;&#22823;&#25324;&#24359;(']')&#12399;&#32066;&#31471;&#25991;&#23383;&#12392;&#12375;&#12390;&#32771;&#24942;&#12373;&#12428;&#12289;&#34892;&#12398;&#27531;&#12426;&#12398;
&#37096;&#20998;&#12399;&#28961;&#35222;&#12373;&#12428;&#12427;&#12290;&#20197;&#19979;&#12398;&#12424;&#12358;&#12394;&#20363;
</p><pre class="programlisting">
	[ section   name ] garbage \
    param  name  = value
</pre><p>&#12399;&#19979;&#35352;&#12398;&#12424;&#12358;&#12395;&#35299;&#37320;&#12373;&#12428;&#12427;&#12290;</p><pre class="programlisting">
	[section name]
    param name = value
</pre></div></div><div class="sect1" title="&#25991;&#27861;"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id2568165"></a>&#25991;&#27861;</h2></div></div></div><p>smb.conf&#12501;&#12449;&#12452;&#12523;&#12398;&#25991;&#27861;&#12399;&#20197;&#19979;&#12398;&#12424;&#12358;&#12395;&#12394;&#12427;:</p><pre class="programlisting">
  &lt;file&gt;            :==  { &lt;section&gt; } EOF
  &lt;section&gt;         :==  &lt;section header&gt; { &lt;parameter line&gt; }
  &lt;section header&gt;  :==  '[' NAME ']'
  &lt;parameter line&gt;  :==  NAME '=' VALUE NL
</pre><p>&#22522;&#26412;&#30340;&#12395;&#12289;&#12371;&#12428;&#12398;&#24847;&#21619;&#12399;&#20197;&#19979;&#12398;&#12424;&#12358;&#12395;&#12394;&#12427;</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
    &#12501;&#12449;&#12452;&#12523;&#12399;0&#20491;&#20197;&#19978;&#12398;&#12475;&#12463;&#12471;&#12519;&#12531;&#12363;&#12425;&#12394;&#12426;&#12289;EOF(&#12381;&#12428;&#12434;&#30693;&#12387;&#12390;&#12356;&#12427;&#12398;&#12391;)&#12395;&#12424;&#12387;&#12390;
    &#32066;&#31471;&#12377;&#12427;&#12290;
</p></li><li class="listitem"><p>
    &#12475;&#12463;&#12471;&#12519;&#12531;&#12399;0&#34892;&#20197;&#19978;&#12398;&#12497;&#12521;&#12513;&#12540;&#12479;&#12364;&#32154;&#12367;&#12475;&#12463;&#12471;&#12519;&#12531;&#12504;&#12483;&#12480;&#12363;&#12425;&#12394;&#12427;&#12290;
</p></li><li class="listitem"><p>
    &#12475;&#12463;&#12471;&#12519;&#12531;&#12504;&#12483;&#12480;&#12399;&#24038;&#22823;&#25324;&#24359;&#12395;&#12424;&#12426;&#23450;&#32681;&#12373;&#12428;&#12289;&#21491;&#22823;&#25324;&#24359;&#12395;&#12424;&#12426;&#38281;&#12376;&#12427;&#12290;&#22258;&#12414;&#12428;&#12383;
    &#21517;&#21069;&#12364;&#12475;&#12463;&#12471;&#12519;&#12531;&#12434;&#35672;&#21029;&#12377;&#12427;&#12290;
</p></li><li class="listitem"><p>
    &#12497;&#12521;&#12513;&#12540;&#12479;&#34892;&#12399;&#21517;&#21069;&#12392;&#20516;&#12395;&#20998;&#21106;&#12373;&#12428;&#12427;&#12290;&#34892;&#20013;&#12398;*&#26368;&#21021;&#12398;*&#31561;&#21495;&#12399;&#12289;&#21517;&#21069;&#12392;&#20516;&#12434;&#20998;&#21106;&#12377;&#12427;&#12290;
    &#20516;&#12399;&#25913;&#34892;&#25991;&#23383;(NL = '\n')&#12395;&#12424;&#12387;&#12390;&#32066;&#31471;&#12377;&#12427;&#12290;
</p></li></ol></div><div class="sect2" title="params.c&#12395;&#12388;&#12356;&#12390;"><div class="titlepage"><div><div><h3 class="title"><a name="id2568236"></a>params.c&#12395;&#12388;&#12356;&#12390;</h3></div></div></div><p>
config&#12501;&#12449;&#12452;&#12523;&#12398;&#35299;&#26512;&#12399;&#12289;&#12418;&#12375;&#12418;lex,yacc,bison&#12394;&#12393;&#12434;&#20351;&#12387;&#12390;&#12356;&#12383;&#22580;&#21512;&#12289;&#29420;&#29305;&#12394;&#12418;&#12398;&#12392;
&#24863;&#12376;&#12427;&#12384;&#12429;&#12358;&#12290;&#27083;&#25991;&#35299;&#26512;(&#12473;&#12461;&#12515;&#12531;)&#12399;params.c&#12395;&#12424;&#12387;&#12390;&#34892;&#12431;&#12428;&#12427;&#12290;loadparm.c&#12395;&#12467;&#12540;&#12523;&#12496;&#12483;&#12463;
&#12377;&#12427;&#12371;&#12392;&#12391;&#12525;&#12540;&#12489;&#12373;&#12428;&#12427;&#12290;
</p></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="vfs.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="pt03.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="wins.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter 10. VFS &#12514;&#12472;&#12517;&#12540;&#12523; </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Chapter 12. Samba WINS &#12398;&#20869;&#37096;&#27083;&#36896;</td></tr></table></div></body></html>
