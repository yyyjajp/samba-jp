<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>vfs_gpfs</title><link rel="stylesheet" href="../samba.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.73.2"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="refentry" lang="en"><a name="vfs_gpfs.8"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>vfs_gpfs &#8212; acl &#12420; prealloc &#27231;&#33021;&#12392;&#21516;&#27096;&#12395; gpfs &#12395;&#29305;&#21270;&#12375;&#12383; Samba &#12398;&#27231;&#33021;&#25313;&#24373;&#12434;&#34892;&#12394;&#12358;&#12290;</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="cmdsynopsis"><p><code class="literal">vfs objects = gpfs</code></p></div></div><div class="refsect1" lang="en"><a name="id2517203"></a><h2>&#35500;&#26126;</h2><p>&#12371;&#12398; VFS &#12514;&#12472;&#12517;&#12540;&#12523;&#12399;
	<a class="citerefentry" href="samba.7.html"><span class="citerefentry"><span class="refentrytitle">samba</span>(7)</span></a> &#12471;&#12473;&#12486;&#12512;&#12398;&#19968;&#37096;&#12391;&#12354;&#12427;&#12290;</p><p> <code class="literal">gpfs</code> VFS &#12514;&#12472;&#12517;&#12540;&#12523;&#12399;&#12289;Samba &#12364; GPFS
	&#12392;&#36969;&#20999;&#12395;&#36899;&#25658;&#12377;&#12427;&#19978;&#12391;&#24517;&#35201;&#12392;&#12394;&#12427;&#27096;&#12293;&#12394; GPFS &#12456;&#12463;&#12473;&#12486;&#12531;&#12471;&#12519;&#12531;&#12398;
&#12514;&#12472;&#12517;&#12540;&#12523;&#12398;&#12505;&#12540;&#12473;&#12391;&#12354;&#12427;&#12290;
	&#12371;&#12398;&#12514;&#12472;&#12517;&#12540;&#12523;&#12399;GPFS&#12395;&#12424;&#12387;&#12390;&#25552;&#20379;&#12373;&#12428;&#12427;GPL&#12521;&#12452;&#12502;&#12521;&#12522;&#12452;&#12531;&#12479;&#12501;&#12455;&#12540;&#12473;&#12434;&#20351;&#12358;&#12290;
	</p><p>&#29694;&#22312;&#12398;&#12392;&#12371;&#12429;&#12289;gpfs VFS
	&#12514;&#12472;&#12517;&#12540;&#12523;&#12399;&#20197;&#19979;&#12398;&#12456;&#12463;&#12473;&#12486;&#12531;&#12471;&#12519;&#12531;&#12398;&#12415;&#12434;&#25552;&#20379;&#12375;&#12390;&#12356;&#12427;:
	</p><div class="itemizedlist"><ul type="disc"><li><p>GPFS&#12398;&#12383;&#12417;&#12395;&#35373;&#23450;&#21487;&#33021;&#12394;NFSv4 ACL &#12452;&#12531;&#12479;&#12501;&#12455;&#12540;&#12473; </p></li><li><p>GPFS &#19978;&#12391;&#12398;&#12459;&#12540;&#12493;&#12523; oplock &#12398;&#12469;&#12509;&#12540;&#12488;</p></li><li><p>GPFS &#19978;&#12391;&#12398; lease &#12469;&#12509;&#12540;&#12488;</p></li></ul></div><p>
	</p><p><code class="literal">&#27880;&#24847;:</code>&#12371;&#12398;&#12514;&#12472;&#12517;&#12540;&#12523;&#12399; POSIX ACL
	&#12398;&#25369;&#21205;&#12434;&#27169;&#12375;&#12390;&#12356;&#12427;&#12383;&#12417;&#12289;chown &#12395;&#12424;&#12427;&#12497;&#12540;&#12511;&#12483;&#12471;&#12519;&#12531;&#12398;&#22793;&#26356;&#12364;&#21487;&#33021;&#12391;&#12354;&#12427;&#12290;
	&#12375;&#12363;&#12375;&#12289;
	Samba &#12399;&#29694;&#22312;&#12398;&#12392;&#12371;&#12429;&#12289;&#12371;&#12398;&#21205;&#20316;&#12434;&#12469;&#12509;&#12540;&#12488;&#12375;&#12390;&#12356;&#12394;&#12356;&#12290;
	&#12371;&#12398;&#12514;&#12472;&#12517;&#12540;&#12523;&#12395;&#12424;&#12427; chown &#12434;&#31105;&#27490;&#12377;&#12427;&#12395;&#12399;&#12289;Samba &#12424;&#12426;&#12418;&#19979;&#20301;&#12398;
	&#12501;&#12449;&#12452;&#12523;&#12471;&#12473;&#12486;&#12512;&#20596;&#12398;&#36012;&#20219;&#12392;&#12394;&#12427;&#12290;

	</p><p>&#12371;&#12398;&#12514;&#12472;&#12517;&#12540;&#12523;&#12399;&#12473;&#12479;&#12483;&#12463;&#21487;&#33021;&#12391;&#12354;&#12427;&#12290;</p></div><div class="refsect1" lang="en"><a name="id2477997"></a><h2>&#12458;&#12503;&#12471;&#12519;&#12531;</h2><div class="variablelist"><dl><dt><span class="term">nfs4:mode = [ simple | special ]</span></dt><dd><p>
		GPFS&#19978;&#12398;&#29305;&#21029;&#12394;ID&#12398;&#32622;&#12365;&#25563;&#12360;&#12434;&#26377;&#21177;/&#28961;&#21177;&#12395;&#12377;&#12427;&#12290;&#12371;&#12398;&#12497;&#12521;&#12513;&#12540;&#12479;&#12399;&#12393;&#12398;&#12424;&#12358;&#12394;&#26041;&#27861;&#12391;&#12418;
		windows&#12398;&#12518;&#12540;&#12470;&#12395;&#24433;&#38911;&#12434;&#19982;&#12360;&#12427;&#12409;&#12365;&#12391;&#12394;&#12356;&#12290;&#12371;&#12428;&#12399;&#12289;Samba&#12395;&#12289;GPFS&#12395;&#38306;&#36899;&#12398;&#12354;&#12427;
		OWNER@&#12392;GROUP@(&#21336;&#32020;&#12394;uid&#12408;&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;)&#12391;&#12354;&#12427;&#29305;&#21029;&#12394;ID&#12434;&#35373;&#23450;&#12377;&#12427;&#12371;&#12392;&#12398;&#12415;&#12434;
		&#30906;&#23455;&#12395;&#12377;&#12427;&#12290;
		</p><p>&#20197;&#19979;&#12398;&#12514;&#12540;&#12489;&#12364;&#12371;&#12398;&#12514;&#12472;&#12517;&#12540;&#12523;&#12395;&#12424;&#12387;&#12390;&#25351;&#23450;&#21487;&#33021;&#12391;&#12354;&#12427;:</p><div class="itemizedlist"><ul type="disc"><li><p><code class="literal">simple(&#26082;&#23450;&#20516;)</code> - GPFS&#12398;ACE&#20013;&#12391;&#29305;&#21029;&#12394;ID&#12434;&#20351;&#12431;&#12394;&#12356;</p></li><li><p><code class="literal">special</code> - GPFS&#12398;ACE&#20013;&#12391;&#29305;&#21029;&#12394;ID&#12434;&#20351;&#12358;</p></li></ul></div></dd><dt><span class="term">nfs4:acedup = [dontcare|reject|ignore|merge]</span></dt><dd><p>
		&#12371;&#12398;&#12497;&#12521;&#12513;&#12540;&#12479;&#12399;GPFS&#12398;ACL&#20013;&#12391;&#36973;&#36935;&#12375;&#12383;&#12289;&#37325;&#35079;&#12375;&#12383;ACE&#12434;Samba&#12364;&#12393;&#12398;&#12424;&#12358;&#12395;&#21462;&#12426;&#25201;&#12358;&#12363;&#12434;&#35373;&#23450;&#12377;&#12427;&#12290;
		GPFS&#12399;&#21516;&#12376;ID&#12395;&#23550;&#12375;&#12390;&#30064;&#12394;&#12387;&#12383;bit&#12434;&#25345;&#12388;&#37325;&#35079;&#12375;&#12383;ACE&#12434;&#35377;&#23481;&#12375;&#20316;&#25104;&#12377;&#12427;&#12290;
		</p><p>&#20197;&#19979;&#12399;&#12381;&#12428;&#12382;&#12428;&#12398;&#20516;&#12395;&#12362;&#12369;&#12427;Samba&#12398;&#21205;&#20316;&#12391;&#12354;&#12427;:</p><div class="itemizedlist"><ul type="disc"><li><p><code class="literal">dontcare (&#26082;&#23450;&#20516;)</code> - &#37325;&#35079;&#12375;&#12383;ACE&#12434;&#12381;&#12398;&#12414;&#12414;&#21033;&#29992;&#12377;&#12427;</p></li><li><p><code class="literal">reject</code> - ACL&#12398;&#35373;&#23450;&#20966;&#29702;&#12391;&#12289;&#20966;&#29702;&#12434;&#20013;&#26029;&#12375;&#12289;&#12456;&#12521;&#12540;&#12392;&#12375;&#12390;&#32066;&#20102;&#12377;&#12427;</p></li><li><p><code class="literal">ignore</code> - 2&#30058;&#30446;&#12395;&#12510;&#12483;&#12481;&#12375;&#12383;ACE&#12434;&#28961;&#35222;&#12377;&#12427;</p></li><li><p><code class="literal">merge</code> - 2&#12388;&#12398;ace.flag&#12501;&#12451;&#12540;&#12523;&#12489;&#12289;&#21450;&#12403;2&#12388;&#12398;ace.mask&#12501;&#12451;&#12540;&#12523;&#12489;&#12434;&#12499;&#12483;&#12488;&#28436;&#31639;&#12391;OR&#12434;&#21462;&#12426;&#12289;2&#12388;&#12398;&#37325;&#35079;&#12375;&#12383;ACE&#12434;1&#12388;&#12398;ACE&#12395;&#32113;&#21512;&#12377;&#12427;</p></li></ul></div></dd><dt><span class="term">nfs4:chown = [yes|no]</span></dt><dd><p>&#12371;&#12398;&#12497;&#12521;&#12513;&#12540;&#12479;&#12399;&#12501;&#12449;&#12452;&#12523;&#12471;&#12473;&#12486;&#12512;&#12398;&#12524;&#12452;&#12516;&#12395;&#12424;&#12387;&#12390;
		  &#12469;&#12509;&#12540;&#12488;&#12373;&#12428;&#12427; chown &#12434;&#26377;&#21177;&#12414;&#12383;&#12399;&#28961;&#21177;&#12395;&#35373;&#23450;&#12377;&#12427;&#12290;
		  &#12371;&#12398;&#12497;&#12521;&#12513;&#12540;&#12479;&#12399;&#12289;&#12354;&#12394;&#12383;&#12398;&#12471;&#12473;&#12486;&#12512;&#12398;&#12475;&#12461;&#12517;&#12522;&#12486;&#12451;&#12434;
		  &#20302;&#19979;&#12373;&#12379;&#12427;&#12363;&#12418;&#12375;&#12428;&#12394;&#12356;&#20107;&#12395;&#27880;&#24847;&#12375;&#12390;&#26377;&#21177;&#12395;&#12377;&#12409;&#12365;&#12391;&#12354;&#12427;&#12290;
		</p><p>&#12356;&#12367;&#12388;&#12363;&#12398;&#12501;&#12449;&#12452;&#12523;&#12471;&#12473;&#12486;&#12512;&#12391;&#12399;&#12289;chown &#12398; 
		  a) &#35377;&#21487; b) &#25298;&#21542; &#12364;&#21487;&#33021;&#12391;&#12354;&#12427;&#12290;
		  &#12522;&#12473;&#12463;&#12395;&#12388;&#12356;&#12390;&#32771;&#24942;&#12373;&#12428;&#12383;&#12398;&#12364;&#24460;&#32773;&#12391;&#12354;&#12427;&#12290;</p><p>&#20197;&#19979;&#12399;&#12381;&#12428;&#12382;&#12428;&#12398;&#20516;&#12395;&#23550;&#12377;&#12427;Samba&#12398;&#21205;&#20316;&#12391;&#12354;&#12427;: </p><div class="itemizedlist"><ul type="disc"><li><p><code class="literal">yes</code> - &#12501;&#12449;&#12452;&#12523;&#12471;&#12473;&#12486;&#12512;&#19979;&#12391;&#12469;&#12509;&#12540;&#12488;&#12377;&#12427;&#12424;&#12358;&#12394;chown&#12434;&#26377;&#21177;&#12395;&#12377;&#12427;&#12290;</p></li><li><p><code class="literal">no (&#26082;&#23450;&#20516;)</code> - chown&#12434;&#28961;&#21177;&#12395;&#12377;&#12427;</p></li></ul></div></dd></dl></div></div><div class="refsect1" lang="en"><a name="id2478197"></a><h2>&#20351;&#29992;&#20363;</h2><p>GPFS mount &#12399;&#20197;&#19979;&#12398;&#12424;&#12358;&#12395;&#12289;Samba&#32076;&#30001;&#12391;&#12456;&#12463;&#12473;&#12509;&#12540;&#12488;&#12391;&#12365;&#12427;:</p><pre class="programlisting">
        <em class="parameter"><code>[samba_gpfs_share]</code></em>
	<a class="link" href="smb.conf.5.html#VFSOBJECTS">vfs objects = gpfs</a>
	<a class="link" href="smb.conf.5.html#PATH">path = /test/gpfs_mount</a>
	<a class="link" href="smb.conf.5.html#NFS4:MODE">nfs4: mode = special</a>
	<a class="link" href="smb.conf.5.html#NFS4:ACEDUP">nfs4: acedup = merge</a>
</pre></div><div class="refsect1" lang="en"><a name="id2478260"></a><h2>&#35686;&#21578;</h2><p>gpfs gpl&#12521;&#12452;&#12502;&#12521;&#12522;&#12399;&#12289;&#12467;&#12531;&#12497;&#12452;&#12523;&#12392;&#23455;&#34892;&#26178;&#12395;<code class="literal">gpfs</code>
 VFS &#12514;&#12472;&#12517;&#12540;&#12523;&#12395;&#24517;&#35201;&#12391;&#12354;&#12427;&#12290;
	&#12414;&#12383;&#12289;&#12371;&#12398;VFS&#12514;&#12472;&#12517;&#12540;&#12523;&#12399; SLES 9/10 &#12392; RHEL 4.4&#12391;&#21205;&#20316;&#12486;&#12473;&#12488;&#12364;&#34892;&#12431;&#12428;&#12390;&#12356;&#12427;&#12290;</p></div><div class="refsect1" lang="en"><a name="id2478282"></a><h2>&#12496;&#12540;&#12472;&#12519;&#12531;</h2><p>&#12371;&#12398;&#12510;&#12491;&#12517;&#12450;&#12523;&#12506;&#12540;&#12472;&#12399; Samba &#12496;&#12540;&#12472;&#12519;&#12531; 3.0.25&#29992;&#12391;&#12354;&#12427;&#12290;</p></div><div class="refsect1" lang="en"><a name="id2478294"></a><h2>&#33879;&#32773;</h2><p>&#12458;&#12522;&#12472;&#12490;&#12523;&#12398; Samba &#12477;&#12501;&#12488;&#12454;&#12455;&#12450;&#12392;&#38306;&#36899;&#12377;&#12427;&#12518;&#12540;&#12486;&#12451;&#12522;&#12486;&#12451;&#12399;&#12289;Andrew
	Tridgell &#12395;&#12424;&#12387;&#12390;&#20316;&#25104;&#12373;&#12428;&#12383;&#12290;&#29694;&#22312; Samba &#12399; Samba Team &#12395;
	&#12424;&#12387;&#12390;&#12289;Linux&#12459;&#12540;&#12493;&#12523;&#12398;&#38283;&#30330;&#12392;&#21516;&#27096;&#12398;&#12458;&#12540;&#12503;&#12531;&#12477;&#12540;&#12473;&#12503;&#12525;&#12472;&#12455;&#12463;&#12488;
	&#12392;&#12375;&#12390;&#38283;&#30330;&#12364;&#34892;&#12394;&#12431;&#12428;&#12390;&#12356;&#12427;&#12290;</p><p>GPFS VFS&#12514;&#12472;&#12517;&#12540;&#12523;&#12399;Volker Lendecke&#12392;IBM&#12398;&#38283;&#30330;&#32773;&#12395;&#12424;&#12387;&#12390;&#23492;&#36104;&#12373;&#12428;&#12289;&#20316;&#25104;&#12373;&#12428;&#12383;&#12290;</p><p>&#12371;&#12398;&#12510;&#12491;&#12517;&#12450;&#12523;&#12506;&#12540;&#12472;&#12399;&#12289;IBM FSCC&#12481;&#12540;&#12512;&#12395;&#12424;&#12387;&#12390;&#20316;&#25104;&#12373;&#12428;&#12383;&#12290;</p></div><div class="refsect1" lang="en"><a name="id2477164"></a><h2>&#26085;&#26412;&#35486;&#35379;</h2><p>&#12371;&#12398;&#12510;&#12491;&#12517;&#12450;&#12523;&#12506;&#12540;&#12472;&#12399; Samba 3.2.4-3.2.8  &#23550;&#24540;&#12398;&#12418;&#12398;&#12391;&#12354;&#12427;&#12290;</p><p>&#12371;&#12398;&#12489;&#12461;&#12517;&#12513;&#12531;&#12488;&#12398; Samba 3.2.4-3.2.8 &#23550;&#24540;&#12398;&#32763;&#35379;&#12399;
	</p><div class="itemizedlist"><ul type="disc"><li><p>&#12383;&#12363;&#12399;&#12375;&#12418;&#12392;&#12398;&#12406; (monyo@samba.gr.jp)</p></li><li><p>&#22826;&#30000;&#20426;&#21705; (ribbon@samba.gr.jp)</p></li></ul></div><p>	
        &#12395;&#12424;&#12387;&#12390;&#34892;&#12394;&#12431;&#12428;&#12383;&#12290;</p></div></div></body></html>
