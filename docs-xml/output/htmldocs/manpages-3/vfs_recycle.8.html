<?xml version="1.0" encoding="UTF-8"?>
<html><head><title>vfs_recycle</title><link rel="stylesheet" href="../samba.css" type="text/css"/><meta name="generator" content="DocBook XSL Stylesheets V1.75.2"/></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="refentry" title="vfs_recycle"><a name="vfs_recycle.8"/><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>vfs_recycle — Samba VFS ごみ箱</p></div><div class="refsynopsisdiv" title="Synopsis"><h2>Synopsis</h2><div class="cmdsynopsis"><p><code class="literal">vfs objects = recycle</code></p></div></div><div class="refsect1" title="説明"><a name="id2529793"/><h2>説明</h2><p>このVFSモジュールは
	<a class="citerefentry" href="samba.7.html"><span class="citerefentry"><span class="refentrytitle">samba</span>(7)</span></a>システムの一部である.</p><p>The <code class="literal">vfs_recycle</code>はファイル削除要求に割り込み、
	直接ファイルを削除するのではなく、一時エリアに移動させる。
	これによりWindowsのごみ箱と同様の機能を提供する。
	</p><p>ごみ箱(Recycle Bin)はWindowsのエクスプローラーのネットワークファイルシステム
	や、マップドライブの表示上には現れない。
	その代わり、.recycleディレクトリが初めてファイルを削除したときに自動的に作成される
	(recycle:repositoryが指定されていない場合)
	
	recycle:repositoryが設定されている場合、新たに作成されるディレクトリ名はrecycle:repository
	で指定されたものになる。
	
	もしrecycle:keeptreeオプションが設定されている場合、パスとともに保存される
	 </p><p>このモジュールはスタッカブルである</p></div><div class="refsect1" title="オプション"><a name="id2490544"/><h2>オプション</h2><div class="variablelist"><dl><dt><span class="term">recycle:repository = PATH</span></dt><dd><p>削除されたファイルをどこに移動するか指定する.
		</p><p>オプションが指定されていない場合、初期値として .recycleが用いられる
		</p></dd><dt><span class="term">recycle:directory_mode = MODE</span></dt><dd><p>
		ごみ箱(recycle repository)ディレクトリを作成する場合のmodeを8進で指定する。
		ごみ箱ディレクトリは初めてファイルが削除されるときに作成する。
		</p><p>
		もしrecycle:subdir_modeが指定されていない場合、0700を使用する。
		</p></dd><dt><span class="term">recycle:subdir_mode = MODE</span></dt><dd><p>
		ごみ箱の中のサブディレクトリを作成する場合のmodeを8進で指定する。
		</p><p>
		このオプションが指定されていない場合、サブディレクトリの作成はrecycle:directory_mode
		を使用する。
		</p></dd><dt><span class="term">recycle:keeptree = BOOL</span></dt><dd><p>
		ディレクトリ構造を残したままファイルを削除するか、別のリポジトリ(ごみ箱)として管理するかを指定する。
		</p></dd><dt><span class="term">recycle:versions = BOOL</span></dt><dd><p>
		このオプションをtrueと指定すると、同一の名前を持つ2つのファイルが削除された場合
		した場合、リポジトリの中に両方のファイルを保存する。
		新しく削除したファイルは
		"Copy #x of filename".
		となる。
		</p></dd><dt><span class="term">recycle:touch = BOOL</span></dt><dd><p>
		ファイルのアクセス日付をごみ箱に移動した日付にアップデートするか否かを指定する。
		</p></dd><dt><span class="term">recycle:touch_mtime = BOOL</span></dt><dd><p>
		ファイルの最終変更日付をごみ箱に移動した日付にアップデートするか否かを指定する。
		</p></dd><dt><span class="term">recycle:minsize = BYTES</span></dt><dd><p>
		ごみ箱に移動するファイルサイズの下限を指定する。
		</p></dd><dt><span class="term">recycle:maxsize = BYTES</span></dt><dd><p>
		ごみ箱に移動するファイルサイズの上限を指定する。
		</p></dd><dt><span class="term">recycle:exclude = LIST</span></dt><dd><p>
		削除要求があった時、ごみ箱に移動せず通常のように削除するファイルを指定する。
		*や?といったワイルドカードをサポートする。
		</p></dd><dt><span class="term">recycle:exclude_dir = LIST</span></dt><dd><p>
		削除要求があった時、ごみ箱に移動せず通常のように削除するディレクトリを指定する。
		*や?といったワイルドカードをサポートする。
		</p></dd><dt><span class="term">recycle:noversions = LIST</span></dt><dd><p>
		バージョン管理せず、直接削除すべきパス
        (*や?のようなワイルドカードをサポートする)
		を指定する。recycle:versionsが有効のときだけ使用される。
		</p></dd></dl></div></div><div class="refsect1" title="設定例"><a name="id2490788"/><h2>設定例</h2><p>
    <em class="parameter"><code>share</code></em>上の "削除対象" ファイルを、
    削除する代わりに<em class="parameter"><code>/data/share/.recycle</code></em>に移動する。
	</p><pre class="programlisting">
    <em class="parameter"><code>[share]</code></em>
    <a class="link" href="smb.conf.5.html#PATH" target="_top">path = /data/share</a>
    <a class="link" href="smb.conf.5.html#VFSOBJECTS" target="_top">vfs objects = recycle</a>
    <a class="link" href="smb.conf.5.html#RECYCLE:REPOSITORY" target="_top">recycle:repository = .recycle</a>
    <a class="link" href="smb.conf.5.html#RECYCLE:KEEPTREE" target="_top">recycle:keeptree = yes</a>
    <a class="link" href="smb.conf.5.html#RECYCLE:VERSIONS" target="_top">recycle:versions = yes</a>
</pre></div><div class="refsect1" title="バージョン"><a name="id2490975"/><h2>バージョン</h2><p>このマニュアルはSambaシステムバージョン3.0.25(訳注:3.3?)に対応している
	</p></div><div class="refsect1" title="著者"><a name="id2490986"/><h2>著者</h2><p>オリジナルの Samba ソフトウェアと関連するユーティリティは、Andrew
	Tridgell によって作成された。現在 Samba は Samba Team に
	よって、Linuxカーネルの開発と同様のオープンソースプロジェクト
	として開発が行なわれている。</p></div><div class="refsect1" title="日本語訳"><a name="id2491001"/><h2>日本語訳</h2><p>このドキュメントは、Samba 3.0.25 および Samba 3.2.4-3.3.12対応のものである。</p><p>このドキュメントのSamba 3.2.4-3.3.12対応の翻訳は
		</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>平田祥司 (shouji@microft.co.jp)</p></li><li class="listitem"><p>堀田 倫英(hotta@net-newbie.com)</p></li></ul></div><p>	
        によって行なわれた。</p></div></div></body></html>
