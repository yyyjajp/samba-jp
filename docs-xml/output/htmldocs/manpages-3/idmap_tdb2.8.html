<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>idmap_tdb2</title><link rel="stylesheet" href="../samba.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.75.2"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="refentry" title="idmap_tdb2"><a name="idmap_tdb2.8"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>idmap_tdb2 &#8212; Samba &#12398; Winbind &#29992; idmap_tdb2 &#12496;&#12483;&#12463;&#12456;&#12531;&#12489;</p></div><div class="refsynopsisdiv" title="&#35500;&#26126;"><h2>&#35500;&#26126;</h2><p>
    idmap_tdb2 &#12503;&#12521;&#12464;&#12452;&#12531;&#12399;&#12487;&#12501;&#12457;&#12523;&#12488;&#12398; idmap_tdb &#12496;&#12483;&#12463;&#12456;&#12531;&#12489;&#12398;&#20195;&#26367;&#12392;
    &#12394;&#12427;&#12418;&#12398;&#12391;&#12289;Samba &#12392; CTDB &#12395;&#12362;&#12369;&#12427;&#12463;&#12521;&#12473;&#12479;&#29872;&#22659;&#12395;&#12362;&#12356;&#12390; winbindd &#12364;
    SID/uid/gid &#12398;&#23550;&#24540;&#34920;&#12434;&#26684;&#32013;&#12377;&#12427;&#12398;&#12395;&#20351;&#12431;&#12428;&#12427;&#12290;
	</p><p>
    idmap_rid &#12398;&#12424;&#12358;&#12394;&#12496;&#12483;&#12463;&#12456;&#12531;&#12489;&#12399;&#12522;&#12540;&#12489;&#12458;&#12531;&#12522;&#12540;&#12391;&#12354;&#12427;&#12364;&#12289;&#12371;&#12428;&#12399;
    &#21106;&#12426;&#24403;&#12390;&#27231;&#33021;&#12434;&#25345;&#12388;&#12496;&#12483;&#12463;&#12456;&#12531;&#12489;&#12384;&#12392;&#35328;&#12360;&#12427;&#12290;&#12388;&#12414;&#12426;&#12289;&#26032;&#12375;&#12356;&#12510;&#12483;&#12500;&#12531;&#12464;
    &#12434;&#29983;&#25104;&#12377;&#12427;&#12383;&#12417;&#12395;&#12289;&#26032;&#12375;&#12356;&#12518;&#12540;&#12470;&#12420;&#12464;&#12523;&#12540;&#12503;&#12398; ID &#12434;&#21106;&#12426;&#24403;&#12390;&#12427;&#24517;&#35201;&#12364;
    &#12354;&#12427;&#12392;&#12356;&#12358;&#12371;&#12392;&#12391;&#12354;&#12427;&#12290;(&#21106;&#12426;&#24403;&#12390;&#12434;&#21463;&#12369;&#25345;&#12388;)&#12450;&#12525;&#12465;&#12540;&#12479;&#12434; idmap_tdb2
    &#12496;&#12483;&#12463;&#12456;&#12531;&#12489;&#33258;&#36523;&#12364;&#25285;&#24403;&#12377;&#12427;&#12371;&#12392;&#12418;&#12391;&#12365;&#12427;&#12375;&#12289;idmap_tdb &#12420; idmap_ldap
    &#12392;&#12356;&#12387;&#12383;&#20182;&#12398;&#12496;&#12483;&#12463;&#12456;&#12531;&#12489;&#12395;&#12381;&#12398;&#20966;&#29702;&#12434;&#20381;&#38972;&#12377;&#12427;&#12371;&#12392;&#12418;&#12391;&#12365;&#12427;&#12290;&#12371;&#12398;&#27231;&#33021;&#12399;
    <em class="parameter"><code>idmap alloc backend</code></em> &#12497;&#12521;&#12513;&#12540;&#12479;&#12395;&#12424;&#12426;&#26377;&#21177;&#12392;&#12394;&#12427;&#12290;
	</p><p>
    &#27880;&#24847;&#65306;&#12371;&#12398;(&#12418;&#12375;&#12367;&#12399;&#20182;&#12398;&#12450;&#12525;&#12465;&#12540;&#12479;&#12392;&#12394;&#12426;&#12358;&#12427;)&#12496;&#12483;&#12463;&#12456;&#12531;&#12489;&#12391;&#26412;&#27231;&#33021;&#12364;
    &#21205;&#20316;&#12377;&#12427;&#12383;&#12417;&#12395;&#12399;&#12289;&#12487;&#12501;&#12457;&#12523;&#12488;&#12398;&#12496;&#12483;&#12463;&#12456;&#12531;&#12489;&#12364;&#26360;&#12365;&#36796;&#12415;&#21487;&#33021;&#12391;&#12394;&#12369;&#12428;&#12400;
    &#12394;&#12425;&#12394;&#12356;&#12290;uid &#12392; gid &#12398;&#21106;&#12426;&#24403;&#12390;&#12395;&#20351;&#12431;&#12428;&#12427;&#31684;&#22258;&#12399;&#12289;"idmap uid"
    &#12392; "idmap gid" &#12391;&#27083;&#25104;&#12373;&#12428;&#12427;&#12487;&#12501;&#12457;&#12523;&#12488;&#12398;&#31684;&#22258;&#12364;&#20351;&#12431;&#12428;&#12427;&#12290;
	</p><p>
    &#12373;&#12425;&#12395;&#12289;&#26360;&#12365;&#36796;&#12415;&#21487;&#33021;&#12394; idmap &#12496;&#12483;&#12463;&#12456;&#12531;&#12489;&#12434;&#20351;&#12358;&#12377;&#12409;&#12390;&#12398;&#12489;&#12513;&#12452;&#12531;&#12398;
    &#12383;&#12417;&#12395;&#12289;&#21106;&#12426;&#24403;&#12390;&#12434;&#23455;&#34892;&#12391;&#12365;&#12427;&#21807;&#19968;&#12398;&#12464;&#12525;&#12540;&#12496;&#12523;&#12394;&#12496;&#12483;&#12463;&#12456;&#12531;&#12489;&#12364;&#12354;&#12427;&#12398;&#12391;&#12289;
    &#26126;&#31034;&#30340;&#12395; tdb2 &#12398; idmap &#12496;&#12483;&#12463;&#12456;&#12531;&#12489;&#12391;&#27083;&#25104;&#12373;&#12428;&#12383;&#12489;&#12513;&#12452;&#12531;&#12399;&#12289;
    &#21516;&#12376;&#31684;&#22258;&#12434;&#12487;&#12501;&#12457;&#12523;&#12488;&#12398;&#31684;&#22258;&#12392;&#12375;&#12390;&#25345;&#12388;&#12409;&#12365;&#12391;&#12354;&#12427;&#12290;&#12388;&#12414;&#12426;&#12289;&#12464;&#12525;&#12540;&#12496;&#12523;&#12398;
    uid / gid &#12450;&#12525;&#12465;&#12540;&#12479;&#12434;&#20351;&#29992;&#12377;&#12427;&#24517;&#35201;&#12364;&#12354;&#12427;&#12290;&#20197;&#19979;&#12398;&#20363;&#12434;&#35211;&#12390;&#27442;&#12375;&#12356;&#12290;
	</p></div><div class="refsect1" title="IDMAP &#12458;&#12503;&#12471;&#12519;&#12531;"><a name="id2489180"></a><h2>IDMAP &#12458;&#12503;&#12471;&#12519;&#12531;</h2><div class="variablelist"><dl><dt><span class="term">range = low - high</span></dt><dd><p>
            &#12496;&#12483;&#12463;&#12456;&#12531;&#12489;&#12364;&#21106;&#12426;&#24403;&#12390;&#27177;&#38480;&#12434;&#25345;&#12387;&#12390;&#12356;&#12390;&#12289;&#12363;&#12388;&#21033;&#29992;&#21487;&#33021;&#12394; uid &#12392; gid
            &#12398;&#31684;&#22258;&#12434;&#23450;&#32681;&#12377;&#12427;&#12290;&#12371;&#12398;&#12497;&#12521;&#12513;&#12540;&#12479;&#12364;&#25351;&#23450;&#12373;&#12428;&#12394;&#12356;&#22580;&#21512; winbind &#12399;
            &#12501;&#12455;&#12452;&#12523;&#12458;&#12540;&#12496;&#12540;&#12375;&#12390;&#12289;smb.conf &#12398; "idmap uid" &#12392;
             "idmap gid" &#12458;&#12503;&#12471;&#12519;&#12531;&#12434;&#20351;&#12358;&#12290;
		</p></dd></dl></div></div><div class="refsect1" title="IDMAP &#12473;&#12463;&#12522;&#12503;&#12488;"><a name="id2489212"></a><h2>IDMAP &#12473;&#12463;&#12522;&#12503;&#12488;</h2><p>
    tdb2 idmap &#12496;&#12483;&#12463;&#12456;&#12531;&#12489;&#12399;&#12289;id &#12398;&#12510;&#12483;&#12500;&#12531;&#12464;&#12434;&#12473;&#12463;&#12522;&#12503;&#12488;&#12391;&#23455;&#34892;&#12377;&#12427;&#12383;&#12417;&#12398;
    smb.conf &#12398; <em class="parameter"><code>idmap : script</code></em> &#12458;&#12503;&#12471;&#12519;&#12531;&#12434;&#12469;&#12509;&#12540;&#12488;
    &#12375;&#12390;&#12356;&#12427;&#12290;&#12371;&#12398;&#12473;&#12463;&#12522;&#12503;&#12488;&#12399;&#12289;&#20197;&#19979;&#12398;&#12467;&#12510;&#12531;&#12489;&#12521;&#12452;&#12531;&#12458;&#12503;&#12471;&#12519;&#12531;&#12434;&#21463;&#12369;&#20184;&#12369;&#12427;
    &#12424;&#12358;&#12395;&#12394;&#12387;&#12390;&#12356;&#12394;&#12369;&#12428;&#12400;&#12394;&#12425;&#12394;&#12356;&#12290;
	</p><pre class="programlisting">
	SIDTOID S-1-xxxx
	IDTOSID UID xxxx
	IDTOSID GID xxxx
	</pre><p>
    &#12414;&#12383;&#12381;&#12398;&#12473;&#12463;&#12522;&#12503;&#12488;&#12399;&#12289;&#20197;&#19979;&#12398;&#12356;&#12378;&#12428;&#12363;&#12398;&#12524;&#12473;&#12509;&#12531;&#12473;&#12434;&#65297;&#34892;&#12391;&#36820;&#12377;&#12424;&#12358;&#12395;
    &#12394;&#12387;&#12390;&#12356;&#12427;&#24517;&#35201;&#12364;&#12354;&#12427;&#12290;
	</p><pre class="programlisting">
	UID:yyyy
	GID:yyyy
	SID:yyyy
	ERR:yyyy
	</pre><p>
    &#27880;&#24847;&#65306;SID &#12434; UNIX &#12398; ID &#12510;&#12483;&#12500;&#12531;&#12464;&#12395;&#23550;&#12375;&#12390;&#28193;&#12377;&#12395;&#12354;&#12383;&#12426;&#12289;&#12371;&#12398;&#12473;&#12463;&#12522;&#12503;&#12488;&#12399;
    SID &#12398;&#20840;&#31684;&#22258;&#12434;&#12459;&#12496;&#12540;&#12377;&#12427;&#12409;&#12365;&#12391;&#12354;&#12427;&#12290;&#12381;&#12358;&#12391;&#12394;&#12356;&#12392;&#12289;&#12473;&#12463;&#12522;&#12503;&#12488;&#12391;&#12399;&#12459;&#12496;&#12540;
    &#12373;&#12428;&#12390;&#12356;&#12394;&#12356; SID &#12364;&#12289;&#12377;&#12391;&#12395;&#12473;&#12463;&#12522;&#12503;&#12488;&#12391;&#21106;&#12426;&#24403;&#12390;&#28168;&#12415;&#12398; ID &#12395;&#21106;&#12426;&#24403;&#12390;&#12425;&#12428;&#12427;
    &#24656;&#12428;&#12364;&#12354;&#12427;&#12290; 
	</p></div><div class="refsect1" title="&#35373;&#23450;&#20363;"><a name="id2489398"></a><h2>&#35373;&#23450;&#20363;</h2><p>
    tdb2 &#12364;&#12393;&#12398;&#12424;&#12358;&#12395;&#12487;&#12501;&#12457;&#12523;&#12488;&#12398; imapd &#12496;&#12483;&#12463;&#12456;&#12531;&#12489;&#12392;&#12375;&#12390;&#20351;&#12431;&#12428;&#12427;&#12363;&#12392;&#12356;&#12358;
    &#20363;&#12434;&#20197;&#19979;&#12395;&#31034;&#12377;&#12290;&#20840;&#12489;&#12513;&#12452;&#12531;&#12395;&#12388;&#12356;&#12390;&#36969;&#29992;&#12373;&#12428;&#12427;&#12464;&#12525;&#12540;&#12496;&#12523;&#12458;&#12503;&#12471;&#12519;&#12531;&#12391; idmap
    &#12398;&#31684;&#22258;&#12434;&#35373;&#23450;&#12375;&#12390;&#12356;&#12427;&#12371;&#12392;&#12364;&#12431;&#12363;&#12427;&#12290;&#12371;&#12428;&#12392;&#21516;&#12376;&#31684;&#22258;&#12364; uid/gid &#12398;&#21106;&#12426;&#24403;&#12390;
    &#12398;&#38555;&#12395;&#20351;&#12431;&#12428;&#12427;&#12290;
	</p><pre class="programlisting">
	[global]
	idmap backend = tdb2
	idmap uid = 1000000-2000000
	idmap gid = 1000000-2000000
	</pre></div><div class="refsect1" title="&#33879;&#32773;"><a name="id2489426"></a><h2>&#33879;&#32773;</h2><p>
    &#12458;&#12522;&#12472;&#12490;&#12523;&#12398; Samba &#12477;&#12501;&#12488;&#12454;&#12455;&#12450;&#12392;&#38306;&#36899;&#12518;&#12540;&#12486;&#12451;&#12522;&#12486;&#12451;&#12399;&#12289;Andrew Tridgell
    &#12395;&#12424;&#12426;&#26360;&#12363;&#12428;&#12383;&#12290;Samba &#12399;&#29694;&#22312; Samba &#12481;&#12540;&#12512;&#12398;&#20803;&#12391;&#12289;Linux &#12398;&#12459;&#12540;&#12493;&#12523;&#12392;
    &#21516;&#27096;&#12395;&#12458;&#12540;&#12503;&#12531;&#12477;&#12540;&#12473;&#12477;&#12501;&#12488;&#12454;&#12455;&#12450;&#12392;&#12375;&#12390;&#38283;&#30330;&#12373;&#12428;&#12390;&#12356;&#12427;&#12290;
	</p></div><div class="refsect1" title="&#26085;&#26412;&#35486;&#35379;"><a name="id2489445"></a><h2>&#26085;&#26412;&#35486;&#35379;</h2><p>&#12371;&#12398;&#12510;&#12491;&#12517;&#12450;&#12523;&#12506;&#12540;&#12472;&#12399; Samba 3.3.6-3.4.6 &#23550;&#24540;&#12398;&#12418;&#12398;&#12391;&#12354;&#12427;&#12290;</p><p>&#12371;&#12398;&#12489;&#12461;&#12517;&#12513;&#12531;&#12488;&#12398;&#32763;&#35379;&#12399;
    </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>&#22528;&#30000; &#20523;&#33521;(hotta@net-newbie.com)</p></li></ul></div><p>
        &#12395;&#12424;&#12387;&#12390;&#34892;&#12394;&#12431;&#12428;&#12383;&#12290;</p></div></div></body></html>
