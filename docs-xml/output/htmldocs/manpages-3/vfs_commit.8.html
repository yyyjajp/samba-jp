<?xml version="1.0" encoding="UTF-8"?>
<html><head><title>vfs_commit</title><link rel="stylesheet" href="../samba.css" type="text/css"/><meta name="generator" content="DocBook XSL Stylesheets V1.75.2"/></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="refentry" title="vfs_commit"><a name="vfs_commit.8"/><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>vfs_commit — 書き込み済みデータを特定の間隔でフラッシュする</p></div><div class="refsynopsisdiv" title="Synopsis"><h2>Synopsis</h2><div class="cmdsynopsis"><p><code class="literal">vfs objects = commit</code></p></div></div><div class="refsect1" title="説明"><a name="id2529774"/><h2>説明</h2><p>このVFSモジュールは
	<a class="citerefentry" href="samba.7.html"><span class="citerefentry"><span class="refentrytitle">samba</span>(7)</span></a>システムの一部である.</p><p><code class="literal">vfs_commit</code> VFS モジュールはファイルに書き込まれた多くのデータ
	を管理し、指定された単位でファイに書き込む(同期する)。
	</p><p><code class="literal">vfs_commit</code>は次の2つの状況で役に立つ。
	第一に、非常に重要なデータが大量にある場合、commit:dthreshに小さな値を指定すれば
	予期しない電源断に対して被害を最小にとどめることができる。
	第二に、あるシステムでは書き込みデータを早期にフラッシュすることで
	パフォーマンスを向上することができる。
	</p><p>このモジュールはスタッカブルである。</p></div><div class="refsect1" title="オプション"><a name="id2529830"/><h2>オプション</h2><div class="variablelist"><dl><dt><span class="term">commit:dthresh = BYTES</span></dt><dd><p>指定されたバイト数が書き込まれるたびにファイルを同期する
		</p><p>以下のサフィックスが使用可能</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p><code class="literal">K</code> - BYTES はKByte表記</p></li><li class="listitem"><p><code class="literal">M</code> - BYTES はMByte表記</p></li><li class="listitem"><p><code class="literal">G</code> - BYTES はGByte表記</p></li></ul></div></dd></dl></div></div><div class="refsect1" title="設定例"><a name="id2490581"/><h2>設定例</h2><p>512 KBytes(524288 bytes)データを書き込むたびに、ファイルを同期する
	</p><pre class="programlisting">
        <em class="parameter"><code>[precious]</code></em>
	<a class="link" href="smb.conf.5.html#PATH" target="_top">path = /data/precious</a>
	<a class="link" href="smb.conf.5.html#VFSOBJECTS" target="_top">vfs objects = commit</a>
	<a class="link" href="smb.conf.5.html#COMMIT:DTHRESH" target="_top">commit:dthresh = 512K</a>
</pre></div><div class="refsect1" title="警告"><a name="id2490739"/><h2>警告</h2><p>一部のシステムでは、<code class="literal">commit</code>によるデータ同期を行うと
	パフォーマンスを損なうことになる。
	</p></div><div class="refsect1" title="バージョン"><a name="id2490755"/><h2>バージョン</h2><p>このヘルプはSambaシステム　3.0.25(訳注3.x?)に対応している
	</p></div><div class="refsect1" title="著者"><a name="id2490766"/><h2>著者</h2><p>オリジナルの Samba ソフトウェアと関連するユーティリティは、Andrew
	Tridgell によって作成された。現在 Samba は Samba Team に
	よって、Linuxカーネルの開発と同様のオープンソースプロジェクト
	として開発が行なわれている。</p></div><div class="refsect1" title="日本語訳"><a name="id2490781"/><h2>日本語訳</h2><p>このドキュメントは、Samba 3.0.25 - 3.5.4 対応のものである。</p><p>このドキュメントの翻訳は
	</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>平田祥司 (shouji@microft.co.jp)</p></li></ul></div><p>	
        によって行なわれた。</p></div></div></body></html>
