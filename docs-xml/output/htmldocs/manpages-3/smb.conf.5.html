<?xml version="1.0" encoding="UTF-8"?>
<html><head><title>smb.conf</title><link rel="stylesheet" href="../samba.css" type="text/css"/><meta name="generator" content="DocBook XSL Stylesheets V1.75.2"/></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="refentry" title="smb.conf"><a name="smb.conf.5"/><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>smb.conf — Samba の設定ファイル</p></div><div class="refsect1" title="概要"><a name="id2529763"/><h2>概要</h2><p><code class="filename">smb.conf</code> ファイルは Samba
	システムの設定ファイルである。<code class="filename">smb.conf
	</code> には、Samba システムの各プログラムが実行時に参照する設定情報が記述される。
	<code class="filename">smb.conf</code> 
	ファイルは、<a class="citerefentry" href="swat.8.html"><span class="citerefentry"><span class="refentrytitle">swat</span>(8)</span></a> プログラムによって設定、
	管理されるように設計されている。
	以下参照目的で、ファイルの形式と設定可能なパラメータに関して網羅的に記述する。
	</p></div><div class="refsect1" title="ファイルの形式"><a name="FILEFORMATSECT"/><h2> ファイルの形式 </h2><p> ファイルはセクションとパラメータから構成される。セクションは、 大括弧(<span class="quote">“<span class="quote">[</span>”</span>
	と <span class="quote">“<span class="quote">]</span>”</span>) で囲まれたセクション名で始まり、次のセクションが始まるまで
	続く。セクション内には以下の形式でパラメータが記述される:
</p><pre class="programlisting">
<em class="replaceable"><code>パラメータ名（パラメータ）</code></em> = <em class="replaceable"><code>パラメータ値（値）</code></em>
</pre><p>
        </p><p>ファイルは行を基本単位とし、改行で終了する各行は、コメント、
	セクション名、パラメータのいずれかを表す。</p><p>セクション名およびパラメータ名は大文字と小文字を区別しない。</p><p>パラメータを示す行では、最初の 「=」 文字に重要な意味がある。
	最初の 「=」 文字の前後の空白文字は破棄される。
	セクション名およびパラメータ名の先頭、 途中、末尾にある空白文字は
	無視される。パラメータ値の先頭と末尾にある空白文字も無視される。
	ただし、パラメータ値の途中にある空白文字はそのまま意味を持つ。
	</p><p>セミコロン (<span class="quote">“<span class="quote">:</span>”</span>)、シャープ (<span class="quote">“<span class="quote">#</span>”</span>) で始まる行や、空白のみの行は
	無視される。</p><p><span class="quote">“<span class="quote">\</span>”</span> 文字で終わる行は、UNIX の慣習通り次の行へ継続する。
	</p><p> 「=」文字に続くパラメータ値には、文字列
	(引用符で囲む必要はない)、または真偽値を表す、yes/no、0/1、true/false
	のいずれかを記述する。真偽値の場合、大文字と小文字は同じ意味だが、
	記述されたとおりの文字列が保存される。
	create mask など、幾つかのパラメータ値は数値となる。
	</p></div><div class="refsect1" title="セクションの説明"><a name="id2490609"/><h2>セクションの説明</h2><p>設定ファイル中の ([global] セクションを除く) 各セクションでは、
	共有リソース (単に<span class="quote">“<span class="quote">共有</span>”</span>とも呼ぶ 
	(訳注: 「サービス」とも呼ばれる)) の設定が行なわれる。
	セクション名は共有リソース名となり、
	セクション内のパラメータは共有の設定に利用される。</p><p>[global]、[homes]、[printers] という 3 つの特殊なセクションに
	ついては、<span class="emphasis"><em>特殊なセクション</em></span> で説明する。
	以下の説明は、通常のセクションについてのものである。</p><p>共有の設定としては、大きくアクセスを許可するディレクトリの設定と
	それを利用するユーザに対するアクセス許可の設定とがある。
	その他いくつかの補助的なオプションの指定も可能である。</p><p>セクションは、ファイル共有サービス 
	(クライアントからファイルシステムの延長として利用される)
	とプリントサービス (クライアントからサーバ上で動作している
	印刷サービスにアクセスするために利用される) のいずれかに分類される。
	</p><p>セクションは、パスワードなしでアクセスできる
	<span class="emphasis"><em>ゲスト</em></span> サービスとして構成することもできる。
	この場合、UNIX 側で指定された<span class="emphasis"><em>ゲストアカウント</em></span>の権限でアクセスが
	行なわれる。</p><p>ゲストサービス以外のセクションにアクセスするにはパスワードが
	必要である。通常クライアントからはユーザ名も提供されるが、
	年代物のクライアントはパスワードのみでユーザ名を提供しないため、
	<span class="quote">“<span class="quote">user =</span>”</span> パラメータで指定したユーザのリストを用いてパスワードの検証を
	行なうことも可能である。Windows 95/98/Me/NT/2000 のような最近の
	クライアントでは、このパラメータは不要である。</p><p>Samba より与えられたアクセス権は、システムより UNIX ユーザ
	(またはゲストユーザ) に与えられたアクセス権によって制限されることに注意して欲しい。
	Samba はシステムが許可する以上のアクセス権を許可することはできない。</p><p> 以下の簡単なセクションは、ファイル共有を定義するものである。
	ユーザは <code class="filename">/home/bar</code>
	に対して書き込みができる。 共有は、<code class="literal">foo</code>
	という共有名でアクセス可能である:
</p><pre class="programlisting">
	<em class="parameter"><code>[foo]</code></em>
	<a class="link" href="smb.conf.5.html#PATH" target="_top">path = /home/bar</a>
	<a class="link" href="smb.conf.5.html#READONLY" target="_top">read only = no</a>
</pre><p>
	</p><p> 以下の簡単なセクションは印刷サービスを定義するものである。
	共有は読み取りのみであるが、印刷可能である。これは、
	スプールファイルのオープン、書き込み、クローズという作業についてのみ書き込みが許可されるということである。<span class="emphasis"><em>guest ok</em></span>
	パラメータは、(別途定義された) デフォルトのゲストユーザとしてアクセスが許可されていることを意味する:
</p><pre class="programlisting">
	<em class="parameter"><code>[aprinter]</code></em>
	<a class="link" href="smb.conf.5.html#PATH" target="_top">path = /usr/spool/public</a>
	<a class="link" href="smb.conf.5.html#READONLY" target="_top">read only = yes</a>
	<a class="link" href="smb.conf.5.html#PRINTABLE" target="_top">printable = yes</a>
	<a class="link" href="smb.conf.5.html#GUESTOK" target="_top">guest ok = yes</a>
</pre><p>
	</p></div><div class="refsect1" title="特殊なセクション"><a name="id2490939"/><h2>特殊なセクション</h2><div class="refsect2" title="[global] セクション"><a name="id2490944"/><h3>[global] セクション</h3><p>このセクション中のパラメータは、サーバ全体に対して、
		もしくは各セクションで項目が定義していないときの既定値として
		適用される。詳細な情報はパラメータ(PARAMETERS)の節を参照のこと。</p></div><div class="refsect2" title="[homes] セクション"><a name="HOMESECT"/><h3>[homes] セクション</h3><p> homes セクションが設定ファイル中にあると、
		接続してきたユーザのホームディレクトリを共有するサービスが
		必要時にサーバによって作成されるようになる。</p><p>接続の要求が行なわれると、存在するセクションが検索される。
		要求に合致するセクションが見つかった場合はそのセクションが
		利用される。見つからなかった場合は、
		要求されたセクション名をユーザ名とみなしてローカルのパスワードファイルが検索される。
		ファイル中に名前が存在して、パスワードが適切だった場合、
		[homes] セクションの設定を引き継ぐ形で共有が作成される。
		</p><p>新しく作成される共有に対しては、
		幾つかの変更が行なわれる:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>共有名は、homes からユーザ名に変更される。
		</p></li><li class="listitem"><p>path パラメータが設定されていなかった場合、
		ディレクトリのパスはユーザのホームディレクトリに設定される。
		</p></li></ul></div><p><span class="emphasis"><em>path = </em></span> 行を [homes]
		セクションに記述した場合、"%S" マクロを用いると便利になる
		場合があるかも知れない。以下に一例を示す:</p><p><strong class="userinput"><code>path = /data/pchome/%S</code></strong></p><p>これは、UNIX からのアクセスと PC
		からのアクセスとでホームディレクトリが異なる場合に便利である。
		</p><p> これは多数のクライアントに対するホームディレクトリの
		提供を最小の手間で素早く簡単に実現する方法である。</p><p>要求されたセクション名が <span class="quote">“<span class="quote">homes</span>”</span>
		の場合にも同様の処理が行われるが、共有名が要求したユーザの
		名前に変更されることはない。 [homes] セクションを使用する
		方法は、複数のユーザがクライアント PC を共有する場合に
		便利である。</p><p>[homes] セクションでは、通常のサービスで指定可能な
		すべてのパラメータを指定できるが、幾つかのものは他の
		セクションと少し違った意味になる。以下は典型的な [homes]
		セクションの例である:
</p><pre class="programlisting">
<em class="parameter"><code>[homes]</code></em>
<a class="link" href="smb.conf.5.html#READONLY" target="_top">read only = no</a>
</pre><p>
		</p><p>重要な点として、[homes] セクションでゲストアクセスを許可した場合、
		全てのホームディレクトリが全てのクライアントから
		<span class="emphasis"><em>パスワードなしで</em></span> アクセス可能になるという点が挙げられる。
		ほとんどあり得ないと思うが、もしこの設定を実際に行なうのであれば、<span class="emphasis"><em>読み取り専用</em></span>
		アクセスの設定にしておくことが好ましいであろう。</p><p>自動的に作成されるホームディレクトリの 
		<span class="emphasis"><em>browseable</em></span> パラメータの値は、[homes]
		セクションの browseable パラメータからではなく、[global]
		セクションの browseable パラメータより継承される。これは、
		[homes] セクションで <span class="emphasis"><em>browseable = no</em></span>
		を指定して [homes] 共有を不可視にしても、自動的に作成されるホームディレクトリを表示させるようにするための仕様である。
		</p></div><div class="refsect2" title="[printers] セクション"><a name="PRINTERSSECT"/><h3>[printers] セクション</h3><p>このセクションは、プリンタ用の [homes] セクションに
		相当する。</p><p>[printers] セクションが設定されていると、ユーザは、
		ローカルホストの printcap ファイルで設定されている各プリンタに接続することが可能となる。</p><p>接続の要求が行なわれると、存在するセクションが検索される。
		要求に合致するセクションが見つかった場合はそのセクションが利用される。
		見つからなかった場合、[homes] セクションがあれば前述した処理が行なわれる。
		それでも要求が解決できない場合は、
		要求されたセクション名をプリンタ名とみなし、
		適切な pritcap ファイルが検索され、
		要求されたセクション名をプリンタ共有名とみなすかどうかの
		確認が行なわれる。ファイル中に名前が存在した場合は、
		[printers] セクションの設定を引き継ぐ形でプリンタ共有が
		作成される。</p><p>新しく作成される共有に対しては、
		幾つかの変更が行なわれる:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>共有名には、実際のプリンタ名が設定される。
		</p></li><li class="listitem"><p>プリンタ名が設定されていない場合、
		プリンタ名として実際のプリンタ名が設定される。
		</p></li><li class="listitem"><p> 共有がゲストアクセスを許可しておらず、
		username パラメータも指定されていない場合、username
		に実際のプリンタ名が設定される。</p></li></ul></div><p>[printers] サービスは、必ず printable にすること。
		それ以外の設定を行なうと、サーバが設定ファイルの読み取りを
		拒否してしまう。</p><p>通常指定されるパスは、sticky ビットが設定され、
		誰でも書き込み可能になっているスプールディレクトリである。
		典型的な [printers] のエントリは次のようになる:
</p><pre class="programlisting">
<em class="parameter"><code>[printers]</code></em>
<a class="link" href="smb.conf.5.html#PATH" target="_top">path = /usr/spool/public</a>
<a class="link" href="smb.conf.5.html#GUESTOK" target="_top">guest ok = yes</a>
<a class="link" href="smb.conf.5.html#PRINTABLE" target="_top">printable = yes</a>
</pre><p>
		</p><p> printcap ファイル中で定義されているすべてのプリンタの
		エイリアス(別名)は、プリンタ名として認識される。
		印刷システムが printcap ファイルのような機構を使用して
		いないのであれば、仮の printcap ファイルを設定する必要がある。
		このファイルは以下のような形式の行で構成される:
</p><pre class="programlisting">
alias|alias|alias|alias...    
</pre><p>
		</p><p>各エイリアスは、印刷システムが処理可能なプリンタ名で
		ある必要がある。[global] セクションで、別のファイルを printcap
		ファイルとして指定することで、仮想的な printcap
		ファイル中にある名前のみがサーバに認識される。
		もちろんこのファイル中には任意のエイリアスを記述することが
		可能である。このテクニックは、ローカルプリンタの一部のみに
		アクセスを制限する機能を簡単に実現するためにも利用できる。
		</p><p>なお、エイリアスとは printcap ファイル中の各レコードの
		最初のエントリに続く各要素をさす。
		各レコードは改行コードで区切られ、各要素は (複数個存在する場合)
		縦棒 (<code class="literal">|</code>) で区切られる。</p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>lpstat コマンドによりシステムで定義されている
		プリンタの一覧を取得可能な SYSV 系のシステムでは、
		<code class="literal">printcap name = lpstat</code> とすることで、
		プリンタの一覧を取得することが可能である。
		詳細は、<code class="literal">printcap name</code> オプションを参照のこと。
		</p></div></div></div><div class="refsect1" title="ユーザ定義共有"><a name="id2491371"/><h2>ユーザ定義共有</h2><p>Samba 3.0.23 より、root 以外のユーザが共有の追加、修正、削除を行なうことを可能とする機能が追加された。
	この機能を <span class="emphasis"><em>ユーザ定義共有(usershares)</em></span> と呼び、
	smb.conf の <em class="parameter"><code/></em> セクションで定義される一連のパラメータによって制御される。
	関連するパラメータを以下に示す :
	</p><div class="variablelist"><dl><dt><span class="term">usershare allow guests</span></dt><dd><p>ユーザ定義共有でゲストアクセスを許可するかどうかを制御する。</p></dd><dt><span class="term">usershare max shares</span></dt><dd><p>作成を許可するユーザ定義共有の最大数を制御する。</p></dd><dt><span class="term">usershare owner only</span></dt><dd><p>有効にすると、ユーザが所有しているディレクトリのみが共有可能となる。</p></dd><dt><span class="term">usershare path</span></dt><dd><p>ユーザ定義共有を作成可能なディレクトリを指定する。
		実際にユーザ定義共有を作成可能かどうかは、ファイルシステム上のディレクトリのパーミッションに依存する。</p></dd><dt><span class="term">usershare prefix allow list</span></dt><dd><p>共有を許可するディレクトリの絶対パス名をコンマで区切って列挙する。
		ここで指定されたパス名から始まるディレクトリのみが共有を許可される。</p></dd><dt><span class="term">usershare prefix deny list</span></dt><dd><p>共有を拒否するディレクトリの絶対パス名をコンマで区切って列挙する。
		ここで指定されたパス名から始まるディレクトリは共有を拒否される。</p></dd><dt><span class="term">usershare template share</span></dt><dd><p>新しいユーザ定義共有を作成する際のテンプレートとなる既存の共有を指定する。
		ユーザ定義共有の定義時に指定されなかったすべての共有に関するパラメータは、この共有のものが用いられる。</p></dd></dl></div><p>UNIX グループ <code class="literal">foo</code> のメンバにユーザ定義共有の作成を許可したい場合は、
	共有の定義ファイルを格納するディレクトリを以下のように作成する:
	</p><p>root 権限で以下を実施:
</p><pre class="programlisting">
mkdir /usr/local/samba/lib/usershares
chgrp foo /usr/local/samba/lib/usershares
chmod 1770 /usr/local/samba/lib/usershares
</pre><p>
</p><p>ついで、以下のパラメータ
</p><pre class="programlisting">
	<a class="link" href="smb.conf.5.html#USERSHAREPATH" target="_top">usershare path = /usr/local/samba/lib/usershares</a>
	<a class="link" href="smb.conf.5.html#USERSHAREMAXSHARES" target="_top">usershare max shares = 10</a> # (もしくは必要な共有数)
</pre><p> 
	</p><p>
	を <code class="filename">smb.conf</code>の global セクションに追加。
	これにより foo グループのメンバは、以下のコマンドでユーザ定義共有を作成することが可能となる。</p><div class="variablelist"><dl><dt><span class="term">net usershare add sharename path [comment] [acl] [guest_ok=[y|n]]</span></dt><dd><p>これにより、ユーザ定義共有を作成もしくは修正(上書き)する。</p></dd><dt><span class="term">net usershare delete sharename</span></dt><dd><p>ユーザ定義共有を削除する。</p></dd><dt><span class="term">net usershare list wildcard-sharename</span></dt><dd><p>ユーザ定義共有を一覧する。</p></dd><dt><span class="term">net usershare info wildcard-sharename</span></dt><dd><p>ユーザ定義共有の情報を表示する。</p></dd></dl></div></div><div class="refsect1" title="パラメータ"><a name="id2487195"/><h2>パラメータ</h2><p>パラメータはセクションの属性を定義するものである。</p><p>幾つかのパラメータ (<span class="emphasis"><em>security</em></span> など) は、
	[global] セクションで指定する。また幾つかのパラメータ
	(<span class="emphasis"><em>create mask</em></span> など) は、すべてのセクションで
	利用可能である。それ以外のパラメータは、通常のセクションでのみ
	利用できる。以下の説明では、[homes] と [printers] セクションを "通常の"
	セクションとして扱う。(<span class="emphasis"><em>G</em></span>) がついたパラメータは、
	[global] セクションでのみ指定できる。(<span class="emphasis"><em>S</em></span>)
	がついたパラメータは、個々のサービスを表すセクションで指定できる。
	ただし、(<span class="emphasis"><em>S</em></span>) がついたパラメータは、[global]
	セクション中で指定することも可能である。この場合、それらはすべての
	サービスに対するデフォルト値として機能する。</p><p> パラメータはアルファベット順に説明されている。
	最良の順序とはいえないが、少なくとも目的のパラメータを見つけることは
	できるだろう。同義語がある場合は、主として用いるべき表記の部分で
	説明が行なわれ、他はその表記への参照になっている。</p></div><div class="refsect1" title="変数による置換"><a name="id2487267"/><h2>変数による置換</h2><p>設定ファイルに記述可能な文字列の多くには、変数による置換を利用できる。
	たとえば、<span class="quote">“<span class="quote">path = /tmp/%u</span>”</span> は、john というユーザ名でユーザが
	接続すると、<span class="quote">“<span class="quote">path = /tmp/john</span>”</span> として解釈される。</p><p>これら置換の詳細については、各々のパラメータの説明にて
	解説するが、どのパラメータに対しても適用される共通の変数置換もいくつか
	存在する。それらを以下に記載する: </p><div class="variablelist"><dl><dt><span class="term">%U</span></dt><dd><p>セッションのユーザ名 (クライアントが接続時に
		送信したものであるが、実際に接続したユーザ名と同じであるとは
		限らない)。</p></dd><dt><span class="term">%G</span></dt><dd><p>%U のプライマリグループ。</p></dd><dt><span class="term">%h</span></dt><dd><p>Samba が動作しているマシンの
		インターネットホスト名。</p></dd><dt><span class="term">%m</span></dt><dd><p>クライアントマシンの NetBIOS 名 (とても便利)。</p><p>Samba がポート 445 で待機している場合、クライアントがこの情報を送信しないため、この変数は利用できない。
			Samba がドメインコントローラであるドメインで include パラメータにおいてこの変数を用いている場合などは、
			[global] セクションで <em class="parameter"><code>smb ports = 139</code></em> の設定を行なうこと。
			これにより Samba はポート 445 で待機しなくなり、Samba 2.X で実現していた include 機能が利用できる。
			</p></dd><dt><span class="term">%L</span></dt><dd><p>サーバの NetBIOS 名。これを用いることで、
		クライアントから呼ばれた名前に応じて設定を変更することが
		可能となる。これによりサーバは <span class="quote">“<span class="quote">二つの顔</span>”</span>
		を持つことができる。
		</p></dd><dt><span class="term">%M</span></dt><dd><p>クライアントマシンのインターネットホスト名。
		</p></dd><dt><span class="term">%R</span></dt><dd><p>プロトコルのネゴシエーションを経て選択された
		プロトコルレベル。これは CORE、COREPLUS、LANMAN1、LANMAN2、NT1
		のいずれかの値をとる。</p></dd><dt><span class="term">%d</span></dt><dd><p>サーバプロセスのプロセス ID。
		</p></dd><dt><span class="term">%a</span></dt><dd><p>リモートマシンのアーキテクチャ。
		現在認識できるのは
		Samba (<code class="constant">Samba</code>)、 
		Linux の CIFS ファイルシステム (<code class="constant">CIFSFS</code>)、
		OS/2 (<code class="constant">OS2</code>)、
		Windows for Workgroups (<code class="constant">WfWg</code>)、
		Windows 9x/Me (<code class="constant">Win95</code>)、
		Windows NT (<code class="constant">WinNT</code>)、
		Windows 2000 (<code class="constant">Win2K</code>)、
		Windows XP (<code class="constant">WinXP</code>)、
		Windows XP 64-bit(<code class="constant">WinXP64</code>),
		2003R2 (<code class="constant">Win2K3</code>)を含むWindows Server 2003 (<code class="constant">Win2K3</code>)と,
		Windows Vista (<code class="constant">Vista</code>) である。
		それ以外のものは <span class="quote">“<span class="quote">UNKNOWN</span>”</span> となる。</p></dd><dt><span class="term">%I</span></dt><dd><p>クライアントマシンの IP アドレス。</p></dd><dt><span class="term">%i</span></dt><dd><p>クライアントが接続してきたサーバの IP アドレス。</p></dd><dt><span class="term">%T</span></dt><dd><p>現在の日付と時間。</p></dd><dt><span class="term">%D</span></dt><dd><p>現ユーザが所属するドメインかワークグループ名。
		</p></dd><dt><span class="term">%w</span></dt><dd><p>Winbind のセパレータ</p></dd><dt><span class="term">%$(<em class="replaceable"><code>envvar</code></em>)</span></dt><dd><p>環境変数<em class="replaceable"><code>envvar</code></em>の値。
		</p></dd></dl></div><p>以下の置換マクロは (すでに接続が確立されている場合に) いくつかの
	設定オプションに対して有効なものである:</p><div class="variablelist"><dl><dt><span class="term">%S</span></dt><dd><p>現在のサービス名 (存在する場合)。</p></dd><dt><span class="term">%P</span></dt><dd><p>現在のサービスのトップディレクトリ
		(存在する場合)。</p></dd><dt><span class="term">%u</span></dt><dd><p>現在のサービスのユーザ名 (存在する場合)。
		</p></dd><dt><span class="term">%g</span></dt><dd><p>%u のプライマリグループ。</p></dd><dt><span class="term">%H</span></dt><dd><p>%u で指定されたユーザのホームディレクトリ。
		</p></dd><dt><span class="term">%N</span></dt><dd><p>NIS のホームディレクトリサーバの名前。
		これは NIS の auto.map エントリから取得される。Samba が
		<span class="emphasis"><em>--with-automount</em></span> オプションをつけて
		コンパイルされていない場合、このオプションは %L と同じになる。
		</p></dd><dt><span class="term">%p</span></dt><dd><p>NIS auto.map エントリから取得された サーバの
		ホームディレクトリのパス。NIS auto.map エントリは
		<code class="literal">%N:%p</code> のように分割されている。</p></dd></dl></div><p> これらの置換操作とその他の <code class="filename">smb.conf</code> 
	のパラメータを組み合わせると、非常に凝った動作を設定できる。</p></div><div class="refsect1" title="名前の短縮(NAME MANGLING)"><a name="NAMEMANGLINGSECT"/><h2>名前の短縮(NAME MANGLING)</h2><p>Samba は、DOS や Windows クライアントが 8.3 形式に準拠しない
	名前のファイルを扱うことができるように <span class="quote">“<span class="quote">名前の短縮</span>”</span>
	機能を提供している。この機能により、8.3 形式のファイル名についても
	文字の case (大文字、小文字) を調整可能である。</p><p>短縮時の動作を制御するパラメータが幾つか存在しており、
	それらは個々に解説を行なわず、ここでまとめて説明を行なう。
	デフォルト値は testparm コマンドの出力を参照のこと。</p><p>以下のオプションは、すべて共有毎に設定できる
	(もちろん全体に対しても設定できる)。</p><p>オプションは以下の通りである:</p><div class="variablelist"><dl><dt><span class="term">case sensitive = yes/no/auto</span></dt><dd><p>ファイル名の case を識別するかどうかを制御する。
		識別を行なわない場合、Samba は指定された名前に合致する
		ファイル名の有無を検索することが必要になる。デフォルトは
		<span class="emphasis"><em>auto</em></span> であり、ファイル名の case を識別するクライアント(現在のところ Linux CIFSVFS
		や Samba 3.0.5 以降の smbclient) に対しては、case を識別する(UNIX の case を識別する挙動に準拠する) ファイルシステム上の Samba サーバにアクセスしているものとして通知する。
		Windows および DOS システムでは case を識別するファイル名はサポートされておらず、このパラメータを auto に設定した場合、no の設定で動作する。
		デフォルトは <span class="emphasis"><em>auto</em></span> である。
		</p></dd><dt><span class="term">default case = upper/lower</span></dt><dd><p>新しく作成されるファイル(現在ファイルシステム上に存在していないファイル)のファイル名のデフォルトの case を制御する。
		デフォルトは <span class="emphasis"><em>lower</em></span> である。
		重要: 
		<a class="link" href="smb.conf.5.html#CASESENSITIVE" target="_top">case sensitive = yes</a>、 <a class="link" href="smb.conf.5.html#PRESERVECASE" target="_top">preserve case = No</a>、
		<a class="link" href="smb.conf.5.html#SHORTPRESERVECASE" target="_top">short preserve case = No</a>
		の場合、このオプションにより、新しく作られるファイル名だけではなく、クライアントから渡される <span class="emphasis"><em>すべての</em></span> ファイル名の case が変更されることに注意。
		非常に多くのファイルを格納するディレクトリの最適化作業の一貫として、この設定変更が必要となる。
		</p></dd><dt><span class="term">preserve case = yes/no</span></dt><dd><p>新しく作成されるファイル(現在ファイルシステム上に存在していないファイル)のファイル名について、クライアントから
		渡された case で作成するか、<code class="literal">デフォルト</code>の case
		で作成するかを制御する。
		デフォルトは <span class="emphasis"><em>yes</em></span>である。
		</p></dd><dt><span class="term">short preserve case = yes/no</span></dt><dd><p> すべて大文字で適切な長さの 8.3 形式に
		準拠した新しく作成されるファイル(現在ファイルシステム上に存在していないファイル)のファイル名について、大文字で作成するか、
		<code class="literal">デフォルト</code> の case で作成するかを制御する。
		このオプションにより、<code class="literal">preserve case = yes</code>
		で長いファイル名が case を保持する設定の時であっても、
		短いファイル名は小文字で作成するといったことが可能になる。
		デフォルトは <span class="emphasis"><em>yes</em></span> である。
		</p></dd></dl></div><p> Samba 3.0 のデフォルトは、Windows NT のサーバと同様に動作する。
	すなわち、case を識別しないが case は保持する。
	ただし、大量のファイルが存在するディレクトリにおいては、case 関連のパラメータを	
	"case sensitive = yes"、"case preserve = no"、"short preserve case = no" に設定するとよいであろう。
	これにより、"default case" パラメータが有効になり、クライアントから送信されるすべてのファイル名が変更される。
	(訳注: 上記設定は、case sensitive = yes によりファイル名の検索を抑止することで、パフォーマンスを向上させようとする意図だと思われる)
	</p></div><div class="refsect1" title="ユーザ名とパスワード認証についての注意"><a name="VALIDATIONSECT"/><h2>ユーザ名とパスワード認証についての注意</h2><p>ユーザがサービスに接続するための方法は幾つかある。サーバは、
	以下のステップを踏みサービスに対して接続を許可するかどうかを確認する。
	すべてのステップが失敗した場合、接続要求は拒否される。
	いずれかのステップで成功した場合、それ以降のステップは行なわれない。
	</p><p>サービスが <span class="quote">“<span class="quote">guest only = yes</span>”</span> となっており、
	サーバが共有レベルのセキュリティ (<span class="quote">“<span class="quote">security = share</span>”</span>)
	で構成されている場合、ステップ 1 から 5 は省かれる。</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>クライアントからユーザ名とパスワードが
		提供されており、それが UNIX システムのパスワード機構によって
		認証された場合、そのユーザ名を使った接続が行なわれる。この
		ステップは <code class="literal">\\server\service%<em class="replaceable"><code>username</code></em></code>
		形式でユーザ名が提供された場合にも行なわれることに注意。
		</p></li><li class="listitem"><p>クライアントからシステムに登録されている
		ユーザ名が提供された場合、そのユーザ名に対する適切な
		パスワードが提供されれば、接続が許可される。</p></li><li class="listitem"><p> クライアントの NetBIOS 名および以前に使われた
		ユーザ名について提供されたパスワードとの確認が行なわれ、
		合致すれば、対応するユーザ名を使った接続が許可される。
		</p></li><li class="listitem"><p>クライアントが既にユーザ名とパスワードを
		提供してサーバに認証されており、その際の認証トークンが
		提示された場合、そのユーザ名が使われる。</p></li><li class="listitem"><p><code class="literal">user = </code> フィールドが
		<code class="filename">smb.conf</code> ファイルで
		該当サービスに対して設定されており、クライアントから提供された
		パスワードが (UNIX システムのパスワード認証により) 
		<code class="literal">user =</code> 行に記述されたユーザ名のいずれかのものと
		合致した場合、接続は、<code class="literal">user = </code> 行で設定された
		ユーザ名で行なわれる。<code class="literal">user = </code> リスト中のユーザ名の
		中に <code class="literal">@</code> ではじまるものがあった場合、それはその名前の
		グループに所属するユーザ名のリストに展開される。
		</p></li><li class="listitem"><p>サービスがゲストサービスの場合、
		提供されたパスワードがなんであっても、そのサービスの
		<code class="literal">guest account =</code> で指定されたユーザ名で接続が
		行なわれる。</p></li></ol></div></div><div class="refsect1" title="レジストリベースの設定方法"><a name="id2488274"/><h2>レジストリベースの設定方法</h2><p>
		Sambaのバージョン 3.2.0 から、レジストリ中にSambaの設定を
		格納する機能が有効になった。Sambaの設定は、レジストリキー
		 <span class="emphasis"><em><code class="literal">HKLM\Software\Samba\smbconf</code></em></span>中に格納される。
		レジストリベースの設定は2つのレベルがある。
	</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>レジストリに共有の定義を格納する。
		これは、<span class="emphasis"><em>smb.conf</em></span>中のグローバル
		パラメータ<em class="parameter"><code>registry shares</code></em>
		を<span class="quote">“<span class="quote">yes</span>”</span>に設定することで利用可能になる。
		</p><p>レジストリ定義の共有はスタートアップ時にはロードされ
		ないが、<span class="emphasis"><em>smbd</em></span>によって、実行時に動的に
		ロードされる。<span class="emphasis"><em>smb.conf</em></span>中の共有定義
		はレジストリ中での同じ名前の共有定義に優先する。</p></li><li class="listitem"><p>グローバルな<span class="emphasis"><em>smb.conf</em></span>
		オプションをレジストリに格納する。これは,以下の2つの異なった
		方法で有効にできる:</p><p>1番めは、<span class="emphasis"><em>smb.conf</em></span>中の
		[global]セクション中の<a class="link" href="smb.conf.5.html#CONFIGBACKEND" target="_top">config backend = registry</a>を設定することで、レジストリのみの
		設定を有効にできる。これは,この時点まで読み込んだ設定ファイ
		ルの内容をすべてリセットし、レジストリからグローバルセク
		ションの内容を読む。これは、レジストリベースの設定方法を使う
		時の推奨方法である。</p><p>2番目は<span class="emphasis"><em>smb.conf</em></span>の[global]
		セクション中の、特別に新しい意味を持つ、<a class="link" href="smb.conf.5.html#INCLUDE" target="_top">include = registry</a>パラメータによって有効にできる
		混成設定方法である。これは,テキストファイルをインクルード
		するのと同じような優先度で、レジストリからグローバルオプ
		ションを読む。これは,初期設定がレジストリにアクセスするのに
		必要な場合に特に有益である。</p><p>グローバルレジストリオプションの有効化は、レジストリ
		ベースの共有が有効になることで自動的に行われる。そのため、
		レジストリのみの場合、共有は要求時にのみロードされる。</p></li></ol></div><p>
		レジストリベースの設定に伴うシステムの破壊を限定的にするために、
		レジストリでの設定中では、<em class="parameter"><code>lock directory</code></em>と
		<em class="parameter"><code>config backend</code></em>の使用は無効化
		されることに注意。
		特に、レジストリでの設定中に、<em class="parameter"><code>lock directory</code></em>を
		変更してしまい、それがいったん有効化されてしまうと、
		デーモンからはそれの設定自体が見えなくなる、壊れた設定を作成することになる。</p><p>
		レジストリベースの設定は、キー<span class="emphasis"><em><code class="literal">HKLM\Software\Samba\smbconf</code></em></span>を
		 <span class="emphasis"><em>regedit</em></span>や<span class="emphasis"><em>net (rpc)
		registry</em></span>を使ってアクセスすることもできる。
		利便性のため、<a class="citerefentry" href="net.8.html"><span class="citerefentry"><span class="refentrytitle">net</span>(8)</span></a>ユーティリティ
		の<span class="emphasis"><em>conf</em></span>サブコマンドが、レジストリ
		ベースの設定をローカルに読み書きするための特別なインタフェース
		として提供されている。すなわち、データベースファイルに直接
		アクセスし、サーバを迂回できる。
	</p></div><div class="refsect1" title="各パラメータの説明"><a name="id2539588"/><h2>各パラメータの説明</h2><div class="section"><div class="titlepage"/><div class="section" title="abort shutdown script (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2539598"/>

abort shutdown script (G)
</h3></div></div></div><a class="indexterm" name="id2539599"/><a name="ABORTSHUTDOWNSCRIPT"/><div class="variablelist"><dl><dt/><dd><p>
	このパラメータは、 <a class="citerefentry" href="smbd.8.html"><span class="citerefentry"><span class="refentrytitle">smbd</span>(8)</span></a> が呼び出すことで、
	<a class="link" href="smb.conf.5.html#SHUTDOWNSCRIPT" target="_top">shutdown script</a> によって実行されたシャットダウン処理を停止させるスクリプトのフルパス名である。</p><p>接続しているユーザが <code class="constant">SeRemoteShutdownPrivilege</code>
	権限を保持している場合、このコマンドはroot権限で呼び出される。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>abort shutdown script</code></em> = <code class="literal">""</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>abort shutdown script</code></em> = <code class="literal">/sbin/shutdown -c</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="access based share enum (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2539686"/>

access based share enum (S)
</h3></div></div></div><a class="indexterm" name="id2539687"/><a name="ACCESSBASEDSHAREENUM"/><div class="variablelist"><dl><dt/><dd><p>
あるサービスに対してこのパラメータが <code class="constant">yes</code> であれば、
そのサービスで提供される共有は、
（net view \\sambaserver などで）共有の一覧表示が行われる際に、
共有に対して読み取りもしくは書き込みアクセス許可のあるユーザ以外から参照されなくなる。
これは Access-based Enumeration　（訳注：Windows Server 2003 SP1 以降に導入された、アクセス許可のないフォルダを非表示にする機能）と同等の機能である。
主な違いは、共有に対するアクセス許可のみが評価され、共有内のファイルのセキュリティ識別子は、一覧表示の際の参照可否の確認には使用されないことである。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>access based share enum</code></em> = <code class="literal">no</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="acl check permissions (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2539752"/>

acl check permissions (S)
</h3></div></div></div><a class="indexterm" name="id2539753"/><a name="ACLCHECKPERMISSIONS"/><div class="variablelist"><dl><dt/><dd><p>この真偽値パラメータは、
    <a class="citerefentry" href="smbd.8.html"><span class="citerefentry"><span class="refentrytitle">smbd</span>(8)</span></a>
    が Windows クライアントから「open for delete」というプロトコル要求を受けとった際の挙動を制御する。
    Windows クライアントにファイル削除のパーミッションがない場合は、オープン時に失敗することが想定される挙動である。しかし、POSIX システムでは、実際にファイルやディレクトリを削除しようとした段階で、初めて削除のパーミッション確認が行なわれる。
    Windows クライアントは「delete on close」ビットを外すことで、削除のリクエストを「取り止める」ことが可能である。
    このため、Samba が「open for delete」リクエストが行なわれた時点で該当のファイルを削除してみるといった方策も、
    一度削除されたファイルを復活させることはできないため難しい。
    このパラメータが true (デフォルト) の場合、smbd は「open for delete」リクエストの際にファイルシステムのパーミッションを直接チェックし、
    ファイルシステムのパーミッション上削除できないと考えられる場合、該当のリクエストを拒否するようになる。
    これは完全な方法ではなく、Samba がパーミッションを適切に確認できない場合に、ユーザがファイルを削除できてしまう可能性があるが、
    大半の場合は Windows と同様の挙動となるであろう。
    通常 Samba は POSIX ACL の挙動を適切に確認できるはずである。
    </p><p>
    このパラメータを「false」に設定した場合、Samba は「open for delete」リクエストの際にパーミッションの確認を行なわずにオープンを許可する。
    ユーザにファイルを削除するアクセス許可がない場合は、クローズする時までわからない。
    Windows 上のツールにとって、クローズ時点でこれが判明しても遅過ぎるため、ユーザにエラーメッセージが表示されるだろう。
    また、削除したように見えたファイルが Windows 側のエクスプローラで再表示すると「魔法のように」復活するといった現象も発生するであろう。
    これは非常に高度なプロトコルに関するパラメータであり、通常変更する必要はないはずである。
    このパラメータは Samba 3.0.21 で現在の形となったが、現在とは若干挙動が異なる古い版は Samba 3.0.20 で導入された。古い版の挙動について、ここでは言及していない。
    </p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>acl check permissions</code></em> = <code class="literal">True</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="acl compatibility (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2539860"/>

acl compatibility (G)
</h3></div></div></div><a class="indexterm" name="id2539862"/><a name="ACLCOMPATIBILITY"/><div class="variablelist"><dl><dt/><dd><p>このパラメータはどの OS の ACL の挙動と互換性をとるかを指定する。
	設定可能な値は、Windows NT 4.0 互換の <span class="emphasis"><em>winnt</em></span> か、
	Windows 2000 以上と互換の <span class="emphasis"><em>win2k</em></span> もしくは <span class="emphasis"><em>auto</em></span> である。
	<span class="emphasis"><em>auto</em></span> に設定した場合、パラメータの値はクライアントのバージョンに合わせて変更される。
	このパラメータを既定値から変更する必要はないだろう。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>acl compatibility</code></em> = <code class="literal">Auto</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>acl compatibility</code></em> = <code class="literal">win2k</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="acl group control (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2539938"/>

acl group control (S)
</h3></div></div></div><a class="indexterm" name="id2539939"/><a name="ACLGROUPCONTROL"/><div class="variablelist"><dl><dt/><dd><p>
    POSIX ファイルシステムでは、ファイルまたはディレクトリの所有者とスーパーユーザのみがファイルのパーミッションや ACL を修正できる。
    このパラメータを有効にすると、Samba はこの制約を無視して、
    ファイルやディレクトリの <span class="emphasis"><em>プライマリグループ所有者</em></span> が、
    ファイルのパーミッションや ACL を修正することを可能とする。
    </p><p>
    Windows サーバでは、グループがファイルやディレクトリの所有者となることができるため、
    そのグループに所属する誰もがパーミッションを修正することができる。
    これにより、ディレクトリのグループ所有者が、ファイルシステムのある地点以下のセキュリティ管理を委任することが可能となり、
    その配下に作成されるファイルやディレクトリについても、そのグループが所有者となる。
    </p><p>
    このパラメータにより、公開されたディレクトリ階層内で
    Samba が Windows と類似した制御の制御を行なうことを可能とする。
    これは、UNIX グループのメンバ全員がグループ所有者となっているファイルやディレクトリのパーミッション制御を行なうことが可能となることを意味する。
    </p><p>
    このパラメータは、<a class="link" href="smb.conf.5.html#INHERITOWNER" target="_top">inherit owner</a> パラメータが有効で、
    ディレクトリに UNIX の <span class="emphasis"><em>setgid ビット</em></span> が設定された共有で用いる
    のが最適であり、共有内に作成される新しいファイルやディレクトリに、
    親ディレクトリのグループ所有者を継承させることが可能となる。
    </p><p>
    このパラメータは、Samba 3.0.23 において、廃止予定の(deprecated)パラメータとなった。
    しかし、Samba 3.0.31以降で復活し、ユーザが、所有するプライマリグループ中にいるとき、
    パーミッションの変更を制御するのみになった。もはや
    <em class="parameter"><code>dos filemode</code></em>オプションとは異なる。
   </p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>acl group control</code></em> = <code class="literal">no</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="acl map full control (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2540067"/>

acl map full control (S)
</h3></div></div></div><a class="indexterm" name="id2540068"/><a name="ACLMAPFULLCONTROL"/><div class="variablelist"><dl><dt/><dd><p>この真偽値パラメータは、
    <a class="citerefentry" href="smbd.8.html"><span class="citerefentry"><span class="refentrytitle">smbd</span>(8)</span></a>
    が POSIX の ACE エントリでは最大のアクセス権を許可した状態である「rwx(read/write/execute)」を Windows 側の ACL の「フルコントロール」に対応づけるかどうかを制御する。
    このパラメータを true に設定した場合、POSIX ACE で「rwx」のエントリに対して、Windows 側の ACL としては「フルコントロール」が返却される。
    このパラメータが false に設定された場合、POSIX ACE で「rwx」のエントリに対して、
    Windows 側の ACL としては read/write/execute を表すビットを設定したエントリが返却される。
    </p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>acl map full control</code></em> = <code class="literal">True</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="add group script (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2540134"/>

add group script (G)
</h3></div></div></div><a class="indexterm" name="id2540135"/><a name="ADDGROUPSCRIPT"/><div class="variablelist"><dl><dt/><dd><p>このパラメータは、新しいグループの作成が要求された際に、 <a class="citerefentry" href="smbd.8.html"><span class="citerefentry"><span class="refentrytitle">smbd</span>(8)</span></a> によって <span class="emphasis"><em>ROOT 権限で</em></span> 実行されるスクリプトのフルパス名である。
	<em class="parameter"><code>%g</code></em> はグループ名に展開される。
	スクリプトは Windows NT のドメイン管理ツールを使用して設定を行なう際にのみ有効である。
	このスクリプトでは、UNIX側のグループ名の制約に捕らわれず、任意の名前のグループを作成することができる。
	ただし、その場合スクリプトは標準出力に作成されたグループの gid の数値を表示する必要がある。
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>add group script</code></em> = <code class="literal"/>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>add group script</code></em> = <code class="literal">/usr/sbin/groupadd %g</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="add machine script (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2540216"/>

add machine script (G)
</h3></div></div></div><a class="indexterm" name="id2540217"/><a name="ADDMACHINESCRIPT"/><div class="variablelist"><dl><dt/><dd><p>このパラメータは、"$"を付けたマシン名が、SambaのドメインとUnix
アカウントと一致しなかった場合に、
<a class="citerefentry" href="smbd.8.html"><span class="citerefentry"><span class="refentrytitle">smbd</span>(8)</span></a>がマシンを追加する時に実行されるスクリプトのフルパス名である。</p><p>このオプションは、<a class="link" href="smb.conf.5.html#ADDUSERSCRIPT" target="_top">add user script</a>ととてもよく
似ていて、さらに、アカウント名の置換として%uを使う。%mの置換を使ってはいけない。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>add machine script</code></em> = <code class="literal"/>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>add machine script</code></em> = <code class="literal">/usr/sbin/adduser -n -g machines -c Machine -d /var/lib/nobody -s /bin/false %u</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="add port command (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2540296"/>

add port command (G)
</h3></div></div></div><a class="indexterm" name="id2540297"/><a name="ADDPORTCOMMAND"/><div class="variablelist"><dl><dt/><dd><p>Samba 3.0.23 では、Windows の"Add Standard TCP/IP Port
    ウィザード"によるリモートからのプリンタポートの追加がサポートされた。
    このオプションは、smbd がシステムに対する新しいポートの追加要求を受信した際に、
    実行される外部のコマンドを定義する。
    スクリプトは以下の 2 つのパラメータをとる。
    </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p><em class="parameter"><code>ポートの名称</code></em></p></li><li class="listitem"><p><em class="parameter"><code>device URI</code></em></p></li></ul></div><p>deviceURI は socket://&lt;hostname&gt;[:&lt;portnumber&gt;] もしくは
    lpd://&lt;hostname&gt;/&lt;queuename&gt; のように指定する。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>add port command</code></em> = <code class="literal"/>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>add port command</code></em> = <code class="literal">/etc/samba/scripts/addport.sh</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="add printer command (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2540386"/>

add printer command (G)
</h3></div></div></div><a class="indexterm" name="id2540387"/><a name="ADDPRINTERCOMMAND"/><div class="variablelist"><dl><dt/><dd><p>Samba 2.2における Windows NT/2000
	クライアントに対応した MS-RPC ベースの印刷サポートの実装にともない、
	共有の一覧に表示される"Printers... " フォルダ中の
	"プリンタの追加"ウィザード(Add Printer Wizard (APW))アイコンを利用することが可能になった。
	APWにより、SambaやWindows NT/ 2000プリンタサーバに別のマシンからのプリンタ追加が可能となった。</p><p> Sambaホストの場合、これは、下位レイヤの印刷システムにプリンタを物理的に追加できる必要があるということである。
	<em class="parameter"><code>add printer command</code></em> は、
	印刷システムにプリンタを追加するとともに、
	<code class="filename">smb.conf</code> ファイルに対して、
	<a class="citerefentry" href="smbd.8.html"><span class="citerefentry"><span class="refentrytitle">smbd</span>(8)</span></a> によって共有が行なわれるサービスのエントリを適切に追加するのに必要な処理を行なうスクリプトを設定する。</p><p><em class="parameter"><code>add printer command</code></em> は
	以下のパラメータを(順番に)付加して自動的に実行される:
	</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p><em class="parameter"><code>printer name</code></em></p></li><li class="listitem"><p><em class="parameter"><code>share name</code></em></p></li><li class="listitem"><p><em class="parameter"><code>port name</code></em></p></li><li class="listitem"><p><em class="parameter"><code>driver name</code></em></p></li><li class="listitem"><p><em class="parameter"><code>location</code></em></p></li><li class="listitem"><p><em class="parameter"><code>Windows 9x driver location</code></em></p></li></ul></div><p> すべてのパラメータは、一つの例外を除き、
	Windows NT/2000 クライアントから送信される PRINTER_INFO_2 構造体から取得される。
	"Windows 9x driver location"パラメータは、下位互換性を保つためにのみ提供される。
	それ以外の構造体のフィールドは、APWの問い合わせに対する回答から生成される。
	</p><p> <em class="parameter"><code>add printer command</code></em> が実行されると、
	<code class="literal">smbd</code> は、 <code class="filename">smb.conf</code> を再度読み込んで、
	APWで設定された共有がすでに存在していないかを確認する。
	共有名が不正な場合、<code class="literal">smbd</code> は、
	クライアントに対して ACCESS_DENIED エラーを返却する。</p><p><em class="parameter"><code>addprinter command</code></em>は Samba が新しいプリンタが接続するポートとして設定した
	文字列からなる1行を返却する。
	返却されない場合、Samba は印刷共有の再読み込みを行なわない。
    </p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>add printer command</code></em> = <code class="literal"/>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>add printer command</code></em> = <code class="literal">/usr/bin/addprinter</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="add share command (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2540599"/>

add share command (G)
</h3></div></div></div><a class="indexterm" name="id2540600"/><a name="ADDSHARECOMMAND"/><div class="variablelist"><dl><dt/><dd><p>
	Samba 2.2.0 では、Windows NT 4.0 のサーバーマネージャーを利用して共有設定を
	を追加・削除する機能が追加された。
	<em class="parameter"><code>add share command</code></em> は、
	<code class="filename">smb.conf</code>に新しいサービスの設定を追加
	する外部のプログラム、もしくはスクリプトを設定するためのパラメータである。
	</p><p>
	<em class="parameter"><code>add share command</code></em>
	を実行するため、管理者は <code class="literal">smbd</code> にroot
	アカウント(uid = 0)で接続するか、アカウントに<code class="literal">SeDiskOperatorPrivilege</code>
	が付与されている必要がある。
	<em class="parameter"><code>add share command</code></em>で指定された
	スクリプトはroot権限で実行される。
	</p><p>
		コマンド実行時に、<code class="literal">smbd</code>は自動的に以下の
		 5 つの引数を付加して<em class="parameter"><code>add share command</code></em>を実行する。
	</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p><em class="parameter"><code>configFile</code></em> - <code class="filename">smb.conf</code>の場所</p></li><li class="listitem"><p><em class="parameter"><code>shareName</code></em> - 新しい共有名 </p></li><li class="listitem"><p><em class="parameter"><code>pathName</code></em> - ディスク上に「存在している」ディレクトリへのパス名</p></li><li class="listitem"><p><em class="parameter"><code>comment</code></em> - 新しい共有に対するコメント文字列</p></li><li class="listitem"><p><em class="parameter"><code>max connections</code></em> 共有への最大同時接続数。</p></li></ul></div><p>
	このパラメータは、ファイル共有の追加にのみ使われる。印刷共有の追加については、
	<a class="link" href="smb.conf.5.html#ADDPRINTERCOMMAND" target="_top">addprinter command</a> を参照のこと。
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>add share command</code></em> = <code class="literal"/>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>add share command</code></em> = <code class="literal">/usr/local/bin/addshare</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="add user script (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2540800"/>

add user script (G)
</h3></div></div></div><a class="indexterm" name="id2540801"/><a name="ADDUSERSCRIPT"/><div class="variablelist"><dl><dt/><dd><p>このパラメータは、以下に記述する特別な条件下において、 <a class="citerefentry" href="smbd.8.html"><span class="citerefentry"><span class="refentrytitle">smbd</span>(8)</span></a> によって <span class="emphasis"><em>ROOT 権限で</em></span> 実行されるスクリプトのフルパス名である。</p><p>通常、Samba サーバでは、サーバ上のファイルにアクセスするすべてのユーザに対して対応する UNIX ユーザが存在している必要がある。しかし、Windows NT のアカウントデータベースをユーザデータベースのマスタとして使うサイトでは、 Samba サーバ上のユーザの作成や保守を Windows NT の PDC と同期して行なうのは骨の折れる作業である。このオプションにより、Samba サーバに対してユーザがアクセスした時点で smbd が UNIX のユーザを <span class="emphasis"><em>必要に応じて</em></span> 作成することが可能になる。</p><p>このオプションを使う場合、 <a class="citerefentry" href="smbd.8.html"><span class="citerefentry"><span class="refentrytitle">smbd</span>(8)</span></a> は <span class="emphasis"><em>決して</em></span>
	<a class="link" href="smb.conf.5.html#SECURITY" target="_top">security = share</a> で構成されていてはならず、
	<a class="link" href="smb.conf.5.html#ADDUSERSCRIPT" target="_top">add user script</a> には、
	作成される UNIX のユーザ名を表す <em class="parameter"><code>%u</code></em> を引数にとり、
	UNIX ユーザを作成するスクリプトのフルパス名が設定されている必要がある。
	</p><p>Windows のユーザが Samba サーバにアクセスしようとして、
	ログイン(SMB プロトコルの session setup) を行なう時に、 
	<a class="citerefentry" href="smbd.8.html"><span class="citerefentry"><span class="refentrytitle">smbd</span>(8)</span></a> は、送信されたユーザ名とパスワードを認証するために、 
	<a class="link" href="smb.conf.5.html#PASSWORDSERVER" target="_top">password server</a> と通信を行なう。
	認証が成功すると、 <code class="literal">smbd</code> は
	UNIX 上のパスワードデータベース中から対応する UNIX のユーザを検索して
	Windows のユーザに対応づけようとする。この検索が失敗し、
	<a class="link" href="smb.conf.5.html#ADDUSERSCRIPT" target="_top">add user script</a>	が設定されていると、 
	<code class="literal">smbd</code> は、 
	<em class="parameter"><code>%u</code></em> 引数を作成すべきユーザ名に展開した上で、
	設定されたスクリプトを <span class="emphasis"><em>ROOT 権限で</em></span> 呼び出す。</p><p>スクリプトがユーザの作成に成功すると、 <code class="literal">smbd
	</code> は、その UNIX ユーザがすでに存在していたかのようにして処理を継続する。このようにして、存在する Windows NT のアカウントに対応する UNIX のユーザが動的に作成される。</p><p>
	(訳注: この他に、Samba のドメイン環境において add user script はリモートからの要求によりユーザを作成するという重要な役割がある。)
	</p><p>
	<a class="link" href="smb.conf.5.html#SECURITY" target="_top">security</a>, <a class="link" href="smb.conf.5.html#PASSWORDSERVER" target="_top">password server</a>,
	<a class="link" href="smb.conf.5.html#DELETEUSERSCRIPT" target="_top">delete user script</a> も参照のこと。
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>add user script</code></em> = <code class="literal"/>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>add user script</code></em> = <code class="literal">/usr/local/samba/bin/add_user %u</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="add user to group script (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2541064"/>

add user to group script (G)
</h3></div></div></div><a class="indexterm" name="id2541065"/><a name="ADDUSERTOGROUPSCRIPT"/><div class="variablelist"><dl><dt/><dd><p>このパラメータは、 Windows NT のドメイン管理ツールによってユーザにグループが追加された際に実行されるスクリプトのフルパス名である。
	これは <a class="citerefentry" href="smbd.8.html"><span class="citerefentry"><span class="refentrytitle">smbd</span>(8)</span></a>	によって <span class="emphasis"><em>ROOT 権限で</em></span> 呼び出される。
	<em class="parameter"><code>%g</code></em> はグループ名に置換され、
	<em class="parameter"><code>%u</code></em> はユーザ名に置換される。
	</p><p>
	<code class="literal">adduser</code> コマンドは、すべてのシステムにおいて、
	以下の例で用いた構文をサポートしているわけではないことに注意。
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>add user to group script</code></em> = <code class="literal"/>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>add user to group script</code></em> = <code class="literal">/usr/sbin/adduser %u %g</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="administrative share (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2541159"/>

administrative share (S)
</h3></div></div></div><a class="indexterm" name="id2541160"/><a name="ADMINISTRATIVESHARE"/><div class="variablelist"><dl><dt/><dd><p>このパラメータが共有のために <code class="constant">yes</code>
になっている場合、その共有は管理用となる。管理用の共有は Windows NT
ベースのすべてのオペレーティングシステムで作られるデフォルトの
ネットワーク共有であり、C$, D$, ADMIN$ などと同様のものである。
これらの共有のタイプは STYPE_DISKTREE_HIDDEN となる。</p><p>このオプションに関する詳細は、後述の
<a class="link" href="smb.conf.5.html#SECURITY" target="_top">security</a> を参照してほしい。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>administrative share</code></em> = <code class="literal">no</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="admin users (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2541223"/>

admin users (S)
</h3></div></div></div><a class="indexterm" name="id2541224"/><a name="ADMINUSERS"/><div class="variablelist"><dl><dt/><dd><p> このパラメータは、共有上で管理者権限が与えられるユーザのリストである。
    指定されたユーザは、すべてのファイル操作をスーパーユーザ (root) として実行できる。</p><p> このリストに登録されているユーザは、
    ファイルのパーミッションに関係なくあらゆる操作を行うことができてしまうため、
    このオプションは十分に注意して使用すべきである。</p><p>このパラメータは、 Samba 3.0 における <a class="link" href="smb.conf.5.html#SECURITY" target="_top">security = share</a> 環境では動作しない。
    これは仕様である。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>admin users</code></em> = <code class="literal"/>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>admin users</code></em> = <code class="literal">jason</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="afs share (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2541309"/>

afs share (S)
</h3></div></div></div><a class="indexterm" name="id2541310"/><a name="AFSSHARE"/><div class="variablelist"><dl><dt/><dd><p>このパラメータは、共有に対して AFS 特有の機能を有効にするかどうかを指定する。
	もし有効な場合、<em class="parameter"><code>path</code></em> パラメータでエクスポートされているディレクトリをローカルの AFS インポートとして扱う。
	特殊な AFS の機能というのは、もし configure 時に
	--with-fake-kaserver オプションを有効にした場合に、
	AFS トークンを作成しようとする機能などが含まれる。
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>afs share</code></em> = <code class="literal">no</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="afs username map (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2541363"/>

afs username map (G)
</h3></div></div></div><a class="indexterm" name="id2541364"/><a name="AFSUSERNAMEMAP"/><div class="variablelist"><dl><dt/><dd><p>ダミーの kaserver の AFS 機能を使用している場合、
	作成するトークンのユーザ名を指定したい場合もあるだろう。
	たとえば、AFS Protection Database に複数のドメインのユーザが混在している場合などが挙げられる。
	一つの解決策は、winbind と同じように + をセパレータとして 
	DOMAIN+User と指定することである。
	</p><p>マップされたユーザ名はログインするためのセル名を含んでいる必要がある。
	そのため、このパラメータが指定されていない場合、トークンは使用されない。</p><p>(訳注: AFSに関する知識不足のため、訳の正確性については担保できない)</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>afs username map</code></em> = <code class="literal"/>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>afs username map</code></em> = <code class="literal">%u@afs.samba.org</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="aio read size (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2541442"/>

aio read size (S)
</h3></div></div></div><a class="indexterm" name="id2541443"/><a name="AIOREADSIZE"/><div class="variablelist"><dl><dt/><dd><p>
Samba が非同期 I/O サポート付きでビルドされていて、かつこの整数パラメータ
が非ゼロ値にセットされている場合、ファイルリードする際に要求された I/O
サイズがこの値より大きければ、Samba は非同期リードを行う。
注意：非同期リードが行われるのは、non-chained と non-chaining リードで、
かつライトキャッシュを使わない場合に限られる。</p><p>
Samba 3.0 における非同期 I/O におけるサポートは、リードとライトを合わせて
10個までの、未解決の非同期リクエストに限られる。</p><p>Related command: <a class="link" href="smb.conf.5.html#WRITECACHESIZE" target="_top">write cache size</a></p><p>Related command: <a class="link" href="smb.conf.5.html#AIOWRITESIZE" target="_top">aio write size</a></p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>aio read size</code></em> = <code class="literal">0</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>aio read size</code></em> = <code class="literal">16384
#  
リクエストサイズが 16KB を超えるリードについて非同期 I/O を使用する。
    </code>
</em></span>
</p></dd></dl></div></div><div class="section" title="aio write behind (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2541540"/>

aio write behind (S)
</h3></div></div></div><a class="indexterm" name="id2541541"/><a name="AIOWRITEBEHIND"/><div class="variablelist"><dl><dt/><dd><p>もしも、Sambaが非同期I/Oをサポートするように構築された場合、
	  このパラメータで示されたファイルに対して、クライアントに対する 結果を返す前に、
	  Sambaは書き込み要求が完了するまで待たない。その代わり、実際の操作が
	  成功するか否かに関係なく、Sambaは書き込み要求が正常に終わったと、即座に
	  結果を返す。これはaioサポートがないクライアントのスピードを向上させるかも
	  しれないが、データが亡失し、ファイルが壊れるという観点で、これはとても
	  危険である。
	</p><p>
	  文法は、<a class="link" href="smb.conf.5.html#VETOFILES" target="_top">veto files</a>と同一である。
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>aio write behind</code></em> = <code class="literal"/>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>aio write behind</code></em> = <code class="literal">/*.tmp/</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="aio write size (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2541623"/>

aio write size (S)
</h3></div></div></div><a class="indexterm" name="id2541624"/><a name="AIOWRITESIZE"/><div class="variablelist"><dl><dt/><dd><p>
Samba が非同期 I/O サポート付きでビルドされており、かつこの整数パラメータ
が非ゼロ値にセットされている場合、ファイルをライトする際に要求された I/O
サイズがこの値より大きければ、Samba は非同期ライトを行う。
注意：非同期ライトが行われるのは、non-chained と non-chaining ライトで、
かつライトキャッシュを使わない場合に限られる。</p><p>
Samba 3.0 における非同期 I/O におけるサポートは、リードとライトを合わせて
10個までの、未解決の非同期リクエストに限られる。</p><p>Related command: <a class="link" href="smb.conf.5.html#WRITECACHESIZE" target="_top">write cache size</a></p><p>Related command: <a class="link" href="smb.conf.5.html#AIOREADSIZE" target="_top">aio read size</a></p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>aio write size</code></em> = <code class="literal">0</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>aio write size</code></em> = <code class="literal">16384
# 
リクエストサイズが 16KB を超えるライトについて非同期 I/O を使用する。
    </code>
</em></span>
</p></dd></dl></div></div><div class="section" title="algorithmic rid base (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2541720"/>

algorithmic rid base (G)
</h3></div></div></div><a class="indexterm" name="id2541721"/><a name="ALGORITHMICRIDBASE"/><div class="variablelist"><dl><dt/><dd><p>このパラメータにより、 Samba が UID や GID を NT セキュリティ識別子(訳注:SID)の構築に必要な RID に機械的に対応づける際の RID の値が設定される。
    </p><p>Windows NT/2000 から移行を行なうサイトでは、存在しているユーザやグループの RID がシステムのユーザと競合してしまうことを防ぐため、この値を大きい値にすることが有用な場合もあるだろう。
    </p><p>サーバ上の ACL が正しく機能する上では、すべての UID および GID が SID に変換できることが必須である。
    このため、機械的な対応づけを無効にせずに、一定の範囲を対象領域から除外することが、
    問題を避ける上で必要である。
    RID の競合に対応したパスワード機構において、ユーザおよびグループには、
    「小さな」 RID が割り当てられる。
    </p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>algorithmic rid base</code></em> = <code class="literal">1000</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>algorithmic rid base</code></em> = <code class="literal">100000</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="allocation roundup size (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2541807"/>

allocation roundup size (S)
</h3></div></div></div><a class="indexterm" name="id2541808"/><a name="ALLOCATIONROUNDUPSIZE"/><div class="variablelist"><dl><dt/><dd><p>
    このパラメータにより、管理者が Windows 
    クライアントから見たアロケーションサイズを切り上げることが可能となる。
    デフォルトのサイズである 1MB にすることで、通常 
    Windows クライアントのパフォーマンスは向上する。
    ただし、Visual Studio のように、
    アロケーションサイズを切り上げることで問題が発生するアプリケーションもある。
    Visual Studio のコンパイラーが内部エラーでクラッシュしてしまうような場合は、
    該当の共有でこのパラメータを 0 に設定すること。
    </p><p>このパラメータには、切り上げるサイズをバイト単位の整数値で指定する。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>allocation roundup size</code></em> = <code class="literal">1048576</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>allocation roundup size</code></em> = <code class="literal">0
# (to disable roundups)</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="allow trusted domains (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2541888"/>

allow trusted domains (G)
</h3></div></div></div><a class="indexterm" name="id2541889"/><a name="ALLOWTRUSTEDDOMAINS"/><div class="variablelist"><dl><dt/><dd><p>
    このパラメータは、<a class="link" href="smb.conf.5.html#SECURITY" target="_top">security</a> パラメータが <code class="constant">server</code>、
    <code class="constant">domain</code> もしくは <code class="constant">ads</code> に設定されている時のみ有効である。
    no に設定されている場合、 smbd が動作しているドメインもしくはワークグループ外からのリソースへの接続要求は、失敗する。
    これは、たとえそのドメインが認証を行なうサーバによって信頼されている場合であっても同様である。
    </p><p> このオプションは、
    Samba サーバが所属するドメインのユーザのみにリソースを提供させたい場合に便利である。
    一例として DOMA と DOMB という 2 つのドメインがあって、
    DOMA は Samba サーバを含み、DOMB を信頼している場合を想定する。
    通常の条件では、DOMB中にアカウントを持つユーザは、
    Samba サーバに同じ名前の UNIX アカウントがあれば、
    DOMA にアカウントがなくてもリソースにアクセスできるため、
    セキュリティ境界の区分けが困難である。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>allow trusted domains</code></em> = <code class="literal">yes</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="announce as (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2541980"/>

announce as (G)
</h3></div></div></div><a class="indexterm" name="id2541981"/><a name="ANNOUNCEAS"/><div class="variablelist"><dl><dt/><dd><p>このパラメータは、 <a class="citerefentry" href="nmbd.8.html"><span class="citerefentry"><span class="refentrytitle">nmbd</span>(8)</span></a> が、
    自身を「ネットワークコンピュータ」中のブラウズリストにアナウンスする際のサーバの種類を指定する。
    デフォルトでは Windows NT に設定されている。有効な値は: 
    「NT Server」(これは「NT」と表記することもできる)、 
    「NT Workstation」、「Win95」、「WfW」であり、各々 Windows NT Server、
    Windows NT Workstation、Windows 95、Windows for Workgroups を意味する。
    変更を行なうと、Samba サーバがブラウザサーバ(訳注: ポテンシャルブラウザの意?)に正しく参加できなくなるかも知れないため、
    Samba サーバを NT サーバとして表示させたくない特別な理由がない限り、
    このパラメータを変更しないこと。
    </p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>announce as</code></em> = <code class="literal">NT Server</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>announce as</code></em> = <code class="literal">Win95</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="announce version (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2542069"/>

announce version (G)
</h3></div></div></div><a class="indexterm" name="id2542070"/><a name="ANNOUNCEVERSION"/><div class="variablelist"><dl><dt/><dd><p>このパラメータは、 nmbd 
    が自身をサーバとしてアナウンスする際に指定するメジャーおよびマイナーバージョン番号を指定する。
    デフォルトは 4.9 である。
    Samba サーバをより下位のサーバとして設定する特別な必要性がない限り、このパラメータは変更しないこと。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>announce version</code></em> = <code class="literal">4.9</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>announce version</code></em> = <code class="literal">2.0</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="auth methods (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2542134"/>

auth methods (G)
</h3></div></div></div><a class="indexterm" name="id2542135"/><a name="AUTHMETHODS"/><div class="variablelist"><dl><dt/><dd><p>このパラメータにより、管理者は <code class="literal">smbd</code> がユーザ認証を行なう際に使用する認証機構を選択することが可能となる。
    このパラメータのデフォルトは、<a class="link" href="smb.conf.5.html#SECURITY" target="_top">security</a>
    パラメータに基づいて適切な値が設定される。
    このオプションは開発者向けであり、
    特殊な状況でのみ使用するものと考えるべきである。
    実際の運用では多くの場合 (必ずというわけではない)、デフォルト設定のままにしておくべきである。
    </p><p>
    ユーザが認証されるまで、
    リスト中の各エントリによって順番にユーザ認証が行なわれる。
    従って、実際に認証が成功となる認証機構は1つだけである。
    </p><p>
    設定可能な値としては、<code class="constant">guest</code> (匿名アクセス)、
    <code class="constant">sam</code> (NetBIOS名あるいはドメイン名に基づくローカルのアカウントリストの検索)、
    <code class="constant">winbind</code> (winbinddによるリモートユーザーの認証要求の中継)、
    <code class="constant">ntdomain</code> (winbindd 導入以前のリモートドメインユーザーの認証方法。
    現在は winbindd を使用する方が望ましいので使用すべきではない)、
    <code class="constant">trustdomain</code> (信頼できるユーザーの、smbd からリモート DC への直接アクセスによる認証。
    現在は winbindd を使用する方が望ましいので使用すべきではない) がある。
    </p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>auth methods</code></em> = <code class="literal"/>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>auth methods</code></em> = <code class="literal">guest sam winbind</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="available (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2542268"/>

available (S)
</h3></div></div></div><a class="indexterm" name="id2542269"/><a name="AVAILABLE"/><div class="variablelist"><dl><dt/><dd><p>このパラメータにより、サービスを「無効」とすることが可能である。
	<em class="parameter"><code>available = no</code></em> の場合、
	サービスに対する接続は<span class="emphasis"><em>すべて</em></span>失敗する。これらの失敗は記録される。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>available</code></em> = <code class="literal">yes</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="bind interfaces only (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2542317"/>

bind interfaces only (G)
</h3></div></div></div><a class="indexterm" name="id2542318"/><a name="BINDINTERFACESONLY"/><div class="variablelist"><dl><dt/><dd><p>このグローバルパラメータにより、
    Samba 管理者が SMB 要求を受け付けるインタフェースを制限できるようになる。
    この影響は、ファイルサービス <a class="citerefentry" href="smbd.8.html"><span class="citerefentry"><span class="refentrytitle">smbd</span>(8)</span></a> とネームサービス <a class="citerefentry" href="nmbd.8.html"><span class="citerefentry"><span class="refentrytitle">nmbd</span>(8)</span></a> とで多少異なる。</p><p> このパラメータを指定すると、ネームサービス <code class="literal">nmbd</code> は、
    <a class="link" href="smb.conf.5.html#INTERFACES" target="_top">interfaces</a>
    パラメータで指定されたインタフェースのポート 137 と 138 にバインドする。
    <code class="literal">nmbd</code> は、ブロードキャストメッセージを受信するために、
    「すべてのアドレス」となるインタフェース (0.0.0.0) のポート 137 と
    138 にもバインドする。このオプションが設定されていない場合、
    <code class="literal">nmbd</code> は、これらすべてのソケットに対してネームサービスを提供する。
    <a class="link" href="smb.conf.5.html#BINDINTERFACESONLY" target="_top">bind interfaces only</a> が設定されていると、
    <code class="literal">nmbd</code> はブロードキャストパケットの送信元アドレスを確認して、
    <a class="link" href="smb.conf.5.html#INTERFACES" target="_top">interfaces</a>
    パラメータで指定されたインタフェースのブロードキャストアドレスを経由しないパケットを破棄する。
    他のソケットでユニキャストパケットを受信した場合、 <code class="literal">nmbd</code> は、
    <a class="link" href="smb.conf.5.html#INTERFACES" target="_top">interfaces</a>
    パラメータで指定されたインタフェースを経由しないパケットを送出したマシンに対してはネームサービスを拒否する。
    もっとも、IP ソースアドレスを偽造 (spoofing) することで、この単純なチェックは破られてしまう。
    そのため、このパラメータを <code class="literal">nmbd</code>
    のセキュリティ機能と位置付けて本格的に利用すべきではない。</p><p>ファイルサービスの場合、このパラメータを指定すると、
    <a class="citerefentry" href="smbd.8.html"><span class="citerefentry"><span class="refentrytitle">smbd</span>(8)</span></a> が <a class="link" href="smb.conf.5.html#INTERFACES" target="_top">interfaces</a> 
    パラメータで指定されたインタフェースにのみバインドするようになる。
    これにより、 <code class="literal">smbd</code> がサービスを提供するネットワークを指定したインタフェース経由のものに制限することが可能である。
    PPP などの間欠的なネットワークインタフェースや、非ブロードキャストなネットワークインタフェースにサービスを提供している場合は、
    これらの非永続的なインタフェースをうまく処理できないため、このパラメータを使わないこと。</p><p><a class="link" href="smb.conf.5.html#BINDINTERFACESONLY" target="_top">bind interfaces only</a> が設定されているが、
    <span class="emphasis"><em>127.0.0.1</em></span> のネットワークアドレスが
    <a class="link" href="smb.conf.5.html#INTERFACES" target="_top">interfaces</a> パラメータに指定されていない場合は、
    以下に示すような理由のため、<a class="citerefentry" href="smbpasswd.8.html"><span class="citerefentry"><span class="refentrytitle">smbpasswd</span>(8)</span></a> 
    や <a class="citerefentry" href="swat.8.html"><span class="citerefentry"><span class="refentrytitle">swat</span>(8)</span></a> などが期待したように動作しないことがある。</p><p> ユーザの SMB パスワードを変更するために、 <code class="literal">smbpasswd</code>
    はデフォルトで <span class="emphasis"><em>localhost - 127.0.0.1</em></span> のアドレスに 
    SMB クライアントとして接続を行ない、パスワード変更要求を送信する。
    <a class="link" href="smb.conf.5.html#BINDINTERFACESONLY" target="_top">bind interfaces only</a> が設定されているにも関わらず、
    <span class="emphasis"><em>127.0.0.1</em></span> のネットワークアドレスが
    <a class="link" href="smb.conf.5.html#INTERFACES" target="_top">interfaces</a> パラメータに含まれていなかった場合、
    <code class="literal">smbpasswd</code> のデフォルトの状態では接続に失敗してしまう。
    <code class="literal">smbpasswd</code> については、
    <a class="citerefentry" href="smbpasswd.8.html"><span class="citerefentry"><span class="refentrytitle">smbpasswd</span>(8)</span></a> に <em class="parameter"><code>-r <em class="replaceable"><code>remote machine</code></em></code></em> パラメータを指定して、
    <em class="replaceable"><code>remote machine</code></em> にローカルホストのプライマリインタフェースのIPアドレスを設定することにより、
    強制的にローカルホストのプライマリIPインタフェースを利用させることも可能である。</p><p> <code class="literal">swat</code> のステータス(status)ページは、
    <code class="literal">smbd</code> と <code class="literal">nmbd</code> が実行されているかを確認するために、
    <span class="emphasis"><em>127.0.0.1</em></span> から接続を行なおうとする。
    そのため、<span class="emphasis"><em>127.0.0.1</em></span>を追加していない場合、<code class="literal">
    smbd</code> と <code class="literal">nmbd</code> は実際には動作している場合でも、
    常に「not running」と表示される。更に、<code class="literal">
    swat</code> から <code class="literal">smbd</code>
    と <code class="literal">nmbd</code> の開始/停止/再起動を行なうこともできなくなる。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>bind interfaces only</code></em> = <code class="literal">no</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="blocking locks (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2542720"/>

blocking locks (S)
</h3></div></div></div><a class="indexterm" name="id2542722"/><a name="BLOCKINGLOCKS"/><div class="variablelist"><dl><dt/><dd><p> このパラメータは、クライアントからオープン中のファイルの一部範囲に対して、
	バイト範囲のロック(byte range lock)が要求された際に、タイムアウトが発生した場合の
	<a class="citerefentry" href="smbd.8.html"><span class="citerefentry"><span class="refentrytitle">smbd</span>(8)</span></a> の動作を制御する。</p><p> このパラメータが設定されている場合にロック範囲の要求が即座に処理できない場合、
	Samba は内部的にロック要求をキューイングして、タイムアウトが来るまで定期的にロックを取得する動作を行なう。</p><p> このパラメータが <code class="constant">no</code> の場合、
	Samba は以前のバージョンの Samba (訳注: Samba 1.9.x 以前)と同様に振舞い、
	ロック範囲が取得できない場合にただちにロック要求を失敗させる。
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>blocking locks</code></em> = <code class="literal">yes</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="block size (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2542801"/>

block size (S)
</h3></div></div></div><a class="indexterm" name="id2542802"/><a name="BLOCKSIZE"/><div class="variablelist"><dl><dt/><dd><p>このパラメータにより、ディスクの空き領域を報告する際の
    <a class="citerefentry" href="smbd.8.html"><span class="citerefentry"><span class="refentrytitle">smbd</span>(8)</span></a> の動作が制御される。
    デフォルトでは、ディスクのブロックサイズを 1024 バイトとして報告が行なわれる。</p><p>このパラメータを変更した場合、クライアントからの書き込みに影響がでることが予想されるが、確認されていない。このパラメータは、熟練した管理者が(通常より大きい値に)変更を行なうことで、再コンパイルを行なうことなく、クライアントからの書き込みパフォーマンスへの影響をテストすることを可能とするために追加された。これは実験的なオプションのため、将来のリリースでは削除されるかも知れない。</p><p>このオプションを変更しても、報告されるディスクの空き容量自体は変わらない。クライアントに報告されるディスクのブロックサイズが変更されるだけである。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>block size</code></em> = <code class="literal">1024</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>block size</code></em> = <code class="literal">4096</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="browsable"><div class="titlepage"><div><div><h3 class="title"><a name="id2542897"/>

<a name="BROWSABLE"/>browsable
</h3></div></div></div><a class="indexterm" name="id2542898"/><div class="variablelist"><dl><dt/><dd><p>このパラメータは右記のパラメータの別名である：<a class="link" href="#BROWSEABLE">browseable</a>.</p></dd></dl></div></div><div class="section" title="browseable (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2542924"/>

browseable (S)
</h3></div></div></div><a class="indexterm" name="id2542925"/><a name="BROWSEABLE"/><div class="variablelist"><dl><dt/><dd><p> このパラメータは、net view コマンドやブラウズリスト中に現れる利用可能な共有の一覧にこの共有を表示させるかどうかを制御する。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>browseable</code></em> = <code class="literal">yes</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="browse list (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2542967"/>

browse list (G)
</h3></div></div></div><a class="indexterm" name="id2542968"/><a name="BROWSELIST"/><div class="variablelist"><dl><dt/><dd><p> このパラメータは、クライアントからの <code class="literal">NetServerEnum</code>
    コールに対して、 <a class="citerefentry" href="smbd.8.html"><span class="citerefentry"><span class="refentrytitle">smbd</span>(8)</span></a> がブラウズリストを提供するかどうかを制御する。
    通常 <code class="constant">true</code> に設定されている。
    これを変更する必要はまずないであろう。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>browse list</code></em> = <code class="literal">yes</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="cache directory (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2543029"/>

cache directory (G)
</h3></div></div></div><a class="indexterm" name="id2543030"/><a name="CACHEDIRECTORY"/><div class="variablelist"><dl><dt/><dd><p>通常、TDBファイルのほとんどは、
	  <em class="parameter"><code>lock directory</code></em>
	  中に格納される。Samba 3.4.0から、
	  <em class="parameter"><code>state directory</code></em>と
	  <em class="parameter"><code>cache directory</code></em>オプションを使って、
	  恒常的なデータを持つTDBファイルと、一時的なデータを持つTDBファイルの間で
	  異なる設定が可能となった。
	</p><p>このオプションは、一時的なデータを保持するTDBファイルを億ディレクトリ
	  を指定する。
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>cache directory</code></em> = <code class="literal">${prefix}/var/locks</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>cache directory</code></em> = <code class="literal">/var/run/samba/locks/cache</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="casesignames"><div class="titlepage"><div><div><h3 class="title"><a name="id2543109"/>

<a name="CASESIGNAMES"/>casesignames
</h3></div></div></div><a class="indexterm" name="id2543110"/><div class="variablelist"><dl><dt/><dd><p>このパラメータは右記のパラメータの別名である：<a class="link" href="#CASESENSITIVE">case sensitive</a>.</p></dd></dl></div></div><div class="section" title="case sensitive (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2543136"/>

case sensitive (S)
</h3></div></div></div><a class="indexterm" name="id2543137"/><a name="CASESENSITIVE"/><div class="variablelist"><dl><dt/><dd><p><a class="link" href="smb.conf.5.html#NAMEMANGLING" target="_top">name mangling</a> セクションでの説明を参照のこと。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>case sensitive</code></em> = <code class="literal">no</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="change notify (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2543182"/>

change notify (S)
</h3></div></div></div><a class="indexterm" name="id2543183"/><a name="CHANGENOTIFY"/><div class="variablelist"><dl><dt/><dd><p>
このパラメータは、Samba がクライアントからのファイル変更通知要求に対して
返信するべきかどうかを指定する。
	</p><p>このパラメータを変更する必要はないはずである</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>change notify</code></em> = <code class="literal">yes</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="change share command (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2543229"/>

change share command (G)
</h3></div></div></div><a class="indexterm" name="id2543230"/><a name="CHANGESHARECOMMAND"/><div class="variablelist"><dl><dt/><dd><p>
	Samba 2.2.0 では、Windows NT 4.0 のサーバーマネージャーを利用して共有設定を
	を追加・削除する機能が追加された。
	<em class="parameter"><code>change share command</code></em> は、
	<code class="filename">smb.conf</code>の既存のサービスの設定を変更
	する外部のプログラム、もしくはスクリプトを設定するためのパラメータである。
	</p><p>
	<em class="parameter"><code>change share command</code></em>
	を実行するため、管理者は <code class="literal">smbd</code> にroot
	アカウント(uid = 0)で接続するか、アカウントに<code class="literal">SeDiskOperatorPrivilege</code>
	が付与されている必要がある。
	<em class="parameter"><code>add share command</code></em>で指定された
	スクリプトはroot権限で実行される。
	</p><p>
		コマンド実行時に、<code class="literal">smbd</code>は自動的に以下の
		 5 つの引数を付加して<em class="parameter"><code>change share command</code></em>を実行する。
	</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p><em class="parameter"><code>configFile</code></em> - <code class="filename">smb.conf</code>の場所</p></li><li class="listitem"><p><em class="parameter"><code>shareName</code></em> - 新しい共有名 </p></li><li class="listitem"><p><em class="parameter"><code>pathName</code></em> - ディスク上に「存在している」ディレクトリへのパス名</p></li><li class="listitem"><p><em class="parameter"><code>comment</code></em> - 新しい共有に対するコメント文字列</p></li><li class="listitem"><p><em class="parameter"><code>max connections</code></em> 共有への最大同時接続数。</p></li></ul></div><p>
	このパラメータは、ファイル共有設定の変更にのみ使われる。印刷共有の設定を
	変更にするには、共有されているホストのプリンタフォルダを使用する。
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>change share command</code></em> = <code class="literal"/>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>change share command</code></em> = <code class="literal">/usr/local/bin/changeshare</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="check password script (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2543424"/>

check password script (G)
</h3></div></div></div><a class="indexterm" name="id2543425"/><a name="CHECKPASSWORDSCRIPT"/><div class="variablelist"><dl><dt/><dd><p>パスワードの複雑性を検証するためのプログラム名を指定する。
    パスワードはプログラムの標準入力に送られる。</p><p>プログラムは、パスワードが良好であった場合に 0 を、それ以外の場合は他の値を返却しなければならない。
    パスワードが脆弱であると判断された(プログラムが 0 を返却しなかった)場合、    
    ユーザには、パスワード変更の失敗が通知される。</p><p>example ディレクトリに、<code class="literal">crackcheck</code> という
    サンプルのプログラムがある。
    これは cracklib を用いてパスワードのチェックを行なっている。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>check password script</code></em> = <code class="literal">Disabled</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>check password script</code></em> = <code class="literal">/usr/local/sbin/crackcheck</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="client lanman auth (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2543509"/>

client lanman auth (G)
</h3></div></div></div><a class="indexterm" name="id2543510"/><a name="CLIENTLANMANAUTH"/><div class="variablelist"><dl><dt/><dd><p>このパラメータは、<a class="citerefentry" href="smbclient.8.html"><span class="citerefentry"><span class="refentrytitle">smbclient</span>(8)</span></a> などの Samba のクライアントツールが
    脆弱な LANMAN パスワードハッシュを使用した認証を行なうか否かを制御する。 無効にした場合、 Samba クライアントからは、NT パスワードハッシュを利用するクライアント (Windows NT/2000クライアント、Samba など。しかし Windows 95/98 は含まない) に対してのみ接続できる。 </p><p> LANMAN 暗号化レスポンスは簡単に解読することが可能である。 これは大文字と小文字を区別しないことや、使用しているアルゴリズムなどに起因する。 Windows 95/98 サーバが存在しない場合は、このオプションを無効にした方がよいだろう。</p><p>このオプションを無効にすると、<code class="literal">client plaintext auth</code> オプションも同時に無効となる。</p><p>同様に、 <code class="literal">client ntlmv2
    auth</code> パラメータを有効にした場合、NTLMv2 ログインのみが可能となる。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>client lanman auth</code></em> = <code class="literal">no</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="client ldap sasl wrapping (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2543600"/>

client ldap sasl wrapping (G)
</h3></div></div></div><a class="indexterm" name="id2543601"/><a name="CLIENTLDAPSASLWRAPPING"/><div class="variablelist"><dl><dt/><dd><p>
	<a class="link" href="smb.conf.5.html#CLIENTLDAPSASLWRAPPING" target="_top">client ldap sasl wrapping</a> は、ldapとの通信が
	署名付きか、署名+暗号化(シールされている)かを定義する。設定可能な値は、
	<span class="emphasis"><em>plain</em></span>, <span class="emphasis"><em>sign</em></span> 
	と<span class="emphasis"><em>seal</em></span>である。 	
	</p><p>
	値<span class="emphasis"><em>sign</em></span>と<span class="emphasis"><em>seal</em></span>は、
	もしもSambaが最新のOpenLDAPバージョン(2.3.xかそれ以降)とともに
	コンパイルされた時に有効である。
	</p><p>
	このオプションは、(たとえば Windows 2000 SP3 またはそれ以降の)署名された
	LDAP接続を使うことを強制するドメインコントローラの場合に必要である。
	LDAP署名と暗号化LDAP接続は、Windowsサーバ側のレジストリキー
	"<code class="literal">HKLM\System\CurrentControlSet\Services\</code>
	<code class="literal">NTDS\Parameters\LDAPServerIntegrity</code>"
	によって制御する事が出来る。
	</p><p>
	使用するKRB5ライブラリ(MITと古いバージョンのHeimdal)に依存するが、
	メッセージ "integrity only" はサポートされないことが可能である。この場合、
	<span class="emphasis"><em>sign</em></span>は
	<span class="emphasis"><em>seal</em></span>のための単なる別名である。
	</p><p>
	既定値は<span class="emphasis"><em>plain</em></span>で、これは、KRB5のクロックスキュー
	エラーに対して過敏ではない。これは、<span class="emphasis"><em>sign</em></span>か
	<span class="emphasis"><em>seal</em></span>を使う場合においてはKDCとの時刻同期があること
	を暗黙的に示している。
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>client ldap sasl wrapping</code></em> = <code class="literal">plain</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="client ntlmv2 auth (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2543733"/>

client ntlmv2 auth (G)
</h3></div></div></div><a class="indexterm" name="id2543734"/><a name="CLIENTNTLMV2AUTH"/><div class="variablelist"><dl><dt/><dd><p>このパラメータにより、<a class="citerefentry" href="smbclient.8.html"><span class="citerefentry"><span class="refentrytitle">smbclient</span>(8)</span></a> がサーバへの接続時に
    NTLMv2 暗号化パスワードレスポンスを使用した認証を行なうかどうかが設定される。</p><p>有効にすると、NTLMv2 および LMv2 レスポンス(両方とも以前のバージョンよりはセキュアである) が送信される。
    ただし、多くのサーバ(Windows NT 4.0 SP3以前、Windows 9x および Samba 2.2)は NTLMv2 と互換性がない。</p><p>同様に、有効にした場合 NTLMv1、 <code class="literal">client lanman auth</code> および <code class="literal">client plaintext auth</code>
    認証は無効となる。また、共有レベルの認証も同時に無効となる。</p><p>無効にした場合、 NTLM レスポンス (および可能であれば LANMAN レスポンス)
    が、<code class="literal">client lanman auth</code> の値に応じてクライアントから送信される。</p><p>サイトによっては (特に「ベストプラクティス」のセキュリティポリシーを適用しているサイト)、NTLMv2 のみを許可し、脆弱な LM および NTLM レスポンスは許可していない。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>client ntlmv2 auth</code></em> = <code class="literal">no</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="client plaintext auth (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2543828"/>

client plaintext auth (G)
</h3></div></div></div><a class="indexterm" name="id2543829"/><a name="CLIENTPLAINTEXTAUTH"/><div class="variablelist"><dl><dt/><dd><p>このパラメータは、サーバが暗号化パスワードをサポートしていない場合にクライアントから平文パスワードを送出するかどうかを制御する。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>client plaintext auth</code></em> = <code class="literal">yes</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="client schannel (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2543869"/>

client schannel (G)
</h3></div></div></div><a class="indexterm" name="id2543870"/><a name="CLIENTSCHANNEL"/><div class="variablelist"><dl><dt/><dd><p>このパラメータはクライアントが netlogon セキュアチャネルの使用を有効にするか、もしくは要求するかを制御する。
    <a class="link" href="smb.conf.5.html#CLIENTSCHANNEL" target="_top">client schannel = no</a> はセキュアチャネルを有効にしない。
    <a class="link" href="smb.conf.5.html#CLIENTSCHANNEL" target="_top">client schannel = auto</a> はセキュアチャネルを有効にするが、強制はしない。
    <a class="link" href="smb.conf.5.html#CLIENTSCHANNEL" target="_top">client schannel = yes</a> 
    はサーバが netlogon セキュアチャネルを理解できない場合、アクセスを許可しない。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>client schannel</code></em> = <code class="literal">auto</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>client schannel</code></em> = <code class="literal">yes</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="client signing (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2543960"/>

client signing (G)
</h3></div></div></div><a class="indexterm" name="id2543961"/><a name="CLIENTSIGNING"/><div class="variablelist"><dl><dt/><dd><p>このパラメータは、SMB署名を使うために、クライアントに対して有効にするか、もしくは強制するかを設定する。
    設定可能な値は、<span class="emphasis"><em>auto</em></span>、<span class="emphasis"><em>mandatory</em></span>、<span class="emphasis"><em>disabled</em></span> である。 
    </p><p>auto に設定した場合、SMB 署名が有効になるが、強制はしない。
    mandatory に設定すると、SMB 署名が必須となる。disable に設定すると、SMB 署名は有効にならない。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>client signing</code></em> = <code class="literal">auto</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="client use spnego (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2544020"/>

client use spnego (G)
</h3></div></div></div><a class="indexterm" name="id2544021"/><a name="CLIENTUSESPNEGO"/><div class="variablelist"><dl><dt/><dd><p> この値により、Samba クライアントが認証の際に
    Simple and Protected NEGOciation (RFC2478 で規定) をサポートしたサーバ
    (Windows XP 、 Windows 2000 、Samba 3.0 を含む) に対して
    SPNEGO の使用を試みるかどうかが制御される。
    SPNEGO は Kerberos 認証の際に有効となる。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>client use spnego</code></em> = <code class="literal">yes</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="cluster addresses (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2544067"/>

cluster addresses (G)
</h3></div></div></div><a class="indexterm" name="id2544068"/><a name="CLUSTERADDRESSES"/><div class="variablelist"><dl><dt/><dd><p>
このパラメータを使うと、nmbd が WINS サーバに登録する追加のアドレスを
付加することができる。これらのアドレス(群)は、すべてのノード上で
同時に存在しなければならないわけではないが、これらは WINS サーバに
登録されるため、クライアントはこれらのうちのどのノードにも接続できる。
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>cluster addresses</code></em> = <code class="literal"/>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>cluster addresses</code></em> = <code class="literal">10.0.0.1 10.0.0.2 10.0.0.3</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="clustering (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2544129"/>

clustering (G)
</h3></div></div></div><a class="indexterm" name="id2544130"/><a name="CLUSTERING"/><div class="variablelist"><dl><dt/><dd><p>
このパラメータは、Samba が ctdb に接続して tdb ファイルにアクセスし、
さらにメッセージ処理のバックエンドとして ctdb を使うべきかどうかを
指定する。
	</p><p>
ctdb が動作している状態でクラスタ構成を取る場合にのみ、
このパラメータを <code class="literal">yes</code> にすること。
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>clustering</code></em> = <code class="literal">no</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="comment (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2544186"/>

comment (S)
</h3></div></div></div><a class="indexterm" name="id2544187"/><a name="COMMENT"/><div class="variablelist"><dl><dt/><dd><p>これは、クライアントから「ネットワークコンピュータ」や <code class="literal">net view</code> コマンド経由でサーバ上で利用可能な共有を一覧する際に、共有名の横に表示される文字列である。</p><p>コンピュータ名の横に表示される文字列を設定したい場合は、<a class="link" href="smb.conf.5.html#SERVERSTRING" target="_top">server string</a> パラメータを参照のこと。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>comment</code></em> = <code class="literal">
# コメント文字列なし</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>comment</code></em> = <code class="literal">Fred's Files</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="config backend (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2544266"/>

config backend (G)
</h3></div></div></div><a class="indexterm" name="id2544267"/><a name="CONFIGBACKEND"/><div class="variablelist"><dl><dt/><dd><p>
設定内容を格納するためのバックエンドを切り替える。設定可能な値は
<span class="emphasis"><em>file</em></span>（デフォルト）および<span class="emphasis"><em>registry</em></span>
である。<span class="emphasis"><em>smb.conf</em></span> を読み込んでいる途中で
<a class="link" href="smb.conf.5.html#CONFIGBACKEND" target="_top">config backend = registry</a>
を検出すると、それまでに読み込まれた設定内容は破棄され、その代りに
グローバルオプションがレジストリから読み込まれる。つまり、これは
レジストリのみの設定にするための仕組みである。共有の定義は即時には
読み込まれないが、その代りに <em class="parameter"><code>registry shares</code></em>
を <span class="emphasis"><em>yes</em></span> にセットしてくれる。
	</p><p>
注意：このオプションは、レジストリ設定自身の中でセットすることもできる。
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>config backend</code></em> = <code class="literal">file</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>config backend</code></em> = <code class="literal">registry</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="config file (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2544369"/>

config file (G)
</h3></div></div></div><a class="indexterm" name="id2544370"/><a name="CONFIGFILE"/><div class="variablelist"><dl><dt/><dd><p>このオプションを指定することで、デフォルトの設定ファイル
	(通常<code class="filename">smb.conf</code>)の代わりのファイルを利用して、
	設定を上書きすることが可能になる。このオプション自身が
	config file 中に記述されるため、これには「鶏と卵」問題がある。</p><p>そのため、このパラメータによって設定ファイルが変更されると、
	新しい設定ファイルの内容が先頭からロードされる。
	</p><p>このオプションには、通常の変数置換が適用されるので、
	うまく使えばとても便利であろう。</p><p>指定された設定ファイルが存在しない場合は読み込まれない
	(これにより、特定クライアントに対して、
	特別な設定ファイルを指定するということが可能となる)。</p><p><span class="emphasis"><em>既定値なし</em></span></p><p>例: <span class="emphasis"><em><em class="parameter"><code>config file</code></em> = <code class="literal">/usr/local/samba/lib/smb.conf.%m</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="copy (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2544443"/>

copy (S)
</h3></div></div></div><a class="indexterm" name="id2544444"/><a name="COPY"/><div class="variablelist"><dl><dt/><dd><p>このパラメータにより、サービスエントリの「複製」
	が可能となる。指定されたサービスの設定が単純に現在のサービスへと複製される。
	現在のセクションに設定されているパラメータは、
	複製元のセクションの設定を上書きする。</p><p>この機能を使うと、「ひな型(template)」となるサービスを作成した上で、
	同様の設定のサービスを単純に作成するということが可能となる。
	複製元のサービスは、
	設定ファイル内で複製先のサービスより前に記述する必要があることに注意。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>copy</code></em> = <code class="literal"/>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>copy</code></em> = <code class="literal">otherservice</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="create krb5 conf (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2544520"/>

create krb5 conf (G)
</h3></div></div></div><a class="indexterm" name="id2544521"/><a name="CREATEKRB5CONF"/><div class="variablelist"><dl><dt/><dd><p>
	  このパラメータを<code class="literal">no</code>にすると、winbindが
	  固有の krb5.confを作成することを防止する。krb5ライブラリがADのサイトを
	  認識せず、そのため、可能性のある任意のドメインコントローラから対象として
	  外すことがとても多いという理由で、winbindは通常これを行う。winbindは
	  サイトを認識し、固有のkrb5.confファイルを作成することにより、
	  krb5ライブラリがローカルのDCを使うようにする。
	</p><p>
	  winbindがこれを行うことを防止することは、winbindが知ることの出来ない、
	  システム上にある、システムのkrb5.conf中に特別なオプションを追加しなければ
	  ならない場合に必要かもしれない。
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>create krb5 conf</code></em> = <code class="literal">yes</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="create mode"><div class="titlepage"><div><div><h3 class="title"><a name="id2544592"/>

<a name="CREATEMODE"/>create mode
</h3></div></div></div><a class="indexterm" name="id2544593"/><div class="variablelist"><dl><dt/><dd><p>このパラメータは右記のパラメータの別名である：<a class="link" href="#CREATEMASK">create mask</a>.</p></dd></dl></div></div><div class="section" title="create mask (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2544619"/>

create mask (S)
</h3></div></div></div><a class="indexterm" name="id2544620"/><a name="CREATEMASK"/><div class="variablelist"><dl><dt/><dd><p>ファイル作成時に付与されるパーミッションは、
    DOS の属性を UNIX のパーミッションに変換することにより生成されるが、
    最終的には、このパラメータとビット単位の AND 演算が行なわれる。
    このパラメータは、ファイルの UNIX のパーミッションに対するビットマスクと
    考えることができる。ここで<span class="emphasis"><em>設定されない</em></span>ビットは、
    ファイル作成時のパーミッションから削除される。
    </p><p>
    このパラメータの既定値は、
    <code class="literal">「group」</code>と<code class="literal">「other」</code>の書き込みおよび実行権を UNIX のパーミッションから取り除いた値である。
    </p><p>この処理に引続き、Samba はこのパラメータにより生成されたパーミッションを
    <a class="link" href="smb.conf.5.html#FORCECREATEMODE" target="_top">force create mode</a>
    パラメータの値とビット単位の OR 演算を行なう。
    なおパラメータの値はデフォルトで、000 に設定されている。</p><p>このパラメータは、ディレクトリのパーミッション生成には関与しない。
    <a class="link" href="smb.conf.5.html#DIRECTORYMASK" target="_top">directory mask</a>
    パラメータを参照のこと。
    </p><p>
    このパラメータは、Windows NT/2000 の ACL エディタにより設定されるアクセス許可には関与しない。
    管理者が ACL に対するビットマスクも同様に設定したいと考えている場合は、
    <a class="link" href="smb.conf.5.html#SECURITYMASK" target="_top">security mask</a> の設定が必要である。
    </p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>create mask</code></em> = <code class="literal">0744</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>create mask</code></em> = <code class="literal">0775</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="csc policy (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2544765"/>

csc policy (S)
</h3></div></div></div><a class="indexterm" name="id2544766"/><a name="CSCPOLICY"/><div class="variablelist"><dl><dt/><dd><p>このパラメータは、<span class="emphasis"><em>クライアントサイドのキャッシングポリシー</em></span>を規定し、
	オフラインキャッシュ機能を持つクライアントが、
	共有上のファイルをどのようにキャッシュするかを規定する。
	有効な値は、manual, documents, programs, disable である。</p><p>これらの値は、Windows のサーバ側の設定に対応している。</p><p>例えば、移動プロファイルが格納されている共有では、
	<a class="link" href="smb.conf.5.html#CSCPOLICY" target="_top">csc policy = disable</a> とすることで、
	オフラインキャッシュを無効にできる。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>csc policy</code></em> = <code class="literal">manual</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>csc policy</code></em> = <code class="literal">programs</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="ctdbd socket (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2544846"/>

ctdbd socket (G)
</h3></div></div></div><a class="indexterm" name="id2544847"/><a name="CTDBDSOCKET"/><div class="variablelist"><dl><dt/><dd><p>
<code class="literal">clustering=yes</code> の指定を行う場合は、
ctdbd がどの unix ドメインソケットを監視するのかを、Samba に対して 
教えてやる必要がある。ctdb 1.0 におけるデフォルトのパスは /tmp/ctdb.socket
であるが、これを smb.conf で明示してやらなければならない。
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>ctdbd socket</code></em> = <code class="literal"/>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>ctdbd socket</code></em> = <code class="literal">/tmp/ctdb.socket</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="ctdb timeout (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2544913"/>

ctdb timeout (G)
</h3></div></div></div><a class="indexterm" name="id2544914"/><a name="CTDBTIMEOUT"/><div class="variablelist"><dl><dt/><dd><p>このパラメータはSambaとctdb間での接続のタイムアウト時間を秒単位で指定する。
	  これはSambaをクラスタリングがサポート出来るようにコンパイルし、
	  <em class="parameter"><code>clustering=yes</code></em>を設定した場合にのみ有効である。
	</p><p>クラスタブロック内に何らかのものがある場合、ブロック状態に追加しようと
	  するときに、ctdbをとても長い時間待つことがたまにある。うまく動作するクラスタ
	  環境においては、これは決して発生しないが、ちょっとした問題があるかもしれない
	  とてもたくさんのコンポーネントがクラスタ中にはある。クラスタ間で何かを転送
	  するために、長いサービス時間がかかる、負荷の高いクラスタ上では有効かもしれない
	  という理由で、この値の正しい落とし所を選択するのはとてもトリッキーである。
	  この値を小さくしすぎると、クラスタが提供するサービスをデグレードする事になり、
	  長くしすぎると、クラスタそれ自身を、何らかの重大な障害から、長い時間リカバリ
	  できなくなるかもしれない。
	</p><p>
	  もしも、このパラメータを設定する場合、これはsmb.conf中に存在する必要があるが、
	  レジストリに接続するのにctdbが必要であるという理由で、レジストリ設定中
	  (通常はクラスタ上)に配置するのは好ましくないことに注意。
	</p><p><em class="parameter"><code>ctdb timeout</code></em>をnに設定することは、クラスタのパニック
	  による応答に、どのプロセスもn秒以上待たないということになる。既定値として強く
	  推奨する0に設定(既定値)すると、Sambaはそれを永久にブロックする。
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>ctdb timeout</code></em> = <code class="literal">0</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="cups connection timeout (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2545008"/>

cups connection timeout (G)
</h3></div></div></div><a class="indexterm" name="id2545009"/><a name="CUPSCONNECTIONTIMEOUT"/><div class="variablelist"><dl><dt/><dd><p>このパラメータは<a class="link" href="smb.conf.5.html#PRINTING" target="_top">printing</a>で<code class="constant">cups</code>
    が指定されたときだけ有効になる。
    </p><p>
   これが有効な場合、smbdがCUPSサーバに接続時にタイムアウトするまでの時間を
   指定する。もし、指定時間以上の秒数が経過しても接続が確立しない場合には
   接続エラーとなる。
   </p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>cups connection timeout</code></em> = <code class="literal">30</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>cups connection timeout</code></em> = <code class="literal">60</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="cups encrypt (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2545087"/>

cups encrypt (G)
</h3></div></div></div><a class="indexterm" name="id2545088"/><a name="CUPSENCRYPT"/><div class="variablelist"><dl><dt/><dd><p>
	  このパラメータは、もしも<a class="link" href="smb.conf.5.html#PRINTING" target="_top">printing</a>が
	  <code class="constant">cups</code>で、もしもCUPSが1.0.xよりも新しいものを
	  使っている場合にのみ適用可能である。これは、SambaがCUPSサーバと通信する時に、
	  暗号化を使うべきか否かを定義する。取り得る値は
	  <span class="emphasis"><em>auto</em></span>, <span class="emphasis"><em>yes</em></span> と
        <span class="emphasis"><em>no</em></span>である。
	</p><p>
	  autoに設定した場合、各CUPS接続のセットアップ時にTLSのハンドシェークを試みる。
	  もしもそれが失敗した場合、暗号化なし操作に切り替える。
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>cups encrypt</code></em> = <code class="literal">"no"</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="cups options (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2545160"/>

cups options (S)
</h3></div></div></div><a class="indexterm" name="id2545161"/><a name="CUPSOPTIONS"/><div class="variablelist"><dl><dt/><dd><p>
    このパラメータは <a class="link" href="smb.conf.5.html#PRINTING" target="_top">printing</a> が
    <code class="constant">cups</code> に設定されている場合のみ有効である。
    この値は、 CUPS ライブラリに直接渡されるオプションを記述した任意の形式の文字列である。
    </p><p>
    CUPS で有効な一般の印刷オプション ( CUPS の「Spftware Users'
   Manual」に記載されているもの ) はすべて設定できる。
   また、設定対象のキューで有効な ( 「lpoptions -d printername -l」で表示される ) 
   任意のプリンタ固有のオプションも設定できる。
    複数のパラメータは、ABNF指定のPAPIテキストオプションに準じた、空白で
    分離された名前/値ペアでなければならない。複数の値を持つ場合
    ("name={a=... b=... c=...}")は、中括弧がそのままで格納される。
   </p><p>
    Windows クライアントが Samba を経由して印刷を行なう際に CUPS サーバの <code class="filename">error_log</code> ファイルに
    「Unsupported format 'application/octet-stream'」といったメッセージが含まれている場合、
    このパラメータを <code class="constant">raw</code> に設定するとよい。
    現在では <code class="filename">/etc/cups/mime.{convs,types}</code> において、
    システム全体で raw 印刷を有効にする必要はない。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>cups options</code></em> = <code class="literal">""</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>cups options</code></em> = <code class="literal">"raw,media=a4</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="cups server (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2545275"/>

cups server (G)
</h3></div></div></div><a class="indexterm" name="id2545276"/><a name="CUPSSERVER"/><div class="variablelist"><dl><dt/><dd><p>
    このパラメータは <a class="link" href="smb.conf.5.html#PRINTING" target="_top">printing</a> が
    <code class="constant">cups</code> に設定されている場合のみ有効である。
    </p><p>
    このパラメータが設定されると、CUPS の <code class="filename">client.conf</code>
    で設定された ServerName オプションの値が置き換えられる。
    これは、仮想 Samba サーバ毎に異なる CUPS デーモンに接続する際に必要である。
   </p><p>
   なお、サーバ名に引続きコロンの後ろにポート番号を記述することで、ポー
   ト番号を指定することも可能である。
    ポートの指定が行なわれ名張った場合、IPP のデフォルトポート (631)
   が用いられる。
   </p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>cups server</code></em> = <code class="literal">""</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>cups server</code></em> = <code class="literal">mycupsserver</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>cups server</code></em> = <code class="literal">mycupsserver:1631</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="deadtime (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2545388"/>

deadtime (G)
</h3></div></div></div><a class="indexterm" name="id2545389"/><a name="DEADTIME"/><div class="variablelist"><dl><dt/><dd><p>このパラメータの値(10進の整数)は、接続が利用されなくなったとみなされて切断が行なわれるまでの経過時間(分)を表す。 deadtime はオープンされているファイルが存在しない時のみ有効である。
    </p><p>このパラメータは、多数の利用されていない接続によって、サーバ上のリソースが枯渇するのを防ぐのに有効である。</p><p>多くのクライアントは、このパラメータをユーザに意識させないように、接続が切断されていた際に、自動で再接続を行なう機能を持っている。</p><p>ほとんどのシステムにおいて、このパラメータを利用して、数分でタイムアウトが発生するようにすることを推奨する。</p><p>deadtime が 0 の場合、タイムアウトによる自動的な切断は行なわれない。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>deadtime</code></em> = <code class="literal">0</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>deadtime</code></em> = <code class="literal">15</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="debug class (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2545470"/>

debug class (G)
</h3></div></div></div><a class="indexterm" name="id2545471"/><a name="DEBUGCLASS"/><div class="variablelist"><dl><dt/><dd><p>
このブール値パラメータが有効の場合、デバッグ用ヘッダの中にデバッグクラス
 (DBGC_CLASS) が表示される。
    </p><p>
現在利用可能なデバッグクラスに関する詳細は、<a class="link" href="smb.conf.5.html#LOGLEVEL" target="_top">log level</a>
の章を参照してほしい。
    </p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>debug class</code></em> = <code class="literal">no</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="debug hires timestamp (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2545527"/>

debug hires timestamp (G)
</h3></div></div></div><a class="indexterm" name="id2545528"/><a name="DEBUGHIRESTIMESTAMP"/><div class="variablelist"><dl><dt/><dd><p>ログメッセージに秒単位以上のタイムスタンプが必要な場合、
	この真偽値のパラメータを有効にすることにより、
	マイクロ秒単位のタイムスタンプがメッセージに付加される。
	</p><p>
	このパラメータを有効にする際は、 <a class="link" href="smb.conf.5.html#DEBUGTIMESTAMP" target="_top">debug  timestamp</a> が有効になっている必要があることに注意。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>debug hires timestamp</code></em> = <code class="literal">yes</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="debug pid (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2545584"/>

debug pid (G)
</h3></div></div></div><a class="indexterm" name="id2545586"/><a name="DEBUGPID"/><div class="variablelist"><dl><dt/><dd><p>fork されて生成された <a class="citerefentry" href="smbd.8.html"><span class="citerefentry"><span class="refentrytitle">smbd</span>(8)</span></a> プロセスが同一のログファイルを共用している場合、
	どのプロセスがメッセージを出力しているかを識別することは非常に難しい。
	この真偽値パラメータを有効にすることで、ログファイル中のタイムスタンプメッセージのヘッダにプロセスIDが付加されるようになる。</p><p>
	このパラメータを有効にする際は、 <a class="link" href="smb.conf.5.html#DEBUGTIMESTAMP" target="_top">debug  timestamp</a> が有効になっている必要があることに注意。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>debug pid</code></em> = <code class="literal">no</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="debug prefix timestamp (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2545656"/>

debug prefix timestamp (G)
</h3></div></div></div><a class="indexterm" name="id2545657"/><a name="DEBUGPREFIXTIMESTAMP"/><div class="variablelist"><dl><dt/><dd><p>
このオプションを有効にすると、デバッグメッセージにタイムスタンプメッセージ
ヘッダが付くようになる。ただし <a class="link" href="smb.conf.5.html#DEBUGTIMESTAMP" target="_top">debug timestamp</a>
に含まれるファイル名や関数情報には付加されない。
タイムスタンプを表すためだけに、新たなデバッグ行が発生することはない。
    </p><p>
注意：このパラメータは <a class="link" href="smb.conf.5.html#DEBUGTIMESTAMP" target="_top">debug timestamp</a> を上書きする。
    </p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>debug prefix timestamp</code></em> = <code class="literal">no</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="timestamp logs"><div class="titlepage"><div><div><h3 class="title"><a name="id2545728"/>

<a name="TIMESTAMPLOGS"/>timestamp logs
</h3></div></div></div><a class="indexterm" name="id2545729"/><div class="variablelist"><dl><dt/><dd><p>このパラメータは右記のパラメータの別名である：<a class="link" href="#DEBUGTIMESTAMP">debug timestamp</a>.</p></dd></dl></div></div><div class="section" title="debug timestamp (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2545755"/>

debug timestamp (G)
</h3></div></div></div><a class="indexterm" name="id2545756"/><a name="DEBUGTIMESTAMP"/><div class="variablelist"><dl><dt/><dd><p>Samba のデバッグログのメッセージには、
	デフォルトでタイムスタンプが付加されるが、
	高い、<a class="link" href="smb.conf.5.html#DEBUGLEVEL" target="_top">debug level</a> を設定している場合、
	このタイムスタンプが目障りに感じることもあるだろう。
	この真偽値パラメータにより、タイムスタンプの付加を抑止することができる。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>debug timestamp</code></em> = <code class="literal">yes</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="debug uid (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2545812"/>

debug uid (G)
</h3></div></div></div><a class="indexterm" name="id2545813"/><a name="DEBUGUID"/><div class="variablelist"><dl><dt/><dd><p>Samba は root 権限で動作する時もあれば、
    接続したユーザの権限で動作する時もある。
    このパラメータを有効にすると、現在の euid、egid、uid、gid をログファイル中のタイムスタンプメッセージに付加する。</p><p>
	このパラメータを有効にする際は、 <a class="link" href="smb.conf.5.html#DEBUGTIMESTAMP" target="_top">debug  timestamp</a> が有効になっている必要があることに注意。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>debug uid</code></em> = <code class="literal">no</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="dedicated keytab file (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2545874"/>

dedicated keytab file (G)
</h3></div></div></div><a class="indexterm" name="id2545875"/><a name="DEDICATEDKEYTABFILE"/><div class="variablelist"><dl><dt/><dd><p>
<a class="link" href="smb.conf.5.html#KERBEROSMETHOD" target="_top">kerberos method</a>が "dedicated keytab"
に設定されている場合に、kerberos の keytab ファイルへのパスを指定する。
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>dedicated keytab file</code></em> = <code class="literal"/>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>dedicated keytab file</code></em> = <code class="literal">/usr/local/etc/krb5.keytab</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="default case (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2545937"/>

default case (S)
</h3></div></div></div><a class="indexterm" name="id2545938"/><a name="DEFAULTCASE"/><div class="variablelist"><dl><dt/><dd><p><a class="link" href="smb.conf.5.html#NAMEMANGLING" target="_top">name mangling</a> セクションを参照のこと。
    <a class="link" href="smb.conf.5.html#SHORTPRESERVECASE" target="_top">short preserve case</a> パラメータにも注意。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>default case</code></em> = <code class="literal">lower</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="default devmode (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2545993"/>

default devmode (S)
</h3></div></div></div><a class="indexterm" name="id2545994"/><a name="DEFAULTDEVMODE"/><div class="variablelist"><dl><dt/><dd><p>このパラメータは、<a class="link" href="smb.conf.5.html#PRINTABLE" target="_top">printable</a> サービスにのみ適用される。
	smbd が、Windows NT/2000/XP クライアントに対してプリンタドライバを提供する際に、
	Samba サーバ上の各プリンタでは、用紙サイズ、用紙の方向、両面印刷指定、
	settings といった情報が定義されたデバイスモード(device mode)という値を設定する必要がある。
	デバイスモードの適切な値は、プリンタドライバ自身のみが生成することができる
	(この処理は、Win32 プラットフォームでのみ実行することができる)。
	smbd はデバイスモードを生成するドライバのコードを実行できないため、
	このフィールドの既定値としては、NULL が設定される。
    </p><p> Windows NT/2000/XP クライアントに対してプリンタドライバを提供する上での問題点の多くは、
	デバイスモードの生成に関するものである。
	ドライバによっては、デバイスモードとして NULL を設定すると、
	クライアント側の Explorer.exe をクラッシュさせるものがある。
	また、デバイスモードがドライバ自身によって生成されていないと（たとえば smbd がデフォルトのデバイスモードを生成するなど）、
	クライアントのスプーラサービス(spoolsv.exe)を停止させてしまうものもある。
	</p><p> このパラメータは、熟慮の上、プリンタドライバのテストを行なった上で用いること。
	デバイスモードを NULL のままにしておき、Windows クライアントに適切な値を設定される方が好ましい。
	ただし、ドライバが常にこの処理を行なうとは限らないため、
	<code class="literal">default devmode = yes</code>
	の設定を行なうことで、smbd にデフォルトのデバイスモードを生成するような指示を行なうことができるようになっている。
    </p><p>Windows NT/2000 の印刷システムやデバイスモードに関する詳細な情報については、
    <a class="ulink" href="http://msdn.microsoft.com/" target="_top">MSDN documentation</a> を参照のこと。
</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>default devmode</code></em> = <code class="literal">yes</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="default"><div class="titlepage"><div><div><h3 class="title"><a name="id2546126"/>

<a name="DEFAULT"/>default
</h3></div></div></div><a class="indexterm" name="id2546127"/><div class="variablelist"><dl><dt/><dd><p>このパラメータは右記のパラメータの別名である：<a class="link" href="#DEFAULTSERVICE">default service</a>.</p></dd></dl></div></div><div class="section" title="default service (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2546154"/>

default service (G)
</h3></div></div></div><a class="indexterm" name="id2546155"/><a name="DEFAULTSERVICE"/><div class="variablelist"><dl><dt/><dd><p> このパラメータは、
	要求されたサービスが存在しなかった場合に接続されるサービス名を指定する。
	パラメータの値に、大括弧('[' と ']')は<span class="emphasis"><em>不要である</em></span>ことに注意(設定例を参照のこと)。</p><p>このパラメータに既定値はない。
	このパラメータが設定されていない場合、
	存在しない共有に対する接続は失敗する。</p><p>default service は
	<a class="link" href="smb.conf.5.html#GUESTOK" target="_top">guest ok</a> と <a class="link" href="smb.conf.5.html#READ-ONLY" target="_top">read-only</a> パラメータを有効にしたサービスにするのが一般的である。</p><p>
	外面的なサービス名はクライアントから要求されたサービス名に変換される。
	これは、<em class="parameter"><code>%S</code></em>
	のようなマクロをワイルドカードサービスに適用する際に、非常に有用である。</p><p>default service のサービス名に現れる「_」文字は、「/」にマッピングされる。
	これにより、いろいろと面白いことができるだろう。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>default service</code></em> = <code class="literal"/>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>default service</code></em> = <code class="literal">pub</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="defer sharing violations (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2546270"/>

defer sharing violations (G)
</h3></div></div></div><a class="indexterm" name="id2546271"/><a name="DEFERSHARINGVIOLATIONS"/><div class="variablelist"><dl><dt/><dd><p>
    Windows ではファイルのオープン時に他のプロセスとの共有方法を指定することができる。
    あるプロセスがファイルを開こうとした時に指定した共有方法が
    別のプロセスによって指定された共有方法と共存できないようなものであった際に
    共有違反が発生する。
    このパラメータにより、smbd は Windows サーバのように動作するようになり、
    「共有違反」のエラーメッセージを 1 秒待ってから返却するようになり、
    クライアントはこの間に共有違反を起こしたファイルをクローズすることが可能となる。
    </p><p>UNIX のデフォルトでは、こうした挙動は行なわれない。</p><p>
    このパラメータは Samba の挙動をより Windows に近づけるためのものであり、
    無効にする必然性はないであろう。
    </p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>defer sharing violations</code></em> = <code class="literal">True</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="delete group script (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2546347"/>

delete group script (G)
</h3></div></div></div><a class="indexterm" name="id2546348"/><a name="DELETEGROUPSCRIPT"/><div class="variablelist"><dl><dt/><dd><p>このパラメータは、グループの削除が要求された際に、 <a class="citerefentry" href="smbd.8.html"><span class="citerefentry"><span class="refentrytitle">smbd</span>(8)</span></a> によって <span class="emphasis"><em>ROOT 権限で</em></span> 実行されるスクリプトのフルパス名である。
	<em class="parameter"><code>%g</code></em> はグループ名に置換される。
	スクリプトは Windows NT のドメイン管理ツールを使用して設定を行なう際にのみ有効である。
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>delete group script</code></em> = <code class="literal"/>
</em></span>
</p></dd></dl></div></div><div class="section" title="deleteprinter command (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2546408"/>

deleteprinter command (G)
</h3></div></div></div><a class="indexterm" name="id2546409"/><a name="DELETEPRINTERCOMMAND"/><div class="variablelist"><dl><dt/><dd><p>Samba 2.2における Windows NT/2000 
	クライアントに対応した MS-RPC ベースの印刷サポートの実装にともない、
	DeletePrinter() RPC呼び出しを発行することにより、
	実行中にプリンタを削除することが可能になった。</p><p>Samba ホスト上では、
	実際の印刷システム上から物理的にプリンタが削除される。
    <a class="link" href="smb.conf.5.html#DELETEPRINTERCOMMAND" target="_top">deleteprinter command</a> パラメータには、
	プリンタを印刷システムと<code class="filename">smb.conf</code>から削除するために
	必要な操作を実行するためのスクリプトを設定する。
	</p><p><a class="link" href="smb.conf.5.html#DELETEPRINTERCOMMAND" target="_top">deleteprinter command</a> は
	<a class="link" href="smb.conf.5.html#PRINTERNAME" target="_top">printer name</a>のみをパラメータに設定されて自動的に呼び出される。
	</p><p><a class="link" href="smb.conf.5.html#DELETEPRINTERCOMMAND" target="_top">deleteprinter command</a> が実行されると、
	<code class="literal">smbd</code> は削除対象のプリンタを無効にするために、
	<code class="filename">smb.conf</code> を読み直す。
	共有名が依然として有効な場合、<code class="literal">smbd</code> はクライアントに
	ACCESS_DENIED エラーを返却する。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>deleteprinter command</code></em> = <code class="literal"/>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>deleteprinter command</code></em> = <code class="literal">/usr/bin/removeprinter</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="delete readonly (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2546550"/>

delete readonly (S)
</h3></div></div></div><a class="indexterm" name="id2546551"/><a name="DELETEREADONLY"/><div class="variablelist"><dl><dt/><dd><p>このパラメータにより、読み取り専用のファイルの削除が可能になる。
	これは DOS の仕様ではないが、UNIX では可能な処理である。</p><p>このオプションは、rcs のようなアプリケーションを動作させるのに有用で、
	UNIX ファイルの所有者に関する仕様がファイルのパーミッション変更を妨げたり、
	DOS の仕様が読み取り専用ファイルの削除を妨げたりする問題を回避する。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>delete readonly</code></em> = <code class="literal">no</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="delete share command (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2546603"/>

delete share command (G)
</h3></div></div></div><a class="indexterm" name="id2546604"/><a name="DELETESHARECOMMAND"/><div class="variablelist"><dl><dt/><dd><p>
	Samba 2.2.0 では、Windows NT 4.0 のサーバマネージャーを利用して共有設定を
	を追加・削除する機能が追加された。
	<em class="parameter"><code>delete share command</code></em> は、
	<code class="filename">smb.conf</code>に既存のサービスを削除
	する外部のプログラム、もしくはスクリプトを設定するためのパラメータである。
	</p><p>
	<em class="parameter"><code>delete share command</code></em>
	を実行するため、管理者は <code class="literal">smbd</code> にroot
	アカウント(uid = 0)で接続するか、アカウントに<code class="literal">SeDiskOperatorPrivilege</code>
	が付与されている必要がある。
	<em class="parameter"><code>delete share command</code></em>で指定された
	スクリプトはroot権限で実行される。
	</p><p>
		コマンド実行時に、<code class="literal">smbd</code>は自動的に以下の
		2つの引数を付加して<em class="parameter"><code>delete share command</code></em>を
		実行する。
	</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p><em class="parameter"><code>configFile</code></em> - <code class="filename">smb.conf</code>の場所</p></li><li class="listitem"><p><em class="parameter"><code>shareName</code></em> - 既存の共有名 </p></li></ul></div><p>
	このパラメータは、ファイル共有設定の削除にのみ使われる。印刷共有の設定を
	削除するときは<a class="link" href="smb.conf.5.html#DELETEPRINTERCOMMAND" target="_top">deleteprinter command</a>を参照のこと。
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>delete share command</code></em> = <code class="literal"/>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>delete share command</code></em> = <code class="literal">/usr/local/bin/delshare</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="delete user from group script (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2546767"/>

delete user from group script (G)
</h3></div></div></div><a class="indexterm" name="id2546768"/><a name="DELETEUSERFROMGROUPSCRIPT"/><div class="variablelist"><dl><dt/><dd><p>このパラメータは、 Windows NT のドメイン管理ツールによってユーザがグループから削除された際に実行されるスクリプトのフルパス名である。
	これは <a class="citerefentry" href="smbd.8.html"><span class="citerefentry"><span class="refentrytitle">smbd</span>(8)</span></a>	によって <span class="emphasis"><em>ROOT 権限で</em></span> 呼び出される。
	<em class="parameter"><code>%g</code></em> はグループ名に置換され、
	<em class="parameter"><code>%u</code></em> はユーザ名に置換される。
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>delete user from group script</code></em> = <code class="literal"/>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>delete user from group script</code></em> = <code class="literal">/usr/sbin/deluser %u %g</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="delete user script (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2546851"/>

delete user script (G)
</h3></div></div></div><a class="indexterm" name="id2546852"/><a name="DELETEUSERSCRIPT"/><div class="variablelist"><dl><dt/><dd><p>このパラメータは、リモート RPC (NT) ツールによってユーザの管理が行なわれた際に、 <a class="citerefentry" href="smbd.8.html"><span class="citerefentry"><span class="refentrytitle">smbd</span>(8)</span></a> によって実行されるスクリプトのフルパス名である。</p><p>このスクリプトは、「ドメインユーザマネージャ」や 	<code class="literal">rpcclient</code> により、リモートのクライアントがサーバからユーザを削除した際に呼び出される。</p><p>このスクリプトは指定されたユーザ名の UNIX ユーザを削除するものでなければならない。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>delete user script</code></em> = <code class="literal"/>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>delete user script</code></em> = <code class="literal">/usr/local/samba/bin/del_user %u</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="delete veto files (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2546934"/>

delete veto files (S)
</h3></div></div></div><a class="indexterm" name="id2546935"/><a name="DELETEVETOFILES"/><div class="variablelist"><dl><dt/><dd><p>このオプションは、アクセスが禁止(veto)されたディレクトリ
    (<a class="link" href="smb.conf.5.html#VETOFILES" target="_top">veto files</a>
    オプションを参照のこと)を含むディレクトリを削除しようとする際に影響する。
    このオプションが <code class="constant">no</code> (デフォルト) の場合、
    アクセスが禁止されたディレクトリ内にアクセスを禁止されていないファイルやディレクトリが含まれていても、
    ディレクトリ内の削除は失敗する。これは通常期待されている動作であろう。</p><p> このオプションを <code class="constant">yes</code> に設定すると、
    Samba はアクセスが禁止されたディレクトリ内でも
    再帰的にすべてのファイルやディレクトリを削除しようとする。
    NetAtalk のようなファイルサーバを併用する際は、
    通常 DOS/Windows ユーザからの参照するのを禁止しているディレクトリ内にメタファイル
    (たとえば <code class="filename">.AppleDouble</code>など)を作成するため、このオプションが有用である。</p><p> <a class="link" href="smb.conf.5.html#DELETEVETOFILES" target="_top">delete veto files = yes</a> を指定することで、
    これらのディレクトリは、親ディレクトリが削除された際に、自動的に削除される
    (ただし、ユーザはディレクトリを削除するパーミッションを持っている必要がある)。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>delete veto files</code></em> = <code class="literal">no</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="dfree cache time (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2547044"/>

dfree cache time (S)
</h3></div></div></div><a class="indexterm" name="id2547046"/><a name="DFREECACHETIME"/><div class="variablelist"><dl><dt/><dd><p><em class="parameter"><code>dfree cache time</code></em> パラメータは、
	Samba のディスク空き容量の計算で問題が発生するシステムでのみ利用すること。
	Ultrix では問題の発生することが知られているが、
	他のオペレーティングシステムで発生するかも知れない。
	この問題は、各々のディレクトリの一覧表示の終了時に
	「終了 再試行 無視 (Abort Retry Ignore)」のエラーが発生する形で顕在化する。</p><p>
	このパラメータは Samba 3.0.21 で新設されたものである。
	これは、smbd がディスク空き容量の結果をキャッシュする時間を秒単位で指定する。0 (既定値) の場合、キャッシュは行なわれない。
	これにより、高負荷のサーバで <a class="link" href="smb.conf.5.html#DFREECOMMAND" target="_top">dfree command</a> のスクリプトが頻繁に呼ばれて負荷が増大することが避けられる。
	</p><p>
	このパラメータのデフォルト値は 0 であり、キャッシュは行なわれない。
	</p><p><span class="emphasis"><em>既定値なし</em></span></p><p>例: <span class="emphasis"><em><em class="parameter"><code>dfree cache time</code></em> = <code class="literal">dfree cache time = 60</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="dfree command (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2547132"/>

dfree command (S)
</h3></div></div></div><a class="indexterm" name="id2547133"/><a name="DFREECOMMAND"/><div class="variablelist"><dl><dt/><dd><p><em class="parameter"><code>dfree command</code></em> パラメータは、
	Samba のディスク空き容量の計算で問題が発生するシステムでのみ利用すること。
	Ultrix では問題の発生することが知られているが、
	他のオペレーティングシステムで発生するかも知れない。
	この問題は、各々のディレクトリの一覧表示の終了時に
	「終了 再試行 無視 (Abort Retry Ignore)」のエラーが発生する形で顕在化する。</p><p>このパラメータでは、
	総ディスク容量と空き容量を計算する内部ルーチンを置き換える外部スクリプトを指定する。
	以下に、この機能を果たすスクリプトの仕様を示す。
	</p><p>
	Samba 3.0.21 において、このパラメータは共有単位に設定可能なパラメータとなり、
	新たに追加された <a class="link" href="smb.conf.5.html#DFREECACHETIME" target="_top">dfree cache time</a> パラメータにより、
	高負荷のシステムにおいて、このスクリプトの出力結果をキャッシュできるようになった。
	</p><p> 外部スクリプトは、対象となるファイルシステム中のディレクトリを示すパラメータ 1 つを受け取る。
	これは通常 <code class="filename">./</code>という文字列からなる。
	スクリプトはアスキー文字で 2 つの整数を返さなければならない。
	1 つめはブロック単位のディスク総容量で、 2 つめは利用できるブロック数でなければならない。
	3 番目の戻り値として、オプションでブロックサイズをバイト単位で返却させることもできる。
	デフォルトのブロックサイズは 1024 バイトである。</p><p>注意: スクリプトは、setuid や setgid しては <span class="emphasis"><em>ならず</em></span>、
	(root のみ書き込み可能で)所有者は root である必要がある。</p><p>dfree スクリプト(実行可能にする必要がある)を以下に示す:
</p><pre class="programlisting"> 
#!/bin/sh
df $1 | tail -1 | awk '{print $(NF-4),$(NF-2)}'
</pre><p>
        </p><p>
	もしくは、以下のようなものも考えられる(Sys V ベースのシステムの場合):
</p><pre class="programlisting"> 
#!/bin/sh
/usr/bin/df -k $1 | tail -1 | awk '{print $3" "$5}'
</pre><p>
</p><p>
	システムによっては、コマンド名をフルパスで記述する必要がある場合があるので注意。</p><p>
	デフォルトは内部ルーチンにより、ディスクの総容量と空き容量が計算される。
	</p><p><span class="emphasis"><em>既定値なし</em></span></p><p>例: <span class="emphasis"><em><em class="parameter"><code>dfree command</code></em> = <code class="literal">/usr/local/samba/bin/dfree</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="directory mode"><div class="titlepage"><div><div><h3 class="title"><a name="id2547294"/>

<a name="DIRECTORYMODE"/>directory mode
</h3></div></div></div><a class="indexterm" name="id2547296"/><div class="variablelist"><dl><dt/><dd><p>このパラメータは右記のパラメータの別名である：<a class="link" href="#DIRECTORYMASK">directory mask</a>.</p></dd></dl></div></div><div class="section" title="directory mask (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2547322"/>

directory mask (S)
</h3></div></div></div><a class="indexterm" name="id2547323"/><a name="DIRECTORYMASK"/><div class="variablelist"><dl><dt/><dd><p> このパラメータは、パーミッションを示す8進数の数値であり、
    UNIX 側のディレクトリ作成時に DOS の属性から UNIX のパーミッションを生成する際に使われる。
    </p><p>ディレクトリ作成時に付与されるパーミッションは、
    DOS の属性と UNIX のパーミッションとのマッピングにしたがって、
    DOS の属性を UNIX のパーミッションに変換することにより生成されるが、
    最終的には、このパラメータとビット単位の AND 演算が行なわれる。
    このパラメータは、ディレクトリの UNIX のパーミッションに対するビットマスクと
    考えることができる。ここで<span class="emphasis"><em>設定されない</em></span>ビットは、
    ディレクトリ作成時のパーミッションから削除される。</p><p>このパラメータの既定値は、
    「group」と「other」の書き込み権を
    UNIX のパーミッションから取り除き、ディレクトリの所有者のみが変更可能にしたものである。</p><p> この処理に引き続いて、Samba はこのパラメータで生成された UNIX のパーミッションと
    <a class="link" href="smb.conf.5.html#FORCEDIRECTORYMODE" target="_top">force directory mode</a> パラメータの値との OR 演算を行う。
    このパラメータは既定では 000 に設定されている(つまり、追加されるパーミッションはない)。</p><p>このパラメータは、Windows NT/2000 の ACL エディタで設定される
    アクセス許可には適用されない。ACL に対しても強制的にマスクを適用したい場合は、
    <a class="link" href="smb.conf.5.html#DIRECTORYSECURITYMASK" target="_top">directory security mask</a> パラメータを設定することが必要である。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>directory mask</code></em> = <code class="literal">0755</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>directory mask</code></em> = <code class="literal">0775</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="directory name cache size (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2547454"/>

directory name cache size (S)
</h3></div></div></div><a class="indexterm" name="id2547455"/><a name="DIRECTORYNAMECACHESIZE"/><div class="variablelist"><dl><dt/><dd><p>
	  このパラメータは、ディレクトリネームキャッシュのサイズを指定する。
	  これは*BSDシステムではoffにする必要がある。
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>directory name cache size</code></em> = <code class="literal">100</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="directory security mask (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2547497"/>

directory security mask (S)
</h3></div></div></div><a class="indexterm" name="id2547498"/><a name="DIRECTORYSECURITYMASK"/><div class="variablelist"><dl><dt/><dd><p>このパラメータは、
    Windows NT クライアント上のセキュリティダイアログボックスを使って、
    UNIX ディレクトリのパーミッションを操作する時に、
    設定可能な UNIX 側のパーミッションを指定する。</p><p> このパラメータは、変更されるパーミッションビットに対して、
    マスクとして適用され (AND 操作が適用され)るため、
    このマスクにないビットは変更操作から保護される。
    このパラメータを、AND ではなく OR 操作を実行するパラメータである
    <a class="link" href="smb.conf.5.html#FORCEDIRECTORYSECURITYMODE" target="_top">force directory security mode</a> と混同しないように。
    基本的に、マスク中で 0 と指定されたビットは、常時0であるビットと見なされる。</p><p>
      基本的に、このマスク中ですべてのビットを0に設定することは、ファイル上の、
      このビットの以前のステータスにかかわらず、ファイルのパーミッション上の
      対応するビットを0に設定する結果となる。
    </p><p>このパラメータが明示的に指定されなかった場合は、
    0777 に設定される。これにより、ディレクトリに対する全ての
    user/group/world パーミッションが変更可能となる。</p><p><span class="emphasis"><em>注意</em></span> : 他の方法を使って Samba 
    サーバにアクセスすることが可能なユーザは、この制限を簡単に回避できてしまう。
    そのため、このパラメータの主な用途はスタンドアロンで動作する"アプライアンス"
    システムになるだろう。通常のシステムの管理者のほとんどは、
    このパラメータを規定値の <code class="constant">0777</code> のままにしておきたいと考えるだろう。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>directory security mask</code></em> = <code class="literal">0777</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>directory security mask</code></em> = <code class="literal">0700</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="disable netbios (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2547624"/>

disable netbios (G)
</h3></div></div></div><a class="indexterm" name="id2547625"/><a name="DISABLENETBIOS"/><div class="variablelist"><dl><dt/><dd><p>このパラメータを有効にすると、 Samba の NetBIOS サポート機能が無効になる。
    Windows 2000 および Windows XP を除くすべてのバージョンの Windows 
    では、NetBIOS のみを使用できる。</p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>NetBIOS サポートを無効にすると、 
    NetBIOS のみをサポートするクライアントからは Samba サーバにアクセスできなくなることに注意。
    </p></div><p>既定値: <span class="emphasis"><em><em class="parameter"><code>disable netbios</code></em> = <code class="literal">no</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="disable spoolss (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2547676"/>

disable spoolss (G)
</h3></div></div></div><a class="indexterm" name="id2547677"/><a name="DISABLESPOOLSS"/><div class="variablelist"><dl><dt/><dd><p>このパラメータを有効にすることで、
	Samba の SPOOLSS MS-RPC サポートを無効にし、Samba 2.0.x と同様の動作をさせることが可能となる。
	Windows NT/2000 クライアントは、Lanman 形式の印刷コマンドを利用することも可能である。
	Windows 9x/Me は、このパラメータに影響されない。
	なお、このパラメータを有効にすると、NT のプリンタプロパティを利用した、
	Windows NTのプリンタ追加ウィザードによる Sambaマシンへのプリンタドライバのアップロード機能が無効になる。
	また、Windows NT/2000 クライアントが、必要に応じて Samba
	マシンからプリンタドライバをダウンロードする機能も同時に無効になる。
	<span class="emphasis"><em>このパラメータを有効にする際は、充分注意すること。</em></span>
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>disable spoolss</code></em> = <code class="literal">no</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="display charset (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2547737"/>

display charset (G)
</h3></div></div></div><a class="indexterm" name="id2547738"/><a name="DISPLAYCHARSET"/><div class="variablelist"><dl><dt/><dd><p>Samba がメッセージを標準出力や標準エラー出力に出力する際に
用いる文字コードセットを指定する。
	既定値は "LOCALE"であり、これは、ロケールに従い、自動的に設定される
ことを意味する。
        この値は、通常、 <a class="link" href="smb.conf.5.html#UNIXCHARSET" target="_top">unix charset</a> と同じに
設定すべきである。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>display charset</code></em> = <code class="literal">"LOCALE" or "ASCII" (システムに依存)</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>display charset</code></em> = <code class="literal">UTF8</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="dmapi support (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2547811"/>

dmapi support (S)
</h3></div></div></div><a class="indexterm" name="id2547812"/><a name="DMAPISUPPORT"/><div class="variablelist"><dl><dt/><dd><p>
	このパラメータにより、Samba がオフラインのファイルの判定に DMAPI
	を用いるかどうかが制御される。
	これは、通常ファイルを自動的にテープに移動していくような階層型ストレージとの連携の際に用いられる。	
	</p><p>
	Samba はファイルの状態を DMAPI アプリケーションが登録したイベントを確認することで推測することに注意。
	この方法は、多くの階層型ストレージシステムで機能するが、一部機能しないシステムもあるかも知れない。この場合、 Samba はファイルがオフラインであるという誤った報告を行なうことになる。
	</p><p>
	このパラメータは、コンパイル時に DMAPI の実装サポートを確認できた場合にのみ有効となる。
	また、実行時にシステムで DMAPI が使用可能であることが確認できた場合にのみ使用される。
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>dmapi support</code></em> = <code class="literal">no</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="dns proxy (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2547883"/>

dns proxy (G)
</h3></div></div></div><a class="indexterm" name="id2547884"/><a name="DNSPROXY"/><div class="variablelist"><dl><dt/><dd><p>WINS サーバとして機能している <a class="citerefentry" href="nmbd.8.html"><span class="citerefentry"><span class="refentrytitle">nmbd</span>(8)</span></a> が WINS サーバとして機能している場合、ある NetBIOS 名が登録されていなかった時に、その NetBIOS 名を DNS 名として扱い、名前の問い合わせを行ったクライアントに代わってその名前を DNS サーバに対して問い合わせるように設定する。</p><p>NetBIOS 名の最大長は 15 文字であるため、 問い合わせる DNS 名(もしくはDNSの別名)も、最大15文字に制限される。</p><p><code class="literal">nmbd</code> が DNS への名前解決を行う際には、問い合わせにより他の処理が停止させないために、自分自身を複製したプロセスを生成する。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>dns proxy</code></em> = <code class="literal">yes</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="domain logons (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2547961"/>

domain logons (G)
</h3></div></div></div><a class="indexterm" name="id2547962"/><a name="DOMAINLOGONS"/><div class="variablelist"><dl><dt/><dd><p>
	このパラメータが <code class="constant">yes</code> に設定されると、 
	Samba サーバは、自身が所属する <a class="link" href="smb.conf.5.html#WORKGROUP" target="_top">workgroup</a>
	に所属する Windows 95/98 に対するドメインログオン機能を提供するようになる。
	さらに、Samba サーバは、
	Windows NT 4.0 形式のドメインコントローラとしても機能するようになる。
	この機能の設定に関する詳細な記述は、
	Samba-PDC-HOWTO の「Domain Control」章を参照のこと。
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>domain logons</code></em> = <code class="literal">no</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="domain master (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2548023"/>

domain master (G)
</h3></div></div></div><a class="indexterm" name="id2548024"/><a name="DOMAINMASTER"/><div class="variablelist"><dl><dt/><dd><p>このオプションにより、 <a class="citerefentry" href="smbd.8.html"><span class="citerefentry"><span class="refentrytitle">smbd</span>(8)</span></a> が
    WAN 環境におけるブラウズリストの統合を行なうことが可能になる。
    このオプションを設定すると、<code class="literal">nmbd</code> は、指定された <a class="link" href="smb.conf.5.html#WORKGROUP" target="_top">workgroup</a>
    のドメインマスタブラウザであることを表す、ドメイン固有の特別な
    NetBIOS 名(訳注:NetBIOS 名で末尾が 0x1b のユニーク名を指す) を登録する。
    各サブネット上にある、同じ名前の <a class="link" href="smb.conf.5.html#WORKGROUP" target="_top">workgroup</a>
    に属するローカルマスタブラウザは、この <code class="literal">nmbd</code>に対して、
    ローカルに収集したブラウズリストを提供するとともに、
    <a class="citerefentry" href="smbd.8.html"><span class="citerefentry"><span class="refentrytitle">smbd</span>(8)</span></a>
    に対してネットワーク全体のブラウズリストの完全な複製の提供を要求するようになる。
    ブラウザのクライアントは、ローカルマスタブラウザと通信することで、
    個々のサブネットのブラウズリストではなく、
    そのドメイン全体のブラウズリストを取得できるようになる。</p><p> Windows NT のプライマリドメインコントローラは、
    <a class="link" href="smb.conf.5.html#WORKGROUP" target="_top">workgroup</a> のドメインマスタブラウザとして機能するために、
    <a class="link" href="smb.conf.5.html#WORKGROUP" target="_top">workgroup</a> 固有の特別な NetBIOS
    名を登録することが前提とされていることに注意
    (Windows NT PDC のこの動作を抑止することはできない)。
    つまり、このパラメータが Yes に設定され、<code class="literal">nmbd</code> が
    Windows NT PDC より前に、<a class="link" href="smb.conf.5.html#WORKGROUP" target="_top">workgroup</a> のための特別な NetBIOS 名を登録してしまうと、
    サブネット越しのブラウズは正常に動作せず、失敗する。</p><p><a class="link" href="smb.conf.5.html#DOMAINLOGONS" target="_top">domain logons = yes</a> 
    の場合、<a class="link" href="smb.conf.5.html#DOMAINMASTER" target="_top">domain master</a> パラメータはデフォルトで有効となる。
    <a class="link" href="smb.conf.5.html#DOMAINLOGONS" target="_top">domain logons</a> が有効でない場合(デフォルト)、
    <a class="link" href="smb.conf.5.html#DOMAINMASTER" target="_top">domain master</a> パラメータもデフォルトでは有効にならない。
    </p><p>
    <a class="link" href="smb.conf.5.html#DOMAINLOGONS" target="_top">domain logons = Yes</a> の場合、このパラメータもデフォルトで Yes となり、Samba は PDC として動作するようになる。
    <a class="link" href="smb.conf.5.html#DOMAINMASTER" target="_top">domain master = No</a> の場合、Samba は BDC として動作するようになる。通常、このパラメータを「No」に設定する必要があるのは、BDC として機能させる場合のみである。
    </p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>domain master</code></em> = <code class="literal">auto</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="dont descend (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2548258"/>

dont descend (S)
</h3></div></div></div><a class="indexterm" name="id2548259"/><a name="DONTDESCEND"/><div class="variablelist"><dl><dt/><dd><p>システムに存在するディレクトリには、
	クライアントに参照させたくないものや、
	無限に深い(再帰的)なものが存在する(たとえば Linux での <code class="filename">/proc</code>)。
	このパラメータは常に空のように見せかけるサーバ側のディレクトリをコンマで区切って指定する。
	</p><p>Samba が要求する「dont descend」の書式は一定ではない。
	たとえば <code class="filename">/proc</code> ではなく <code class="filename">./proc</code> でなければならないかもしれない。
	実験してみるのが最良の方法である。 :-)
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>dont descend</code></em> = <code class="literal"/>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>dont descend</code></em> = <code class="literal">/proc,/dev</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="dos charset (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2548344"/>

dos charset (G)
</h3></div></div></div><a class="indexterm" name="id2548345"/><a name="DOSCHARSET"/><div class="variablelist"><dl><dt/><dd><p>DOS SMB クライアントは、サーバ側でも自身と同じ文字コードセットを使用していると想定する。
        このオプションにより、 Samba が DOS クライアントと通信する際に用いられる文字コードセットを指定する。
	</p><p>デフォルトは Samba にインストールされた文字コードセットによって異なる。
	Samba は、文字コードセット 850 の使用を試みるが、使用できない場合は ASCII を使用する。
	<a class="citerefentry" href="testparm.1.html"><span class="citerefentry"><span class="refentrytitle">testparm</span>(1)</span></a> コマンドを実行することで、システム上の既定値を確認することが可能である。</p><p><span class="emphasis"><em>既定値なし</em></span></p></dd></dl></div></div><div class="section" title="dos filemode (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2548397"/>

dos filemode (S)
</h3></div></div></div><a class="indexterm" name="id2548398"/><a name="DOSFILEMODE"/><div class="variablelist"><dl><dt/><dd><p>Samba の既定の動作では、ファイルやディレクトリの所有者のみが
	  アクセス権を変更できるという、UNIX的な仕様になっている。しかし、この仕様が
	  DOS/Windows のユーザを混乱させてしまうことも多い。このパラメータを有効に
	  することによって、(何らかの手段によって)ファイルに書き込み権のあるユーザは、
	  パーミッション(ACLを含む)の変更もできるようになる。ファイルの所有グループに
	  所属しているユーザは、グループに対して読み込み権限しか与えられていない場合は
	  パーミッションの変更を行なうことができないことに注意。ファイルやディレクトリの
	  所有者を変更することも可能である。

	  ネイティブなWindowsデータをメタデータとして格納する、VFSモジュールacl_xattrか
	  acl_tdbは、ロードされるどのような共有に対しても、WindowsのACLを正しく
	  エミュレートするために、このオプションを自動的にオンにする事が要求される
	  ことに注意。
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>dos filemode</code></em> = <code class="literal">no</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="dos filetime resolution (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2548464"/>

dos filetime resolution (S)
</h3></div></div></div><a class="indexterm" name="id2548465"/><a name="DOSFILETIMERESOLUTION"/><div class="variablelist"><dl><dt/><dd><p>DOS や Windows の FAT ファイルシステム下では、
	時刻の最小単位は 2 秒である。共有に対してこのパラメータを設定すると、
	<a class="citerefentry" href="smbd.8.html"><span class="citerefentry"><span class="refentrytitle">smbd</span>(8)</span></a>
	に対して 1 秒精度の要求が 行なわれた際に、
	返却される時間をもっとも近い 2 秒の境界値に丸める。
	</p><p> このオプションはおもに、Samba の共有で Visual C++ を
	使用するための互換性オプションとして利用する。
	共有で oplock が有効であると、
	Visual C++ はファイルが最後の読み込みから変更されていないかを検査するときに、
	扱う日付の最小単位が異なる 2 つの時刻取得の呼び出し (call) を利用する。
	そのうちのひとつの呼び出しは 1秒単位であり、もうひとつは 2 秒単位になっている。
	2 秒単位で扱う呼び出しが奇数秒を切り捨てるため、
	ファイルが奇数秒の日付であると 2 つの日付が一致せず、
	Visual C++ はファイルが変更されたと報告し続けてしまう。
	このオプションを<code class="constant">yes</code>に設定することで 2 つの日付は一致し、Visual C++ も幸福になれる。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>dos filetime resolution</code></em> = <code class="literal">no</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="dos filetimes (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2548553"/>

dos filetimes (S)
</h3></div></div></div><a class="indexterm" name="id2548554"/><a name="DOSFILETIMES"/><div class="variablelist"><dl><dt/><dd><p>DOS や Windows では、ファイルに書き込み権のあるユーザが、
	  ファイルのタイムスタンプを変更することが可能である。POSIXの仕様では、
	  ファイルの所有者かrootのみがタイムスタンプを変更できる。Sambaの既定値は、DOSの
	  仕様をエミュレートし、<code class="literal">smbd</code>の実効ユーザが、
	  ファイルの所有者でなくても、タイムスタンプの変更を可能にする。
	  Microsoft Office 2000 以降で行なわれた変更に対応するため、Samba 3.0.14 以降では
	  既定値が「no」から「yes」に変更された。このパラメータが「yes」になっていない
	  場合、ファイルが複数のユーザ間で共用されていると、Microsoft Excel はファイルが
	  他のユーザによって変更されたという警告のダイアログボックスを表示してしまう。
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>dos filetimes</code></em> = <code class="literal">yes</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="ea support (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2548625"/>

ea support (S)
</h3></div></div></div><a class="indexterm" name="id2548626"/><a name="EASUPPORT"/><div class="variablelist"><dl><dt/><dd><p> この真偽値パラメータにより、
    <a class="citerefentry" href="smbd.8.html"><span class="citerefentry"><span class="refentrytitle">smbd</span>(8)</span></a>
    は、クライアントが共有内に OS/2 形式の拡張属性を格納することを可能とする。
    このパラメータを有効にするためには、下位のファイルシステムが
    (Linux の場合 XFS や EXT3 に対するパッチとして提供されているような) 拡張属性をサポートしていることが必要である。
    Linux の場合、拡張属性を有効にするには、カーネルが拡張属性を有効にしてコンパイルされていることに加え、
    ファイルシステムのマウントオプションとして user_xattr を指定してマウントする必要がある。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>ea support</code></em> = <code class="literal">no</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="enable asu support (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2548692"/>

enable asu support (G)
</h3></div></div></div><a class="indexterm" name="id2548693"/><a name="ENABLEASUSUPPORT"/><div class="variablelist"><dl><dt/><dd><p>「Advanced Server for Unix (ASU)」というプロダクトを実行しているホストでは、
    IPC コネクションのみをサポートするビルトイン [ADMIN$] 共有が作成されるなど、
    ASU 特有の動作が幾つか存在する。長年、これは smbd の既定値の動作でもあった。
    ところが、Print Migrator tool というマイクロソフトのアプリケーションでは、
    リモートのサーバで [ADMIN$] というファイル共有がサポートされている必要がある。
    このパラメータを無効にすることで、smb.conf に [ADMIN$] というファイル共有を作成することが可能になる。
    </p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>enable asu support</code></em> = <code class="literal">no</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="enable core files (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2548749"/>

enable core files (G)
</h3></div></div></div><a class="indexterm" name="id2548750"/><a name="ENABLECOREFILES"/><div class="variablelist"><dl><dt/><dd><p>このパラメータは、コアダンプが内部出口(internal exits)に書かれるように
	  指定する。通常これは<code class="constant">yes</code>に設定する。
	  決してこれを変更してはならない。
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>enable core files</code></em> = <code class="literal">yes</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>enable core files</code></em> = <code class="literal">no</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="enable privileges (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2548808"/>

enable privileges (G)
</h3></div></div></div><a class="indexterm" name="id2548809"/><a name="ENABLEPRIVILEGES"/><div class="variablelist"><dl><dt/><dd><p>
	このパラメータは、smbd が
	<code class="literal">net rpc rights</code> もしくは Windows 側のユーザ、グループ管理ツールにより、特定の SID に対して指定のユーザー権利を付与する機能を制御する。
	このパラメータはデフォルトで有効となっているが、Domain Admins
	グループのメンバがユーザーやグループにユーザー権利を割り当てることで、
	root 権限で実行される smbd の処理が該当ユーザとして接続した状態で実行されることを防止するために無効にすることも可能である。
	</p><p>
	ユーザー権利を使用することで、例えば smbd が動作するサーバの root 権限を与えずに、
	Samba ドメインに参加する権利を付与することが可能である。
	</p><p>
	より詳細な説明については、Samba HOWTO 中の記載を参照のこと。
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>enable privileges</code></em> = <code class="literal">yes</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="enable spoolss (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2548878"/>

enable spoolss (G)
</h3></div></div></div><a class="indexterm" name="id2548879"/><a name="ENABLESPOOLSS"/><div class="variablelist"><dl><dt/><dd><p><a class="link" href="smb.conf.5.html#DISABLESPOOLSS" target="_top">disable spoolss</a>の逆の意味を持つ別名。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>enable spoolss</code></em> = <code class="literal">yes</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="encrypt passwords (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2548924"/>

encrypt passwords (G)
</h3></div></div></div><a class="indexterm" name="id2548925"/><a name="ENCRYPTPASSWORDS"/><div class="variablelist"><dl><dt/><dd><p> この真偽値パラメータにより、
    クライアントとのネゴシエーションに暗号化パスワードを利用するかどうかが決定される。
    Windows NT 4.0 SP3 以降 や Windows 98 以降では、
    レジストリの変更をしない限り、暗号化パスワードがデフォルトである。(訳注: これ以前のバージョンでも暗号化パスワードがデフォルトである。ただし、暗号化パスワードの利用ができなかった場合に平文パスワードを送出する点が異なる。)
    Samba で暗号化パスワードを使う方法は Samba HOWTO collection 中の「User Database」の章を参照してほしい。</p><p>
    Microsoft の暗号化パスワードを想定して、
    平文パスワードのサポートを無効にした Windows クライアントは、
    暗号化パスワードが有効になっており、
    アカウントのパスワードが適切に暗号化されている Samba サーバにのみ接続できる。
    ユーザアカウントに対して暗号化パスワードを作成する方法については、
    smbpasswd コマンドのマニュアルページを参照のこと。
    </p><p>
    Microsoft 社の Windows 製品では、すでに平文パスワードのサポートは行なわれていない(訳注: 設定としては残存している)ため、
    平文パスワードの利用は推奨できない。    
    平文パスワードを使用した場合は、このパラメータを no にすること。
    </p><p> 暗号化パスワードを正しく機能させるためには、
    <a class="citerefentry" href="smbd.8.html"><span class="citerefentry"><span class="refentrytitle">smbd</span>(8)</span></a> がローカルの
    <a class="citerefentry" href="smbpasswd.5.html"><span class="citerefentry"><span class="refentrytitle">smbpasswd</span>(5)</span></a> ファイル (設定と保守の方法に関する情報は
    <a class="citerefentry" href="smbpasswd.8.html"><span class="citerefentry"><span class="refentrytitle">smbpasswd</span>(8)</span></a> プログラムを参照)を参照するようにするか、
    <a class="link" href="smb.conf.5.html#SECURITY" target="_top">security = [server|domain|ads]</a> パラメータを設定して、
    <code class="literal">smbd</code> が別のサーバで認証を行うようにする必要がある。
    </p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>encrypt passwords</code></em> = <code class="literal">yes</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="enhanced browsing (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2549064"/>

enhanced browsing (G)
</h3></div></div></div><a class="indexterm" name="id2549065"/><a name="ENHANCEDBROWSING"/><div class="variablelist"><dl><dt/><dd><p>このオプションにより、 Samba に実装されている複数サブネット間でのブラウザのアナウンスメントに関する拡張が有効になる。
    ただし、この拡張は、Microsoft の実装の標準とは異なる。
    </p><p> ブラウザのアナウンスメントに関する一つ目の拡張点は、
    Samba のWINSサーバに登録されているすべてのドメインマスタブラウザを問い合わせる定期的なワイルドカードクエリと、
    返答に含まれる各DMBと行なわれるブラウズリストの同期処理のサポートである。
    二つ目の拡張点は、DMBとして識別されているマシンとの間で
    定常的に行なわれるランダムなブラウズリストの同期処理のサポートである。
    (訳注: これは 120151 などで記載されている、WINS クライアントとなっている Windows NT 3.5 以上の DMB が定期的に WINS サーバに接続し、WINSサーバが保有する「ドメイン名&lt;1B&gt;」のリストを自身のブラウズリストに追加していく処理のサポートだと思われる)</p><p>中身が空のワークグループがブラウズリストから消えないというトラブルが発生した場合は、
    このオプションを無効にしたい場合もあるだろう。
    ブラウザのプロトコルの仕様上、
    この拡張により空のワークグループが永久に残ってしまうという悩ましい問題が起こることがある。</p><p>通常は、サブネット越えのブラウザのアナウンスメントの信頼性向上のため、
    このオプションは、有効のままにしておくべきである。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>enhanced browsing</code></em> = <code class="literal">yes</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="enumports command (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2549157"/>

enumports command (G)
</h3></div></div></div><a class="indexterm" name="id2549158"/><a name="ENUMPORTSCOMMAND"/><div class="variablelist"><dl><dt/><dd><p>ここでいう「ポート(port)」の概念は、
	UNIXのものと大きく異なる。Windows NT/2000のプリントサーバにおいて、
	ポートはポートモニタと関連付けられ、通常ローカルポート(LPT1:、COM1:、
	FILE:)やリモートポート(LPD Port Monitorなど)といった名称をもつ。
	Sambaのデフォルトでは、
	<code class="constant">「Samba Printer Port」</code> というポートのみが定義されている。
	Windows NT/2000においては、すべてのプリンタに適切なポート名がある。
	デフォルトの<code class="constant">「Samba Printer Port」
	</code>以外のポート名をポートの一覧に表示させたい場合
	(<code class="literal">smbd</code>はポート名を全く使用していない)、
	標準出力に対してポート名のリストを1行に一つずつ生成するようなプログラムを
	<em class="parameter"><code>enumports command</code></em>で定義することができる。
	この一覧はレベル1および2のEnumPorts() RPCのレスポンス中で利用される。
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>enumports command</code></em> = <code class="literal"/>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>enumports command</code></em> = <code class="literal">/usr/bin/listports</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="eventlog list (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2549250"/>

eventlog list (G)
</h3></div></div></div><a class="indexterm" name="id2549251"/><a name="EVENTLOGLIST"/><div class="variablelist"><dl><dt/><dd><p> このパラメータは、
    Samba がマイクロソフトの「イベントビューア」ユーティリティ経由での表示を可能とするログファイル名の一覧を定義する。
    一覧に含まれるログに対しては、ディスク上の
    <code class="filename">$(lockdir)/eventlog</code> 内に、
    対応する TDB ファイルが割り当てられる。</p><p>
    管理者は、外部のプロセスを用いて
    <code class="filename">/var/log/messages</code> のような一般の UNIX ログファイルを解析し、
    イベントログの TDB ファイルにエントリを書き込む必要がある。
    イベントログのエントリを書き込む方法については、eventlogadm(8) ユーティリティを参照のこと。
    </p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>eventlog list</code></em> = <code class="literal"/>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>eventlog list</code></em> = <code class="literal">Security Application Syslog Apache</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="fake directory create times (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2549339"/>

fake directory create times (S)
</h3></div></div></div><a class="indexterm" name="id2549340"/><a name="FAKEDIRECTORYCREATETIMES"/><div class="variablelist"><dl><dt/><dd><p>NTFS や Windows VFAT ファイルシステムでは、
	すべてのファイルとディレクトリの作成時刻を保持している。
	これは UNIX が保持している ctime (状態変更時刻)とは異なるため、
	Samba の既定動作では UNIX が保持している中で最も古い時刻を報告する。
	共有でこのパラメータを <code class="constant">yes</code> にした場合、Samba はディレクトリの作成時刻として、
	常に 1980/1/1 の午前 0 時を報告する。</p><p> このオプションは、Samba 共有上で
	Visual C++ を使うときに互換性を保つためのオプションとして用いられることが多い。
	Visual C++ は、各オブジェクトファイルに対する依存性チェック用途のオブジェクトディレクトリと、
	そのディレクトリを作成するルールを持った makefile を生成する。
	NMAKE が日付を比較する際にディレクトリをチェックするときには、ファイル作成時刻を使用する。
	これにより、オブジェクトディレクトリが存在しない場合は作成され、作成されたディレクトリは、
	ディレクトリ中に存在するオブジェクトファイルよりも古い時刻を保持することになる。
	</p><p> しかし、UNIX の時刻の扱いに関する仕様のため、
	Samba が報告するディレクトリの作成時間はディレクトリにファイルが作成または削除されたときにも更新されてしまう。
	その結果 NMAKE は、オブジェクトディレクトリで最後にビルドされたファイルを除く
	すべてのオブジェクトファイルがオブジェクトディレクトリより古いと判断し、それらを再構築してしまう。
	このオプションを有効にすることで、
	常にディレクトリは含まれるファイルよりも前の日付になり、
	NMAKE によるビルドが意図したように行なわれることが保証される。
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>fake directory create times</code></em> = <code class="literal">no</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="fake oplocks (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2549452"/>

fake oplocks (S)
</h3></div></div></div><a class="indexterm" name="id2549453"/><a name="FAKEOPLOCKS"/><div class="variablelist"><dl><dt/><dd><p> oplock は、SMB クライアントがファイル操作の結果をローカルにキャッシュするための許可をサーバから取得するための機能である。
	サーバが oplock (opportunistic lock = 便宜的ロック) を許可すると、
	クライアントは自分だけがそのファイルにアクセスしていると認識して、
	積極的にファイルの内容をキャッシュする。oplock のタイプによっては、
	クライアントがファイルのオープン/クローズの操作をキャッシュすることもありうる。
	これにより、多大な性能向上が期待できる。</p><p> <code class="literal">fake oplocks = yes</code> の設定を行なうと、<a class="citerefentry" href="smbd.8.html"><span class="citerefentry"><span class="refentrytitle">smbd</span>(8)</span></a> は、
	実際にそのファイルを利用しているクライアント数に関わらず、
	常に oplock を許可する。</p><p>一般的には、このパラメータを利用するよりも、
	実際の <a class="link" href="smb.conf.5.html#OPLOCKS" target="_top">oplocks</a> 
	を利用する方がよい。</p><p> CDROM 等の物理的に読みとり専用のメディアの場合など、
	読みとり専用か、同時に 1 台のクライアントからだけしか
	アクセスされないとわかっている共有でこのオプションを有効にすると、
	多くの操作で大きな性能改善が見られるだろう。複数のクライアントから
	同時にファイルの読み書きアクセスする可能性がある共有でこのオプションを有効にすると、
	ファイルの内容が破壊される場合が起こりうる。
	このオプションは慎重に使用して欲しい!</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>fake oplocks</code></em> = <code class="literal">no</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="follow symlinks (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2549560"/>

follow symlinks (S)
</h3></div></div></div><a class="indexterm" name="id2549561"/><a name="FOLLOWSYMLINKS"/><div class="variablelist"><dl><dt/><dd><p>このパラメータにより、Samba の管理者は、
	<a class="citerefentry" href="smbd.8.html"><span class="citerefentry"><span class="refentrytitle">smbd</span>(8)</span></a>
	がシンボリックリンクを追跡する処理を共有単位で禁止することが可能になる。
	このパラメータを <code class="constant">no</code> に設定した場合、
	シンボリックリンクのファイルやディレクトリの追跡する処理が抑制される(ユーザにはエラーが返却される)。
	このオプションは、ユーザが自分のホーム・ディレクトリに 
	<code class="filename">/etc/passwd</code> へのシンボリックリンクを追加するのを防止したりする効果がある。
	ただし、わずかながらファイル名の検索が遅くなるだろう。</p><p>このオプションはデフォルトで有効になっている
	(つまり、<code class="literal">smbd</code> はシンボリックリンクを追跡する)。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>follow symlinks</code></em> = <code class="literal">yes</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="force create mode (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2549645"/>

force create mode (S)
</h3></div></div></div><a class="indexterm" name="id2549646"/><a name="FORCECREATEMODE"/><div class="variablelist"><dl><dt/><dd><p> このパラメータは、Samba によって作成されたファイルのパーミッションに 
    <span class="emphasis"><em>必ず</em></span>設定される UNIX のパーミッションビットを指定する。
    これは、ファイルの作成時時に、ファイルのパーミッションビットに対して、
    このパラメータの値でビット単位のOR 演算を行なうことで実現される。
    このパラメータの既定値は(8進で)000である。
    このパラメータの値がビット単位の OR 演算に用いられるのは、
    <em class="parameter"><code>create mask</code></em> パラメータの適用後である。</p><p>下記の例は、作成されるすべてのファイルに対し、
    グループ(group)とその他のユーザ(others)の読み込みと実行ビットと、
    所有者(user)の読み込み/書き込み/実行ビットが必ず付与されるようにする。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>force create mode</code></em> = <code class="literal">000</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>force create mode</code></em> = <code class="literal">0755</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="force directory mode (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2549734"/>

force directory mode (S)
</h3></div></div></div><a class="indexterm" name="id2549735"/><a name="FORCEDIRECTORYMODE"/><div class="variablelist"><dl><dt/><dd><p> このパラメータは、Samba によって作成されたディレクトリのパーミッションに 
    <span class="emphasis"><em>必ず</em></span>設定される UNIX のパーミッションビットを指定する。
    これは、ディレクトリの作成時に、
    パーミッションビットに対して、このパラメータの値でビット単位の
    OR 演算を行なうことで実現される。
    このパラメータの既定値は 000 (8 進数表記)である。この場合、作成されるディレクトリに対して特にパーミッションビットは追加されない。
    このパラメータの値が適用されるのは、
    <em class="parameter"><code>directory mask</code></em> パラメータの適用後である。</p><p>下記の例は、作成されるすべてのディレクトリに対し、
    グループ(group)とその他のユーザ(others)の読み込みと実行権ビットと、
    所有者(user)の読み込み/書き込み/実行ビットが必ず付与されるようにする。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>force directory mode</code></em> = <code class="literal">000</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>force directory mode</code></em> = <code class="literal">0755</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="force directory security mode (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2549826"/>

force directory security mode (S)
</h3></div></div></div><a class="indexterm" name="id2549827"/><a name="FORCEDIRECTORYSECURITYMODE"/><div class="variablelist"><dl><dt/><dd><p>このパラメータは、 Windows NT クライアント上のセキュリティダイアログボックスを使って、
    UNIX ディレクトリのパーミッションを操作する時に、
    設定可能な UNIX 側のパーミッションを指定する。</p><p> このパラメータは、変更されるパーミッションビットに対して、
    OR操作のマスクとして適用されるため、
    このマスクにあるビットはユーザが行なった修正変更操作に関わらず、設定される。
    このパラメータを、OR ではなく AND 操作を実行するパラメータである
    <a class="link" href="smb.conf.5.html#DIRECTORYSECURITYMASK" target="_top">directory security mask</a> と混同しないように。
    </p><p>
    基本的に、マスク中で 1 と指定されたビットは、
    ディレクトリのセキュリティを修正する際に、常に「on」に設定されたとみなされる。</p><p>このパラメータが明示的に設定されなかった場合は、
    0000 に設定される。これにより、ディレクトリに対する全ての
    user/group/world パーミッションを制限なしに変更可能となる。</p><p><span class="emphasis"><em>注意</em></span> : 他の方法を使って Samba 
    サーバにアクセスすることが可能なユーザは、この制限を簡単に回避できてしまう。
    そのため、このパラメータの主な用途はスタンドアロンで動作する「アプライアンス」システムになるだろう。
    通常システムの管理者のほとんどは、このパラメータを 0000 のままにしておきたいと考えるだろう。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>force directory security mode</code></em> = <code class="literal">0</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>force directory security mode</code></em> = <code class="literal">700</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="group"><div class="titlepage"><div><div><h3 class="title"><a name="id2549942"/>

<a name="GROUP"/>group
</h3></div></div></div><a class="indexterm" name="id2549943"/><div class="variablelist"><dl><dt/><dd><p>このパラメータは右記のパラメータの別名である：<a class="link" href="#FORCEGROUP">force group</a>.</p></dd></dl></div></div><div class="section" title="force group (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2549969"/>

force group (S)
</h3></div></div></div><a class="indexterm" name="id2549970"/><a name="FORCEGROUP"/><div class="variablelist"><dl><dt/><dd><p> このパラメータには、
    このサービスに接続するすべてのユーザのデフォルトの所属グループと見なされる UNIX のグループ名を指定する。
    このパラメータを使うと、サービス上のファイルに対するアクセスの際のパーミッションチェックには、
    ここで指定したグループを用いることができるため、ファイル共有を行う際に便利である。
    この設定を行うことで、
    このサービス内において提供するファイルやディレクトリに対して指定されたグループ名にパーミッションを割り当てることにより、
    Samba の管理者がこれらのファイルの共有を許可/不許可にすることができるようになる。</p><p> Samba 2.0.5 以降では、このパラメータの機能が拡張されている。
    '+' 文字からはじまるグループ名が設定されていた場合、
    現在共有にアクセスしているユーザが設定されたグループのメンバーだった場合のみ、
    そのグループをユーザのデフォルトのプライマリグループに設定する。
    この動作により、該当のグループに予め所属しているユーザのみが、
    そのグループを所有者とするファイルを作成する設定を行うことが可能となる。
    これにより、所有権の設定をより細かく行なうことが可能となる。
    たとえば、<code class="filename">force group = +sys</code> という設定を行った場合、
    sys グループに所属しているユーザが Samba の 共有 にアクセスした際にのみ、
    デフォルトのプライマリグループが sys に設定される。
    その他すべてのユーザは、通常のプライマリグループのままとなる。
    </p><p>
    <a class="link" href="smb.conf.5.html#FORCEUSER" target="_top">force user</a> 
    パラメータも設定されていた場合、
    <em class="parameter"><code>force group</code></em> で指定されたグループより、
    <em class="parameter"><code>force user</code></em> で指定されたユーザのプライマリグループの方が優先される。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>force group</code></em> = <code class="literal"/>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>force group</code></em> = <code class="literal">agroup</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="force printername (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2550128"/>

force printername (S)
</h3></div></div></div><a class="indexterm" name="id2550129"/><a name="FORCEPRINTERNAME"/><div class="variablelist"><dl><dt/><dd><p>Windows NT （以降）の OS から印刷を行なう場合、
    <code class="filename">smb.conf</code> 中の各プリンタには、
    クライアントから使用可能な名前が 2 つある。
    最初のものは smb.conf で定義された共有名(短い名前)である。
    Windows 9x クライアントからは、このプリンタ名しか使用できない。
    プリンタに割り当てられたもう一つの名前は、Samba サーバの「プリンタ」
    (プリンタとFAX)フォルダ」を参照すると表示されるものである。
    これは、(<em class="parameter"><code>printer name</code></em> オプションと混同しないように)
    単にプリンタ名と記載する。
    </p><p>
    Samba を含む Windows 互換のリモートのプリンタサーバ上で、
    プリンタに対して新しいドライバが割り当てられた際、
    Windows クライアントは、そのドライバの名前に合致するように、プリンタ名を変更する。
    これは、複数のプリンタに同じドライバを割り当てているユーザを混乱させる結果となる。
    Samba において、プリンタのプリンタ名を smb.conf で定義された共有名と異なる名称にすることを禁止したい場合は、
    <em class="parameter"><code>force printername = yes</code></em> と設定すること。
    </p><p> Windows では、プリンタ名と共有名を強制的に一致させることができないため、
    このパラメータを有効にすると、Windows サーバから Samba サーバへプリンタの移行を行なう際に問題が発生するので注意。
    </p><p>
    プリンタがクライアントにより使用を開始された後にこのパラメータの値を変更することは、
    ユーザが自身の「プリンタ」フォルダからプリンタを削除することができなくなるため、推奨しない。
    </p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>force printername</code></em> = <code class="literal">no</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="force security mode (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2550243"/>

force security mode (S)
</h3></div></div></div><a class="indexterm" name="id2550244"/><a name="FORCESECURITYMODE"/><div class="variablelist"><dl><dt/><dd><p> このパラメータは、
    Windows NT クライアント上で NT 固有のセキュリティダイアログボックスを使った
    UNIX ファイルのパーミッションを操作を行うときに、
    変更可能とする UNIX のパーミッションビットを指定する。</p><p> このパラメータは、
    変更されるパーミッションビットに対して、OR 操作のマスクとして適用されるため、
    このマスクに含まれるビットは、ユーザの設定に関わらず on となる。
    このパラメータを、OR ではなく AND 操作を実行するパラメータである
    <a class="link" href="smb.conf.5.html#SECURITYMASK" target="_top">security mask</a> と混同しないように。
    </p><p>
    端的にいえば、マスク中の各ビットは、ユーザがファイルのセキュリティを変更するときに、
     常に「on」に設定するビットとして考えることもできる。
    </p><p>このパラメータが明示的に設定されなかった場合は、
    0 に設定される。これにより、ディレクトリに対する全ての
    user/group/world パーミッションを制限なしに変更可能となる。</p><p><span class="emphasis"><em>注意</em></span> : 他の方法を使って Samba 
    サーバにアクセスすることが可能なユーザは、この制限を簡単に回避できてしまう。
    そのため、このパラメータの主な用途はスタンドアロンで動作する「アプライアンス」システムになるだろう。
    通常システムの管理者のほとんどは、
    このパラメータを 0000 のままにしておきたいと考えるだろう。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>force security mode</code></em> = <code class="literal">0</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>force security mode</code></em> = <code class="literal">700</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="force unknown acl user (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2550369"/>

force unknown acl user (S)
</h3></div></div></div><a class="indexterm" name="id2550370"/><a name="FORCEUNKNOWNACLUSER"/><div class="variablelist"><dl><dt/><dd><p>
    このパラメータを設定すると、 ファイルの所有者や所有グループとして不明な
    SID (ユーザやグループIDを示す、 セキュリティディスクリプタ) を含む Windows NT の ACL は、 
    現在接続しているユーザの UNIX での uid や gid に自動的にマッピングされる。
    </p><p>
    これは、Windows NT のクライアントマシン上で作成された、 
    マシン内でのみ有効なユーザ(ドメインユーザでない)を含んだ ACL を持つファイルやフォルダを(通常 XCOPY /O により)、 
    Windows NT クライアントから Samba サーバにコピーした際に、 
    ファイル上の不明な userid や groupid を現在接続しているユーザのものに対応付けることを意図したものである。
    winbindd による Windows NT の SID から UNIX 側の uid や gid への任意の対応づけを可能とする以外に、 この問題を適切に対処する方法はない。
    </p><p>
    XCOPY /O が ACCESS_DENIED エラーを引きおこす際には、このパラメータを使って欲しい。 
    </p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>force unknown acl user</code></em> = <code class="literal">no</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="force user (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2550455"/>

force user (S)
</h3></div></div></div><a class="indexterm" name="id2550456"/><a name="FORCEUSER"/><div class="variablelist"><dl><dt/><dd><p> このパラメータは、サービスに対する接続のすべてで、
    デフォルトのユーザとみなされる UNIX ユーザの名前を指定する。
    これはファイルを共有する上で便利であるが、誤って使用すると、
    セキュリティ上の問題を引き起こす原因となるので、慎重に使用すべきである。</p><p> このユーザ名は接続の確立後に適用される。
    従って、クライアントが有効なユーザ名とパスワードで接続を行う必要があることには変わりはない。
    接続が確立すると、全てのファイル操作は強制的に「force user」で指定されたユーザの権限で実行される。
    クライアントが接続を確立した際のユーザ名は無視される。
    これは大変便利なことがある。</p><p> Samba 2.0.5 以降では、このパラメータによって
    設定されたユーザのプライマリグループが、
    すべてのファイル操作においてプライマリグループとして利用される。
    Samba 2.0.5 以前では、プライマリグループは本来接続を行ったユーザのプライマリグループのまま変わらない(これはバグである)。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>force user</code></em> = <code class="literal"/>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>force user</code></em> = <code class="literal">auser</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="fstype (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2550548"/>

fstype (S)
</h3></div></div></div><a class="indexterm" name="id2550549"/><a name="FSTYPE"/><div class="variablelist"><dl><dt/><dd><p>このパラメータは、
	クライアントが共有のファイルシステムを問い合わせた際に、
	<a class="citerefentry" href="smbd.8.html"><span class="citerefentry"><span class="refentrytitle">smbd</span>(8)</span></a>
	が返却する共有のファイルシステム名を指定する。
	デフォルトは Windows NT 互換の <code class="constant">NTFS</code> だが、
	必要に応じて <code class="constant">Samba</code> や <code class="constant">
	FAT </code> といった別の文字列に、変更することができる。
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>fstype</code></em> = <code class="literal">NTFS</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>fstype</code></em> = <code class="literal">Samba</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="get quota command (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2550633"/>

get quota command (G)
</h3></div></div></div><a class="indexterm" name="id2550634"/><a name="GETQUOTACOMMAND"/><div class="variablelist"><dl><dt/><dd><p><code class="literal">get quota command</code> は Samba が実行されている OS 上で、API が提供されていない場合に限り使用すべきである。
	</p><p>このオプションは、必ず <code class="literal">./configure --with-sys-quotas</code> が指定されているときのみ有効である。
	もしくは Linux において <code class="literal">./configure --with-quotas</code> が指定され、システムにクオータの API が存在し、機能する場合にのみ使用できる。</p><p>このパラメータは、指定されたディレクトリが存在するパーティションについて、指定されたユーザやグループのクオータ情報を取得するスクリプトへのパスを指定する。
	</p><p>このスクリプトは三つの引数をとる:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>ディレクトリ</p></li><li class="listitem"><p>問い合わせのタイプ</p></li><li class="listitem"><p>ユーザの uid もしくはグループの gid</p></li></ul></div><p>問い合わせのタイプは以下のいずれかの値をとる:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>1 - ユーザのクオータ</p></li><li class="listitem"><p>2 - ユーザのデフォルトのクオータ (uid = -1)</p></li><li class="listitem"><p>3 - グループのクオータ</p></li><li class="listitem"><p>4 - グループのデフォルトのクオータ (gid = -1)</p></li></ul></div><p>スクリプトの出力は、以下の要素をスペースで区切った1行の形式で行なわれる:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>要素1 - クオータフラグ (0 = クオータは無効、 1 = クオータは有効、 2 = クオータは有効で使用を強制されている)</p></li><li class="listitem"><p>要素2 - 現在の使用済ブロック数</p></li><li class="listitem"><p>要素3 - ブロック数のソフトウェア的な上限</p></li><li class="listitem"><p>要素4 - ブロック数のハードウェア的な上限</p></li><li class="listitem"><p>要素5 - 現在の使用済 inode 数</p></li><li class="listitem"><p>要素6 - inode 数のソフトウェア的な上限</p></li><li class="listitem"><p>要素7 - inode 数のハードウェア的な上限</p></li><li class="listitem"><p>要素8(オプション) - ブロックあたりのバイト数(デフォルト1024)</p></li></ul></div><p>既定値: <span class="emphasis"><em><em class="parameter"><code>get quota command</code></em> = <code class="literal"/>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>get quota command</code></em> = <code class="literal">/usr/local/sbin/query_quota</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="getwd cache (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2550836"/>

getwd cache (G)
</h3></div></div></div><a class="indexterm" name="id2550837"/><a name="GETWDCACHE"/><div class="variablelist"><dl><dt/><dd><p>これはチューニングのためのオプションである。このパラメータを有効にすると、 getwd() の呼び出し時間を減らすためのあるキャッシュアルゴリズムが有効になる。特に
    <a class="link" href="smb.conf.5.html#WIDESMBCONFOPTIONS" target="_top">wide smbconfoptions</a> パラメータが <code class="constant">no</code> に設定された場合は、パフォーマンスに対して相当な効果がある。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>getwd cache</code></em> = <code class="literal">yes</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="guest account (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2550900"/>

guest account (G)
</h3></div></div></div><a class="indexterm" name="id2550901"/><a name="GUESTACCOUNT"/><div class="variablelist"><dl><dt/><dd><p> このパラメータは、
    <a class="link" href="smb.conf.5.html#GUESTOK" target="_top">guest ok</a> (以下を参照のこと)
    が設定されたサービスにアクセスする際に使用されるユーザ名である。
    ゲストサービスに接続しているクライアントすべてに対して、
    ここで設定したユーザの権限が適用される。
    このユーザはパスワードファイルに存在している必要があるが、ログイン可能となっている必要はない。
    このパラメータとして、「ftp」ユーザを利用するのもよいであろう。
    </p><p> システムによっては、アカウント「nobody」では印刷することができない。
    この場合は別のアカウントを使用すること。
    ゲストユーザでログイン(<code class="literal">su -</code>コマンドなどを使用する)して、
    <code class="literal">lpr(1)</code> や <code class="literal">lp(1)</code> などの、
    システムにある印刷コマンドを実行して印刷を行ってみることで、
    これを確認しておくべきであろう。</p><p>このパラメータは % マクロを受け付けない。
    システムの大半の箇所では、正常動作する上でこの値が静的に設定されていることが必要とされるためである。
    </p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>guest account</code></em> = <code class="literal">nobody
# default can be changed at compile-time</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>guest account</code></em> = <code class="literal">ftp</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="public"><div class="titlepage"><div><div><h3 class="title"><a name="id2551022"/>

<a name="PUBLIC"/>public
</h3></div></div></div><a class="indexterm" name="id2551023"/><div class="variablelist"><dl><dt/><dd><p>このパラメータは右記のパラメータの別名である：<a class="link" href="#GUESTOK">guest ok</a>.</p></dd></dl></div></div><div class="section" title="guest ok (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2551054"/>

guest ok (S)
</h3></div></div></div><a class="indexterm" name="id2551055"/><a name="GUESTOK"/><div class="variablelist"><dl><dt/><dd><p>このパラメータが <code class="constant">yes</code> のサービスに付いては、
    サービスへの接続の際にパスワードが要求されない。
    この場合、<a class="link" href="smb.conf.5.html#GUESTACCOUNT" target="_top">guest account</a> の権限で操作が行われる。</p><p>このパラメータは
    <a class="link" href="smb.conf.5.html#RESTRICTANONYMOUS" target="_top">restrict anonymous = 2</a>
    のメリットを無効にする。</p><p>このオプションに関する詳細については、
    <a class="link" href="smb.conf.5.html#SECURITY" target="_top">security</a> セクションを参照のこと。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>guest ok</code></em> = <code class="literal">no</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="only guest"><div class="titlepage"><div><div><h3 class="title"><a name="id2551150"/>

<a name="ONLYGUEST"/>only guest
</h3></div></div></div><a class="indexterm" name="id2551151"/><div class="variablelist"><dl><dt/><dd><p>このパラメータは右記のパラメータの別名である：<a class="link" href="#GUESTONLY">guest only</a>.</p></dd></dl></div></div><div class="section" title="guest only (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2551184"/>

guest only (S)
</h3></div></div></div><a class="indexterm" name="id2551185"/><a name="GUESTONLY"/><div class="variablelist"><dl><dt/><dd><p>このパラメータが <code class="constant">yes</code> のサービスについては、
    ゲスト接続のみが許可される。
    このパラメータは、<a class="link" href="smb.conf.5.html#GUESTOK" target="_top">guest ok</a> が有効になっていないサービスでは無効である。</p><p>このオプションに関する詳細については、<a class="link" href="smb.conf.5.html#SECURITY" target="_top">security</a>
    セクションを参照のこと。
    </p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>guest only</code></em> = <code class="literal">no</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="hide dot files (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2551261"/>

hide dot files (S)
</h3></div></div></div><a class="indexterm" name="id2551262"/><a name="HIDEDOTFILES"/><div class="variablelist"><dl><dt/><dd><p>この真偽値パラメータにより、
    ドットで始まるファイル名のファイルを隠しファイルとして扱うかどうかが制御される。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>hide dot files</code></em> = <code class="literal">yes</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="hide files (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2551305"/>

hide files (S)
</h3></div></div></div><a class="indexterm" name="id2551306"/><a name="HIDEFILES"/><div class="variablelist"><dl><dt/><dd><p>これは、見せたくないがアクセスは許可したいファイルやディレクトリのリストを指定する。
    DOSの「隠し」属性が該当するファイルやディレクトリに付加される。
    </p><p>リストの各エントリは、
    スペースをエントリ中に含められるようにするため、「/」で区切る必要がある。
    「*」と「?」は、DOSのワイルドカードと同様にして、
    複数のファイルやディレクトリを指定するために利用することができる。</p><p>各エントリはUNIXのパス形式で指定すること。DOSのパス形式で指定したり、
    UNIXでディレクトリを意味する「/」を含んだりはできない。</p><p>この設定には、
    case sensitive オプションの設定が影響することに注意。</p><p>このパラメータを設定すると、
    全てのファイルやディレクトリに対して該当するかどうかの確認を行う必要が発生するため、
    Samba のパフォーマンスに影響がでる。</p><p>
    以下の設定例は、<a class="ulink" href="http://www.thursby.com" target="_top">Thursby</a>
    から入手可能な Macintosh 上の SMB クライアント (DAVE)
    が内部的な用途に作成するファイルの指定に加え、
    ドットで始まるファイルを隠しファイルとして指定したものである。
    </p><p>
    このパラメータの設定例を以下に示す。
</p><pre class="programlisting">
hide files = /.*/DesktopFolderDB/TrashFor%m/resource.frk/
</pre><p>
    </p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>hide files</code></em> = <code class="literal">
# どのファイルも隠されない</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="hide special files (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2551414"/>

hide special files (S)
</h3></div></div></div><a class="indexterm" name="id2551415"/><a name="HIDESPECIALFILES"/><div class="variablelist"><dl><dt/><dd><p>このパラメータにより、クライアントからソケット、デバイス、FIFOなどのファイルがディレクトリ一覧で表示されることを抑止できる。
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>hide special files</code></em> = <code class="literal">no</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="hide unreadable (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2551458"/>

hide unreadable (S)
</h3></div></div></div><a class="indexterm" name="id2551459"/><a name="HIDEUNREADABLE"/><div class="variablelist"><dl><dt/><dd><p>このパラメータにより、読みとりができないファイルの存在をクライアントから隠蔽できる。
		このパラメータのデフォルトは off になっている。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>hide unreadable</code></em> = <code class="literal">no</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="hide unwriteable files (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2551502"/>

hide unwriteable files (S)
</h3></div></div></div><a class="indexterm" name="id2551503"/><a name="HIDEUNWRITEABLEFILES"/><div class="variablelist"><dl><dt/><dd><p>このパラメータにより、書き込みができないファイルの存在をクライアントから隠蔽できる。
		このパラメータのデフォルトは off になっている。
	書き込みができないディレクトリについては通常通り表示されることに注意。
    </p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>hide unwriteable files</code></em> = <code class="literal">no</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="homedir map (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2551554"/>

homedir map (G)
</h3></div></div></div><a class="indexterm" name="id2551555"/><a name="HOMEDIRMAP"/><div class="variablelist"><dl><dt/><dd><p>このパラメータは、
	<a class="link" href="smb.conf.5.html#NISHOMEDIR" target="_top">nis homedir</a> が <code class="constant">yes</code> で
	<a class="citerefentry" href="smbd.8.html"><span class="citerefentry"><span class="refentrytitle">smbd</span>(8)</span></a> が
	Windows 95/98 の <em class="parameter"><code>logon server</code></em> として機能している場合に、
	ユーザのホームディレクトリがあるサーバがどこかの情報をもつ NIS (YP)のマップを指定する。
	現在のところ、Sun の auto.home マップ形式のみが認識される。
	マップの形式は以下のとおり:
</p><pre class="programlisting">
<code class="literal">username server:/some/file/system</code>
</pre><p>
	プログラムは、最初の「:」の前までをサーバ名として解釈する。
	これ以外のマップの形式や、Amd (別の automounter)のマップにも対応した優れた解析ロジックもおそらく存在するはずである。
	</p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>このオプションを利用する場合は、
	システムがNISクライアントとして稼働している必要がある。</p></div><p>既定値: <span class="emphasis"><em><em class="parameter"><code>homedir map</code></em> = <code class="literal"/>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>homedir map</code></em> = <code class="literal">amd.homedir</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="host msdfs (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2551679"/>

host msdfs (G)
</h3></div></div></div><a class="indexterm" name="id2551680"/><a name="HOSTMSDFS"/><div class="variablelist"><dl><dt/><dd><p><code class="constant">yes</code> の場合、 Samba は DFS サーバとして機能し、 DFS を利用可能なクライアントは、サーバ上で提供された
	DFS ツリーを参照することが可能となる。</p><p>共有単位のパラメータである
	<a class="link" href="smb.conf.5.html#MSDFSROOT" target="_top">msdfs root</a>
	も参照のこと。
	Samba で DFS ツリーを構成する場合の詳細な情報については、
	Samba3-HOWTO の MSDFS の章を参照のこと。
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>host msdfs</code></em> = <code class="literal">yes</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="hostname lookups (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2551750"/>

hostname lookups (G)
</h3></div></div></div><a class="indexterm" name="id2551751"/><a name="HOSTNAMELOOKUPS"/><div class="variablelist"><dl><dt/><dd><p>Samba が(負荷のかかる)ホスト名検索を行なうか、 IP アドレスを使用するかを指定する。現在ホスト名検索を使用している箇所としては、
    <code class="literal">hosts deny</code> および <code class="literal">hosts allow</code> の確認箇所などが挙げられる。
    </p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>hostname lookups</code></em> = <code class="literal">no</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>hostname lookups</code></em> = <code class="literal">yes</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="allow hosts"><div class="titlepage"><div><div><h3 class="title"><a name="id2551828"/>

<a name="ALLOWHOSTS"/>allow hosts
</h3></div></div></div><a class="indexterm" name="id2551829"/><div class="variablelist"><dl><dt/><dd><p>このパラメータは右記のパラメータの別名である：<a class="link" href="#HOSTSALLOW">hosts allow</a>.</p></dd></dl></div></div><div class="section" title="hosts allow (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2551860"/>

hosts allow (S)
</h3></div></div></div><a class="indexterm" name="id2551862"/><a name="HOSTSALLOW"/><div class="variablelist"><dl><dt/><dd><p>このパラメータの同義語として <a class="link" href="smb.conf.5.html#ALLOWHOSTS" target="_top">allow hosts</a> がある。</p><p>このパラメータには、サービスに対するアクセスを許可するホストのリストを、
    コンマ, スペース, タブで区切って指定する。</p><p>[global] セクションで指定された場合、
    個々のサービスで異なった設定が行われている場合も含めて、
    その設定が全てのサービスに対して適用される。</p><p>ホストの指定は、IPアドレスでもホスト名でも行うことができる。
    例えば、あるClass C サブネット上のホストのみにアクセスを限定したい場合は、
    <code class="literal">allow hosts = 150.203.5.</code>とすればよい。
    指定に利用できる記法の全ては、 <code class="filename">hosts_access(5)
    </code>のマニュアルページ中に記載されている。
    このマニュアルページはシステムに存在しないかも知れないので、
    ここで簡単に説明を行っておく。</p><p>なお、localhost のアドレスである 127.0.0.1 からのアクセスは、
    <a class="link" href="smb.conf.5.html#HOSTSDENY" target="_top">hosts deny</a> パラメータで明示的に禁止されない限り、常にアクセスを許可される。</p><p> ホストの指定に、network/netmask 形式を用いたり、
    システムがネットグループをサポートしている場合はネットグループ名を用いたりすることも可能である。
    <span class="emphasis"><em>EXCEPT</em></span> を用いることで、ワイルドカードによるホストの指定に対する例外を設けることも可能である。
    以下の例が手がかりになるだろう:</p><p>Example 1: 150.203.*.* 内の全てのIPアドレスを許可する; ただし、例外のアドレスが1つある</p><p><code class="literal">hosts allow = 150.203. EXCEPT 150.203.6.66</code></p><p>Example 2: 指定した network/netmask の範囲内のホストからのアクセスを許可する</p><p><code class="literal">hosts allow = 150.203.15.0/255.255.255.0</code></p><p>Example 3: 個別に指定したホストからのアクセスを許可する</p><p><code class="literal">hosts allow = lapland, arvidsjaur</code></p><p>Example 4: NISネットグループの「foonet」に含まれるホストからのアクセスを原則として許可するが、あるホストからのアクセスについては拒否する。</p><p><code class="literal">hosts allow = @foonet</code></p><p><code class="literal">hosts deny = pirate</code></p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>実際のアクセスには、ユーザレベルで適切なパスワード指定する必要があることに注意。</p></div><p>ホストレベルのアクセス制御が期待通りになっているかどうかの確認手段については
    <a class="citerefentry" href="testparm.1.html"><span class="citerefentry"><span class="refentrytitle">testparm</span>(1)</span></a> を参照のこと。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>hosts allow</code></em> = <code class="literal">
# なし (全てのホストがアクセス許可される)</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>hosts allow</code></em> = <code class="literal">150.203.5. myhost.mynet.edu.au</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="deny hosts"><div class="titlepage"><div><div><h3 class="title"><a name="id2552100"/>

<a name="DENYHOSTS"/>deny hosts
</h3></div></div></div><a class="indexterm" name="id2552101"/><div class="variablelist"><dl><dt/><dd><p>このパラメータは右記のパラメータの別名である：<a class="link" href="#HOSTSDENY">hosts deny</a>.</p></dd></dl></div></div><div class="section" title="hosts deny (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2552132"/>

hosts deny (S)
</h3></div></div></div><a class="indexterm" name="id2552133"/><a name="HOSTSDENY"/><div class="variablelist"><dl><dt/><dd><p><em class="parameter"><code>hosts allow</code></em> の反対の意味を持ち、
    このパラメータで指定されたホストは、サービス内で明示的にアクセスが許可されない限り、
    サービスへのアクセスを<span class="emphasis"><em>拒否される</em></span>。
    両者の設定が矛盾した場合は、<em class="parameter"><code>allow</code></em> 
    側の設定が優先される。</p><p>
    デフォルトでアクセスを拒否したい場合は、
    ALL (もしくはネットマスク <code class="literal">0.0.0.0/0</code>) の指定を行ない、
    <a class="link" href="smb.conf.5.html#HOSTSALLOW" target="_top">hosts allow = hosts allow</a> パラメータにより、
    アクセスを許可したいホストを明示的に指定すること。
    </p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>hosts deny</code></em> = <code class="literal">
# なし (アクセスを拒否されるホストはない)</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>hosts deny</code></em> = <code class="literal">150.203.4. badhost.mynet.edu.au</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="idmap alloc backend (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2552245"/>

idmap alloc backend (G)
</h3></div></div></div><a class="indexterm" name="id2552246"/><a name="IDMAPALLOCBACKEND"/><div class="variablelist"><dl><dt/><dd><p>
	idmap alloc backend は Winbindが WindowsのSIDに対してUnixのuid/gidを
	割り当てるためのプラグインインターフェースを提供する。
	このオプションは
	ID割り当て機能を提供する idmap モジュールの名前を結びつけるために
	利用される。
	それぞれのidmapプラグインが実装しているID割り当て機能の特徴については
	それぞれのmanページを参照のこと。最も共通のプラグインは、
	tdb (<a class="citerefentry" href="idmap_tdb.8.html"><span class="citerefentry"><span class="refentrytitle">idmap_tdb</span>(8)</span></a>) と
        ldap (<a class="citerefentry" href="idmap_ldap.8.html"><span class="citerefentry"><span class="refentrytitle">idmap_ldap</span>(8)</span></a>) である。
	</p><p>
	このパラメータの既定値は<a class="link" href="smb.conf.5.html#IDMAPBACKEND" target="_top">idmap backend</a>
	である。そのため、Winbindは標準のバックエンドから取得したUnixのIDを
	割り当てる。このパラメータは、会社でユーザ情報を集中管理している
	といった時に、UnixのID情報を外部から取得する必要がある場合にのみ設定
	する。
	</p><p><a class="link" href="smb.conf.5.html#IDMAPALLOCCONFIG" target="_top">idmap alloc config</a> オプションも参照のこと。
	</p><p><span class="emphasis"><em>既定値なし</em></span></p><p>例: <span class="emphasis"><em><em class="parameter"><code>idmap alloc backend</code></em> = <code class="literal">tdb</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="idmap alloc config (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2552361"/>

idmap alloc config (G)
</h3></div></div></div><a class="indexterm" name="id2552362"/><a name="IDMAPALLOCCONFIG"/><div class="variablelist"><dl><dt/><dd><p>
        idmap alloc config のプレフィックスは、
	<a class="link" href="smb.conf.5.html#IDMAPALLOCBACKEND" target="_top">idmap alloc backend</a> パラメーターで設定された
	バックエンドに対するパラメーターの設定方法を提供する。
	それぞれの idmap プラグインに対する個別の設定方法の詳細については
        man ページを参照すること。
	</p><p><span class="emphasis"><em>既定値なし</em></span></p></dd></dl></div></div><div class="section" title="idmap backend (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2552412"/>

idmap backend (G)
</h3></div></div></div><a class="indexterm" name="id2552414"/><a name="IDMAPBACKEND"/><div class="variablelist"><dl><dt/><dd><p>
	idmap backend は Winbindが SID/uid/gid のマッピングテーブルを
        格納するための様々なバックエンドを利用するためのプラグイン
        インターフェースを提供する。
	</p><p>
	このオプションは、<a class="link" href="smb.conf.5.html#IDMAPCONFIG" target="_top">idmap config</a>で何も指定
	されていないときに、既定値として利用するバックエンドを指定する
	ときに利用する。
	</p><p>
	この既定値のバックエンドは、winbindで生成されたidmapの格納場所
	も指定する。そのため、書き込み可能な<a class="citerefentry" href="idmap_tdb.8.html"><span class="citerefentry"><span class="refentrytitle">idmap_tdb</span>(8)</span></a>や<a class="citerefentry" href="idmap_ldap.8.html"><span class="citerefentry"><span class="refentrytitle">idmap_ldap</span>(8)</span></a>をidmapバックエンドとして強く推奨する。<a class="citerefentry" href="idmap_rid.8.html"><span class="citerefentry"><span class="refentrytitle">idmap_rid</span>(8)</span></a>や<a class="citerefentry" href="idmap_ad.8.html"><span class="citerefentry"><span class="refentrytitle">idmap_ad</span>(8)</span></a>は書き込み可能でないため、これらをidmapのバックエンド
	に指定すると予想できない結果となる。
	</p><p>
	ridとadのバックエンドを利用する場合には<a class="link" href="smb.conf.5.html#WORKGROUP" target="_top">workgroup</a>で指定
	されているドメイン名を<a class="link" href="smb.conf.5.html#IDMAPCONFIG" target="_top">idmap config</a>の
	パラメータで指定する。
	</p><p> SID/uid/gid のバックエンドの例として tdb (<a class="citerefentry" href="idmap_tdb.8.html"><span class="citerefentry"><span class="refentrytitle">idmap_tdb</span>(8)</span></a>)、
	ldap (<a class="citerefentry" href="idmap_ldap.8.html"><span class="citerefentry"><span class="refentrytitle">idmap_ldap</span>(8)</span></a>)、 rid (<a class="citerefentry" href="idmap_rid.8.html"><span class="citerefentry"><span class="refentrytitle">idmap_rid</span>(8)</span></a>)、
	ad (<a class="citerefentry" href="idmap_tdb.8.html"><span class="citerefentry"><span class="refentrytitle">idmap_tdb</span>(8)</span></a>)が提供されている。
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>idmap backend</code></em> = <code class="literal">tdb</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="idmap cache time (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2552598"/>

idmap cache time (G)
</h3></div></div></div><a class="indexterm" name="id2552599"/><a name="IDMAPCACHETIME"/><div class="variablelist"><dl><dt/><dd><p>このパラメーターにはWinbindのidmapインターフェースが
	SID/uid/gidの問い合わせに成功した結果をキャッシュする秒数を設定する。
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>idmap cache time</code></em> = <code class="literal">604800（1週間）</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="idmap config (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2552643"/>

idmap config (G)
</h3></div></div></div><a class="indexterm" name="id2552644"/><a name="IDMAPCONFIG"/><div class="variablelist"><dl><dt/><dd><p>
	idmap config のプレフィックスは、それぞれの信頼されたドメインを
	管理する方法を提供する。idmap config プレフィックスに続けて、
	ドメイン名、コロン、そして選択したバックエンド用の設定を指定
	しなければならない。全てのドメインで指定可能な3つのオプションがある。
	</p><div class="variablelist"><dl><dt><span class="term">backend = backend_name</span></dt><dd><p>
	        このドメインでSID/uid/gidのバックエンドとして利用する
			idmapプラグインの名前を指定する。
		</p></dd><dt><span class="term">range = low - high</span></dt><dd><p>
		バックエンドの管轄下にある、利用可能なuidとgidの範囲を指定する。
		一般的に、同じバックエンドにてSID/uid/gidを保存・取得する場合、
		範囲は変わらない。
                </p><p>
		Winbindは、このパラメータを使って信頼できるバックエンドから
		unix IDとSIDのマッピング情報を検索する。そのため、各ドメイン
		ごとに設定される必要があり、<a class="link" href="smb.conf.5.html#IDMAPUID" target="_top">idmap uid</a>
		と<a class="link" href="smb.conf.5.html#IDMAPGID" target="_top">idmap gid</a>の設定範囲とは異なっている
		必要がある。
		</p></dd></dl></div><p>
	次の例はCORPドメインが<a class="citerefentry" href="idmap_ad.8.html"><span class="citerefentry"><span class="refentrytitle">idmap_ad</span>(8)</span></a> バックエンド
	で、他の全てのドメインが<a class="citerefentry" href="idmap_tdb.8.html"><span class="citerefentry"><span class="refentrytitle">idmap_tdb</span>(8)</span></a> バックエンドとしてどのように
	設定されるかを示している。
	この設定では、CORPドメインの管理者がSFUを使って1000000以下をアサイン
	しており、winbindが次の1000000台を、自分の管轄下のドメインとローカル
	グループのためのマッピングに使う場合の例である。
	</p><pre class="programlisting">
	idmap backend = tdb
	idmap uid = 1000000-1999999
	idmap gid = 1000000-1999999

	idmap config CORP : backend  = ad
	idmap config CORP : range = 1000-999999
	</pre><p><span class="emphasis"><em>既定値なし</em></span></p></dd></dl></div></div><div class="section" title="winbind gid"><div class="titlepage"><div><div><h3 class="title"><a name="id2552798"/>

<a name="WINBINDGID"/>winbind gid
</h3></div></div></div><a class="indexterm" name="id2552799"/><div class="variablelist"><dl><dt/><dd><p>このパラメータは右記のパラメータの別名である：<a class="link" href="#IDMAPGID">idmap gid</a>.</p></dd></dl></div></div><div class="section" title="idmap gid (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2552830"/>

idmap gid (G)
</h3></div></div></div><a class="indexterm" name="id2552831"/><a name="IDMAPGID"/><div class="variablelist"><dl><dt/><dd><p>idmap gid パラメータは UNIX グループを NT グループの SID に
	  マッピングする際に使用するグループ id の範囲を指定する。 
	  予期しない競合が発生しないようにするため、この GID の範囲に
	  ローカルな グループや NIS グループが存在しないようにすること。
	</p><p><a class="link" href="smb.conf.5.html#IDMAPBACKEND" target="_top">idmap backend</a>、
	<a class="link" href="smb.conf.5.html#IDMAPCONFIG" target="_top">idmap config</a>も参照のこと。
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>idmap gid</code></em> = <code class="literal"/>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>idmap gid</code></em> = <code class="literal">10000-20000</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="idmap negative cache time (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2552921"/>

idmap negative cache time (G)
</h3></div></div></div><a class="indexterm" name="id2552922"/><a name="IDMAPNEGATIVECACHETIME"/><div class="variablelist"><dl><dt/><dd><p>このパラメーターは Winbindのidmapインターフェースが
	  SID/uid/gidの問い合わせに失敗した結果をキャッシュしておく秒数を
	  指定する。
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>idmap negative cache time</code></em> = <code class="literal">120</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="winbind uid"><div class="titlepage"><div><div><h3 class="title"><a name="id2552966"/>

<a name="WINBINDUID"/>winbind uid
</h3></div></div></div><a class="indexterm" name="id2552967"/><div class="variablelist"><dl><dt/><dd><p>このパラメータは右記のパラメータの別名である：<a class="link" href="#IDMAPUID">idmap uid</a>.</p></dd></dl></div></div><div class="section" title="idmap uid (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2552998"/>

idmap uid (G)
</h3></div></div></div><a class="indexterm" name="id2552999"/><a name="IDMAPUID"/><div class="variablelist"><dl><dt/><dd><p>
	  idmap uid パラメータは UNIX ユーザを NT ユーザの SID に
	  マッピングする際に割り当てられるユーザ id の範囲を指定する。 
	  予期しない競合が発生しないようにするため、この GID の範囲に
	  ローカルな ユーザや NIS ユーザが存在しないようにすること。
	</p><p><a class="link" href="smb.conf.5.html#IDMAPBACKEND" target="_top">idmap backend</a>、
	<a class="link" href="smb.conf.5.html#IDMAPCONFIG" target="_top">idmap config</a>オプションも参照のこと。
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>idmap uid</code></em> = <code class="literal"/>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>idmap uid</code></em> = <code class="literal">10000-20000</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="include (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2553089"/>

include (G)
</h3></div></div></div><a class="indexterm" name="id2553090"/><a name="INCLUDE"/><div class="variablelist"><dl><dt/><dd><p>このパラメータを使うと、ある設定ファイル中に別の設定ファイルを挿入できる。
	挿入されるファイルは、挿入された場所に記述されたかのように、
	そのままの形で挿入される。</p><p>このパラメータには、<em class="parameter"><code>%u</code></em>、
	<em class="parameter"><code>%P</code></em>、<em class="parameter"><code>%S</code></em>パラメータを除き、標準の変数置換が適用される。</p><p>
<em class="parameter"><code>include = registry</code></em> というパラメータには特殊な意味が
ある。これはカレントディレクトリから <span class="emphasis"><em>registry</em></span> という
名前のファイルをインクルードする<span class="emphasis"><em>のではなく</em></span>、
レジストリーからグローバル設定を読み込む。詳細はレジストリーベースの設定
に関する章を参照されたい。注意：このオプションはレジストリー共有を自動的に
有効にする。
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>include</code></em> = <code class="literal"/>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>include</code></em> = <code class="literal">/usr/local/samba/lib/admin_smb.conf</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="inherit acls (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2553198"/>

inherit acls (S)
</h3></div></div></div><a class="indexterm" name="id2553199"/><a name="INHERITACLS"/><div class="variablelist"><dl><dt/><dd><p>このパラメータは、
      親ディレクトリに既定値のACLが設定されており、サブディレクトリの作成時に、
      その ACL の設定を引き継がせたい場合に用いられる。既定値ではディレクトリ作成時に
      設定されるモードが用いられる。このオプションを有効にすると、モードが 0777 となり、
      ディレクトリの既定値のACLを確実に継承できるようになる。

      ネイティブなWindowsデータをメタデータとして格納する、VFSモジュールacl_xattrか
      acl_tdbは、ロードされるどのような共有に対しても、WindowsのACLを正しく
      エミュレートするために、このオプションを自動的にオンにする事が要求される
      ことに注意。
      
    </p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>inherit acls</code></em> = <code class="literal">no</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="inherit owner (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2553258"/>

inherit owner (S)
</h3></div></div></div><a class="indexterm" name="id2553259"/><a name="INHERITOWNER"/><div class="variablelist"><dl><dt/><dd><p> 新規作成したファイルやディレクトリの所有者としては、
    通常接続しているユーザの実行 UID の値が用いられる。
    このパラメータにより、Samba の管理者は、
    新規作成したファイルやディレクトリの所有者を
    親ディレクトリの所有者と同一にすることが可能となる。</p><p>この動作が有用な状況としては、
    ユーザがファイルの作成や修正はできるが、削除はできないようにした drop box や、
    あるユーザの移動プロファイルのディレクトリ内に新規作成されたファイルの所有者が
    そのユーザとなるようにしたい場合などが挙げられる。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>inherit owner</code></em> = <code class="literal">no</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="inherit permissions (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2553325"/>

inherit permissions (S)
</h3></div></div></div><a class="indexterm" name="id2553326"/><a name="INHERITPERMISSIONS"/><div class="variablelist"><dl><dt/><dd><p>通常、新規作成したファイルやディレクトリのパーミッションは、
    <a class="link" href="smb.conf.5.html#CREATEMASK" target="_top">create mask</a> 、<a class="link" href="smb.conf.5.html#DIRECTORYMASK" target="_top">directory mask</a> 、 <a class="link" href="smb.conf.5.html#FORCECREATEMODE" target="_top">force create mode</a> 、 <a class="link" href="smb.conf.5.html#FORCEDIRECTORYMODE" target="_top">force directory mode</a> パラメータによって決定されるが、
    真偽値パラメータである inherit permissions は、それらに優先される。</p><p>新しいディレクトリはsetgid のようなビットも含め、
    親ディレクトリのパーミッションを引き継ぐようになる。</p><p>新しく作成されたファイルは、read/write ビットの設定を親ディレクトリから引き継ぐようになる。
    execute ビットについては、従来どおり
    <a class="link" href="smb.conf.5.html#MAPARCHIVE" target="_top">map archive</a> 、 <a class="link" href="smb.conf.5.html#MAPHIDDEN" target="_top">map hidden</a> 、<a class="link" href="smb.conf.5.html#MAPSYSTEM" target="_top">map system</a> などにより制御される。
    </p><p>setuid ビットが引き継がれることは、<span class="emphasis"><em>決して
    </em></span>ない(コード上で明示的に禁止している)。</p><p>このパラメータは、数千人レベルの多くのユーザが存在する大規模なシステムで、
    単一の [homes] 共有を各ユーザが柔軟に利用できるようにさせる際に、
    特に有用であろう。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>inherit permissions</code></em> = <code class="literal">no</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="init logon delay (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2553485"/>

init logon delay (G)
</h3></div></div></div><a class="indexterm" name="id2553486"/><a name="INITLOGONDELAY"/><div class="variablelist"><dl><dt/><dd><p>
	このパラメータは<a class="link" href="smb.conf.5.html#INITLOGONDELAYEDHOSTS" target="_top">init logon delayed hosts</a>で指定
	したホストに対してinitial samlogonの応答を保留する長さをミリ秒で指定する。
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>init logon delay</code></em> = <code class="literal">100</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="init logon delayed hosts (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2553541"/>

init logon delayed hosts (G)
</h3></div></div></div><a class="indexterm" name="id2553542"/><a name="INITLOGONDELAYEDHOSTS"/><div class="variablelist"><dl><dt/><dd><p>
	このパラメータには、最初に返される samlogon 応答を遅延させるべき
    ホスト名や IP アドレス、ネットワーク等のリストを指定する（本ホスト
    以外にもドメインコントローラがある場合、この設定により、Windows XP 
    端末はそれらの DC を参照するようになる）。
	</p><p>
	応答を保留する長さは<a class="link" href="smb.conf.5.html#INITLOGONDELAY" target="_top">init logon delay</a>で指定する。
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>init logon delayed hosts</code></em> = <code class="literal"/>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>init logon delayed hosts</code></em> = <code class="literal">150.203.5. myhost.mynet.de</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="interfaces (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2553626"/>

interfaces (G)
</h3></div></div></div><a class="indexterm" name="id2553627"/><a name="INTERFACES"/><div class="variablelist"><dl><dt/><dd><p>このオプションにより、Sambaがブラウジング、名前の登録その他のNBTの通信に利用するネットワークインタフェースのリストを設定することが可能となる。
	 デフォルトの場合、Sambaはカーネルに対して有効なインタフェースのリストを問い合わせ、 127.0.0.1以外のブロードキャスト可能なインタフェースをすべて利用する。
	</p><p>このオプションはインタフェースを示す文字列のリストとなる。 各文字列は以下の形式のいずれで指定してもよい。</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>ネットワークインタフェース名(eth0など)。 シェルのようなワイルドカード指定も可能である。 例えばeth*は「eth」から始まるすべてのインタフェースを指定したことになる。</p></li><li class="listitem"><p>IPアドレス。 この場合、ネットマスクの値は、カーネルから取得されたインタフェースのリストにより設定される。 </p></li><li class="listitem"><p>IP/mask のペア。</p></li><li class="listitem"><p>ブロードキャスト/mask のペア。</p></li></ul></div><p>「mask」パラメータはビット長(例えば24はクラスCネットワーク)で指定しても、 ドット区切り10進数表記で指定してもよい。</p><p>上記の「IP」パラメータは、ドット区切り10進法で指定しても、 OSの標準的なホスト名解決機構で解決可能なホスト名で指定してもよい。 </p><p>
    デフォルトで、Samba はループバックインタフェース (IPアドレス 127.0.0.1)
    を除くブロードキャスト可能なすべての有効なインタフェースを使用する。
    </p><p>
    以下の設定では、eth0 デバイスと 192.168.2.10 および 192.168.3.10 の
    IP アドレスに対応する 3 つのネットワークインタフェースが指定されている。 
    後者のインタフェース 2 つに対するネットマスクは 255.255.255.0 に設定されている。 
    </p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>interfaces</code></em> = <code class="literal"/>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>interfaces</code></em> = <code class="literal">eth0 192.168.2.10/24 192.168.3.10/255.255.255.0</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="invalid users (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2553770"/>

invalid users (S)
</h3></div></div></div><a class="indexterm" name="id2553772"/><a name="INVALIDUSERS"/><div class="variablelist"><dl><dt/><dd><p>これは、サービスに対するログインを許可しないユーザのリストを指定する。
    このパラメータは、不適切な設定により発生しうるセキュリティ上の問題を完全に抑止する、
    <span class="emphasis"><em>パラノイド的</em></span>設定である。
    </p><p>「@」ではじまる名前は(システムがNISをサポートしている場合)、
    まずNISネットグループとして解釈され、NISネットグループデータベースに名前が存在しない
    時は、UNIXのグループとして解釈される。</p><p>
    「+」で始まる名前は、NSS getgrnam() インタフェース経由でUNIXのグループ名として
    のみ解釈される。「 &amp; 」で始まる名前は、NISネットグループの名前としてのみ解釈される
    (この場合システムでNISが稼働している必要がある)。
    名前の前に付けられた「+」および「 &amp; 」文字は、検索の順番を示す意味で使うこともできる。
    例えば、<em class="parameter"><code>+&amp;group</code></em>は、
    UNIXグループを検索してから、NISネットグループを検索するという意味になり、
    <em class="parameter"><code>&amp;+group</code></em>は、
    NIS ネットグループを検索してから UNIXグループを検索するという意味になる(これは「@」と同等になる)。
    </p><p><em class="parameter"><code>%S</code></em>は、
    現在のサービス名に置換される。これは [homes] セクションで有効である。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>invalid users</code></em> = <code class="literal">
# invalid users は空である</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>invalid users</code></em> = <code class="literal">root fred admin @wheel</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="iprint server (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2553894"/>

iprint server (G)
</h3></div></div></div><a class="indexterm" name="id2553895"/><a name="IPRINTSERVER"/><div class="variablelist"><dl><dt/><dd><p>
    このパラメータは、<a class="link" href="smb.conf.5.html#PRINTING" target="_top">printing</a> が <code class="constant">iprint</code> に設定されている場合のみ有効である。
    </p><p>
    設定されている場合、CUPS の <code class="filename">client.conf</code> で指定された ServerName オプションの値がこのパラメータによって上書きされる。
    複数の仮想 Samba サーバが起動している環境で各々が異なる CUPS デーモンに接続している環境では、このパラメータが必要となる。
   </p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>iprint server</code></em> = <code class="literal">""</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>iprint server</code></em> = <code class="literal">MYCUPSSERVER</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="keepalive (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2553990"/>

keepalive (G)
</h3></div></div></div><a class="indexterm" name="id2553991"/><a name="KEEPALIVE"/><div class="variablelist"><dl><dt/><dd><p>このパラメータの値(整数値)により、 <em class="parameter"><code>keepalive</code></em> パケットが送出される秒単位の間隔が設定される。このパラメータの値が0の場合、 keepalive パケットは送出されない。
    keepalive パケットを送出することにより、サーバはクライアントマシンが存在していて応答があることを確認することが可能になる。</p><p>ソケットにデフォルトで SO_KEEPALIVE 属性が設定されている場合(
    <a class="link" href="smb.conf.5.html#SOCKETOPTIONS" target="_top">socket options</a> を参照のこと)、通常 keepalive は不要である。基本的に、このオプションは問題が発生している場合にのみ使用すべきである。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>keepalive</code></em> = <code class="literal">300</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>keepalive</code></em> = <code class="literal">600</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="kerberos method (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2554088"/>

kerberos method (G)
</h3></div></div></div><a class="indexterm" name="id2554089"/><a name="KERBEROSMETHOD"/><div class="variablelist"><dl><dt/><dd><p>
    Kerberos チケットをどのように検査するかを制御する。
	</p><p>有効な値は以下の通り：</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>secrets only - 
      チケットの検査に secrets.tdb のみを使用する（デフォルト）
	  </p></li><li class="listitem"><p>system keytab - 
      チケットの検査にシステムの keytab ファイルのみを使用する
	  </p></li><li class="listitem"><p>dedicated keytab - 
      チケットの検査に Samba 専用の keytab ファイルを使用する
	  </p></li><li class="listitem"><p>secrets and keytab - 
      最初に secrets.tdb 、その後システムの keytab ファイルを使用する
	  </p></li></ul></div><p>
      「system keytab」と「dedicated keytab」の主な違いは、
      適切な keytab エントリを見つける際に、前者は期待するプリンシパルに
      基づくフィルタリングを行うのに対し、後者は Kerberos に依存するところである。
	</p><p>
      このパラメータの値が「dedicated keytab」の場合、
      keytab ファイルのパスを指定するため
	  <a class="link" href="smb.conf.5.html#DEDICATEDKEYTABFILE" target="_top">dedicated keytab file</a> 
      パラメータを必ず設定しなければならない。
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>kerberos method</code></em> = <code class="literal">secrets only</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="kernel change notify (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2554207"/>

kernel change notify (S)
</h3></div></div></div><a class="indexterm" name="id2554208"/><a name="KERNELCHANGENOTIFY"/><div class="variablelist"><dl><dt/><dd><p>このパラメータは、Samba がカーネルに対してディレクトリの変更
	通知を要求するか指定でき、この機能を使用すれば、サーバ上にある
	データに変更があった場合に SMB クライアントがその結果を
	反映できるようになる。
	</p><p>このパラメータは使用しているカーネルが inotify インターフェース
	を使用してユーザプログラムに対しての変更の通知をサポートしている
	場合にのみ使用される。
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>kernel change notify</code></em> = <code class="literal">yes</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="kernel oplocks (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2554266"/>

kernel oplocks (G)
</h3></div></div></div><a class="indexterm" name="id2554267"/><a name="KERNELOPLOCKS"/><div class="variablelist"><dl><dt/><dd><p>カーネルベースの
	<a class="link" href="smb.conf.5.html#OPLOCKS" target="_top">oplocks</a>
	をサポートしているUNIX(現在はIRIXとLinux 2.4カーネルのみ)の場合、
	このパラメータにより oplock の利用を制御できる。</p><p>カーネル oplocks のサポートにより、
	<a class="citerefentry" href="smbd.8.html"><span class="citerefentry"><span class="refentrytitle">smbd</span>(8)</span></a> が oplock を行ったファイルに対して、
	ローカルな UNIX プロセスや NFS 経由でのアクセスがあった際に、
	Sambaが <em class="parameter"><code>oplocks</code></em> を破棄することが可能となる。
	これにより、 SMB/CIFS と NFS やローカルファイルアクセスとの間の完全な一貫性が確保される
	(これは<span class="emphasis"><em>非常に</em></span>素晴らしいことである :-)。</p><p>このパラメータの既定値は、 <code class="constant">on</code> であるが、
	カーネルがこの機能をサポートしていないシステムでは、自動的に無効にされる。
	このパラメータを変更する必要はないであろう。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>kernel oplocks</code></em> = <code class="literal">yes</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="lanman auth (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2554370"/>

lanman auth (G)
</h3></div></div></div><a class="indexterm" name="id2554371"/><a name="LANMANAUTH"/><div class="variablelist"><dl><dt/><dd><p>このパラメータは、<a class="citerefentry" href="smbd.8.html"><span class="citerefentry"><span class="refentrytitle">smbd</span>(8)</span></a> が LANMAN パスワードハッシュを使用した
      認証を行なうか否かを制御する。無効にした場合、 NT パスワードハッシュを利用する
      クライアント(Windows NT/2000クライアント、smbclientなど。しかし Windows 95/98や
      MS-DOS クライアントは含まない)のみがSambaホストに接続できる。</p><p>LANMAN 暗号化レスポンスは簡単に解読することが可能である。これは大文字と小文字を
      区別しないことや、使用しているアルゴリズムなどに起因する。Windows 95/98 や MS-DOS
      クライアントが存在しない場合は、このオプションを無効にした方ががよいだろう。
    </p><p>このパラメータが<code class="literal">no</code>に設定された場合、これは、次のパスワードの
      変更時にSambaのpassdb中のsambaLMPasswordを空白にする動作も行う。この結果、
      lanmanクライアントは、あとでlanman auth を再度有効に下としても認証出来なくなる。
    </p><p><code class="literal">encypt
    passwords</code> オプションとは異なり、このパラメータはクライアントの挙動を制御するものではなく、
    LANMAN レスポンスは以前としてネットワーク上を送信される。
    Samba のクライアント (smbclient など) で LANMAN レスポンスを無効にするには
    <code class="literal">client lanman auth</code> を参照のこと。</p><p>このパラメータと <code class="literal">ntlm
    auth</code> の両方を無効にした場合、 NTLMv2 によるログインのみが可能となる。
    クライアントのすべてが NTLMv2 をサポートしているわけではなく、ほとんどのクライアント
      では NTLMv2 を使用するために明示的な設定を行なう必要がある。
    </p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>lanman auth</code></em> = <code class="literal">no</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="large readwrite (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2554501"/>

large readwrite (G)
</h3></div></div></div><a class="indexterm" name="id2554502"/><a name="LARGEREADWRITE"/><div class="variablelist"><dl><dt/><dd><p>このパラメータは、Windows 2000で導入された、
    さまざまなSMBリクエストにおける新しい64Kのストリーム読みとりおよび書き込みを
    <a class="citerefentry" href="smbd.8.html"><span class="citerefentry"><span class="refentrytitle">smbd</span>(8)</span></a> がサポートするかどうかを制御する。
    Windows 2000クライアントのリダイレクタにはバグがあるため、
    このパラメータを利用するには、SambaがIRIX、Solaris、Linux 2.4カーネルのような64ビットのOSで動作している必要がある。
    Windows 2000クライアントにおいては、10% のパフォーマンス向上が見込まれる。
    既定値は on であるが、他の Samba コードほどにはテストが充分には行われていない。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>large readwrite</code></em> = <code class="literal">yes</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="ldap admin dn (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2554563"/>

ldap admin dn (G)
</h3></div></div></div><a class="indexterm" name="id2554564"/><a name="LDAPADMINDN"/><div class="variablelist"><dl><dt/><dd><p>
	<a class="link" href="smb.conf.5.html#LDAPADMINDN" target="_top">ldap admin dn</a> は、 Samba
	がユーザのアカウント情報を取得するために ldap サーバに接続する際に
	用いられる、Distinguished Name (DN) を指定する。
	<a class="link" href="smb.conf.5.html#LDAPADMINDN" target="_top">ldap admin dn</a> は、
	<code class="filename">private/secrets.tdb</code> ファイルに
	格納された admin dn のパスワードとともに用いられる。
	これがどのように連携するかについての詳細な情報は、
	<a class="citerefentry" href="smbpasswd.8.html"><span class="citerefentry"><span class="refentrytitle">smbpasswd</span>(8)</span></a>
	のマニュアルページを参照のこと。</p><p>
	<a class="link" href="smb.conf.5.html#LDAPADMINDN" target="_top">ldap admin dn</a> には完全な DN 名を指定する必要がある。
	<a class="link" href="smb.conf.5.html#LDAPSUFFIX" target="_top">ldap suffix</a> の値が <a class="link" href="smb.conf.5.html#LDAPADMINDN" target="_top">ldap admin dn</a> に付加されることはない。
	</p><p><span class="emphasis"><em>既定値なし</em></span></p></dd></dl></div></div><div class="section" title="ldap connection timeout (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2554684"/>

ldap connection timeout (G)
</h3></div></div></div><a class="indexterm" name="id2554685"/><a name="LDAPCONNECTIONTIMEOUT"/><div class="variablelist"><dl><dt/><dd><p>
	このパラメータは、LDAPサーバに対して最初のコネクションを確立する間に保持するための
	LDAPライブラリ呼び出しの秒単位のタイムアウトを指定する。これは実際、フェールオーバ
	の手順においてとても便利である。もしも、1つまたはそれ以上のLDAPサーバが接続不能に
	なった時、TCPのタイムアウトが満了になるのを待つ必要が無くなる。この機能は、LDAP
	ライブラリによってサポートされなければならない。
	</p><p>
	このパラメータは、存在するコネクションを使ってのLDAPサーバ上の操作に影響する
	<a class="link" href="smb.conf.5.html#LDAPTIMEOUT" target="_top">ldap timeout</a>とは異なり、最初の接続を確立しない。
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>ldap connection timeout</code></em> = <code class="literal">2</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="ldap debug level (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2554755"/>

ldap debug level (G)
</h3></div></div></div><a class="indexterm" name="id2554756"/><a name="LDAPDEBUGLEVEL"/><div class="variablelist"><dl><dt/><dd><p>
このパラメータは LDAP ライブラリコールのデバッグレベルをコントロールする。
OpenLDAP の場合、これはサーバで解釈されるビットフィールドと同じものであり、
		 <a class="citerefentry" href="slapd.conf.5.html"><span class="citerefentry"><span class="refentrytitle">slapd.conf</span>(5)</span></a>
のマニュアルにその解説がある。よく使われる有用な値として、
		 <span class="emphasis"><em>1</em></span> がある。これは関数コールをトレースする。
	</p><p>
LDAP ライブラリからのデバッグ出力は、Samba のログ出力の中で頭に [LDAP]
がついたものである。LDAP がログ出力をするレベルは
<em class="parameter"><code>ldap debug threshold</code></em> パラメータでコントロール
できる。
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>ldap debug level</code></em> = <code class="literal">0</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>ldap debug level</code></em> = <code class="literal">1</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="ldap debug threshold (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2554856"/>

ldap debug threshold (G)
</h3></div></div></div><a class="indexterm" name="id2554857"/><a name="LDAPDEBUGTHRESHOLD"/><div class="variablelist"><dl><dt/><dd><p>
このパラメータは、Samba のデバッグレベルの中で、LDAP ライブラリの
デバッグ出力を Samba のログに出力するためのレベルをコントロールする。
詳細は <em class="parameter"><code>ldap debug level</code></em> を参照のこと。
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>ldap debug threshold</code></em> = <code class="literal">10</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>ldap debug threshold</code></em> = <code class="literal">5</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="ldap delete dn (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2554928"/>

ldap delete dn (G)
</h3></div></div></div><a class="indexterm" name="id2554930"/><a name="LDAPDELETEDN"/><div class="variablelist"><dl><dt/><dd><p>このパラメータは ldapsam の削除の操作時に、エントリを完全に
	削除するか、Samba でしか使用されない属性だけを消すかの制御を行なう。
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>ldap delete dn</code></em> = <code class="literal">no</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="ldap deref (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2554973"/>

ldap deref (G)
</h3></div></div></div><a class="indexterm" name="id2554974"/><a name="LDAPDEREF"/><div class="variablelist"><dl><dt/><dd><p>このオプションは、Sambaが、LDAPライブラリに、ある alias dereferencing方法を
	  使う事を指定するかどうかを制御する。この既定値は<span class="emphasis"><em>auto</em></span>
	  であり、これは、ldapクライアントライブラリの既定値の設定がそのまま保持される
	  事を意味する。これ以外に取り得る値は、
	  <span class="emphasis"><em>never</em></span>, <span class="emphasis"><em>finding</em></span>,
        <span class="emphasis"><em>searching</em></span> と <span class="emphasis"><em>always</em></span>である。
	より詳細な情報は、使用しているLDAPのマニュアルで探してみること。
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>ldap deref</code></em> = <code class="literal">auto</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>ldap deref</code></em> = <code class="literal">searching</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="ldap follow referral (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2555060"/>

ldap follow referral (G)
</h3></div></div></div><a class="indexterm" name="id2555061"/><a name="LDAPFOLLOWREFERRAL"/><div class="variablelist"><dl><dt/><dd><p>このオプションは、LDAPデータベース中でエントリを検索する時に、
	  LDAP referralを利用するかどうかを制御する。取り得る値は、
	  referral機能の利用を有効にする場合は、<span class="emphasis"><em>on</em></span>、
	  これを無効にする場合は、<span class="emphasis"><em>off</em></span>、
	  libldapの既定値の設定を使う場合は<span class="emphasis"><em>auto</em></span>である。
	  libldapによるrefarral機能の仕様の有無は、ldap.conf(5)中に記述がある、
	  REFERRALSパラメータによって、/etc/openldap/ldap.confにおいて
	  設定される。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>ldap follow referral</code></em> = <code class="literal">auto</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>ldap follow referral</code></em> = <code class="literal">off</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="ldap group suffix (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2555137"/>

ldap group suffix (G)
</h3></div></div></div><a class="indexterm" name="id2555138"/><a name="LDAPGROUPSUFFIX"/><div class="variablelist"><dl><dt/><dd><p>このパラメータは、グループが LDAP ディレクトリに加えられるときの
	サフィックスを指定する。もしこのパラメータが設定されていない場合、
	<a class="link" href="smb.conf.5.html#LDAPSUFFIX" target="_top">ldap suffix</a> の値が代わりに使用される。
	サフィックスの文字列には、<a class="link" href="smb.conf.5.html#LDAPSUFFIX" target="_top">ldap suffix</a>
	の文字列が付加されるため、相対 DN で指定を行なうこと。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>ldap group suffix</code></em> = <code class="literal"/>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>ldap group suffix</code></em> = <code class="literal">ou=Groups</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="ldap idmap suffix (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2555226"/>

ldap idmap suffix (G)
</h3></div></div></div><a class="indexterm" name="id2555227"/><a name="LDAPIDMAPSUFFIX"/><div class="variablelist"><dl><dt/><dd><p>このパラメータは idmap mapping の情報の保存先のサフィックスを
	指定する。このパラメータが設定されていない場合、
	<a class="link" href="smb.conf.5.html#LDAPSUFFIX" target="_top">ldap suffix</a> の値が代わりに使用される。
	サフィックスの文字列には、<a class="link" href="smb.conf.5.html#LDAPSUFFIX" target="_top">ldap suffix</a>
	の文字列が付加されるため、相対 DN で指定を行なうこと。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>ldap idmap suffix</code></em> = <code class="literal"/>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>ldap idmap suffix</code></em> = <code class="literal">ou=Idmap</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="ldap machine suffix (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2555313"/>

ldap machine suffix (G)
</h3></div></div></div><a class="indexterm" name="id2555314"/><a name="LDAPMACHINESUFFIX"/><div class="variablelist"><dl><dt/><dd><p>このパラメータはマシンアカウントが LDAP ツリーのどこに
	追加されるかを指定する。もしこのパラメータが設定されていない場合、
	<a class="link" href="smb.conf.5.html#LDAPSUFFIX" target="_top">ldap suffix</a> の値が代わりに使用される。
	サフィックスの文字列には、<a class="link" href="smb.conf.5.html#LDAPSUFFIX" target="_top">ldap suffix</a>
	の文字列が付加されるため、相対 DN で指定を行なうこと。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>ldap machine suffix</code></em> = <code class="literal"/>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>ldap machine suffix</code></em> = <code class="literal">ou=Computers</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="ldap page size (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2555400"/>

ldap page size (G)
</h3></div></div></div><a class="indexterm" name="id2555401"/><a name="LDAPPAGESIZE"/><div class="variablelist"><dl><dt/><dd><p>
	  このパラメータは1ページあたりのエントリ数を指定する。
	</p><p>もしも、LDAPサーバがpaged resultsをサポートする場合、クライアントは
	  すべての一覧の代わりに、検索結果(ページ)のサブセットを要求できる。
	  このパラメータはそのページの大きさを指定する。
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>ldap page size</code></em> = <code class="literal">1024</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>ldap page size</code></em> = <code class="literal">512</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="ldap passwd sync (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2555470"/>

ldap passwd sync (G)
</h3></div></div></div><a class="indexterm" name="id2555471"/><a name="LDAPPASSWDSYNC"/><div class="variablelist"><dl><dt/><dd><p>このオプションは、Samba によるパスワード変更時に、Samba が通常のアカウント 
	(ワークステーション、サーバやドメインの信頼関係は含まない) の NT
	ハッシュや LM ハッシュと、LDAP のパスワード
	の同期をおこなうかを定義する。 
	</p><p><a class="link" href="smb.conf.5.html#LDAPPASSWDSYNC" target="_top">ldap passwd sync</a> には、
	以下の 3 つのうちの 1 つを設定することができる: </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p><em class="parameter"><code>Yes</code></em>  =
			LDAP、NT、LM パスワードの更新を試み、pwdLastSet
			time を変更する。</p></li><li class="listitem"><p><em class="parameter"><code>No</code></em> =
			NT、LM パスワードと pwdLastSet time を更新する。
			</p></li><li class="listitem"><p><em class="parameter"><code>Only</code></em> =
			LDAP パスワードのみを変更し、あとの処理は LDAP サーバに
			委任する。</p></li></ul></div><p>既定値: <span class="emphasis"><em><em class="parameter"><code>ldap passwd sync</code></em> = <code class="literal">no</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="ldap replication sleep (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2555585"/>

ldap replication sleep (G)
</h3></div></div></div><a class="indexterm" name="id2555586"/><a name="LDAPREPLICATIONSLEEP"/><div class="variablelist"><dl><dt/><dd><p>
	Samba が読みとり専用の LDAP レプリカに対して、書き込みの要求を行なった際には、読み書き可能なマスタサーバと通信するようにリダイレクトを行なう。
	その後マスタサーバは、変更を最初に通信した「ローカル」サーバに対して複製を行なうが、特に遅い回線越しの場合、これには数秒の時間を要する。
	特にドメインへの参加といったクライアント側の処理については、「成功」した処理が LDAP のデータに即座に反映されないことで、
	混乱する可能性がある。
	</p><p>
	このオプションにより、LDAP サーバに変更が反映されるのを待つために Samba が短い時間待機するようになる。
	遅延の大きいネットワークの場合、LDAP の複製に要する時間をネットワークモニタで取得の上、それに応じて値を増減すればよいだろう。
	データの複製が完了したかどうかについてのチェックが行なわれるわけではない点に注意すること。
	</p><p>
	この値はミリ秒単位で指定する。最大値は 5000 (5秒)である。
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>ldap replication sleep</code></em> = <code class="literal">1000</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="ldapsam:editposix (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2555669"/>

ldapsam:editposix (G)
</h3></div></div></div><a class="indexterm" name="id2555670"/><a name="LDAPSAM:EDITPOSIX"/><div class="variablelist"><dl><dt/><dd><p>
Editposix は ldapsam:trusted を利用してドメインコントローラーの管理をより
簡単にするためのオプションである。これを使えば posix ユーザーやグループの
追加や保守のためのカスタムスクリプトを設定しなくてもすむ。その代わりこの
オプションでは、LDAP ツリー上のユーザやグループのエントリーを直接生成、
削除、編集できる。なお、このオプションを使うにあたっては、ユーザ／グループ
の生成をする際に新しい uid/gid を割り当てるための winbindd が動いている
必要がある。その割り当て範囲はあらかじめ設定されていなければならない。
	</p><p>
このオプションを使うためには、基本的な LDAP ツリーが提供され、また LDAP
サフィックスが適切に設定されていなければならない。構築したてのサーバーでは、
<code class="literal">net sam provision</code> コマンドで事前に
デフォルトのユーザとグループ (Administrator, Guest, Domain Users, 
Domain Admins, Domain Guests) を作成できる。このコマンドを動かす際は
LDAP サーバーと winbindd が動いており、かつ smb.conf の LDAP オプション
群が適切に構成されていなければならない。
<a class="link" href="smb.conf.5.html#LDAPSAM:TRUSTED" target="_top">ldapsam:trusted = yes</a> オプションで
使われる典型的な LDAP 構成であれば、通常は
<a class="link" href="smb.conf.5.html#LDAPSAM:EDITPOSIX" target="_top">ldapsam:editposix = yes</a> を使うのに
十分である。
	</p><p>
設定例を以下に示す：

	</p><pre class="programlisting">
	encrypt passwords = true
	passdb backend = ldapsam

	ldapsam:trusted=yes
	ldapsam:editposix=yes

	ldap admin dn = cn=admin,dc=samba,dc=org
	ldap delete dn = yes
	ldap group suffix = ou=groups
	ldap idmap suffix = ou=idmap
	ldap machine suffix = ou=computers
	ldap user suffix = ou=users
	ldap suffix = dc=samba,dc=org

	idmap backend = ldap:"ldap://localhost"

	idmap uid = 5000-50000
	idmap gid = 5000-50000
	</pre><p>

この設定例では、ディレクトリのレイアウトが以下の LDIF で示すように
なっていることを想定している：

	</p><pre class="programlisting">
	dn: dc=samba,dc=org
	objectClass: top
	objectClass: dcObject
	objectClass: organization
	o: samba.org
	dc: samba

	dn: cn=admin,dc=samba,dc=org
	objectClass: simpleSecurityObject
	objectClass: organizationalRole
	cn: admin
	description: LDAP administrator
	userPassword: secret

	dn: ou=users,dc=samba,dc=org
	objectClass: top
	objectClass: organizationalUnit
	ou: users

	dn: ou=groups,dc=samba,dc=org
	objectClass: top
	objectClass: organizationalUnit
	ou: groups

	dn: ou=idmap,dc=samba,dc=org
	objectClass: top
	objectClass: organizationalUnit
	ou: idmap

	dn: ou=computers,dc=samba,dc=org
	objectClass: top
	objectClass: organizationalUnit
	ou: computers
	</pre><p>
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>ldapsam:editposix</code></em> = <code class="literal">no</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="ldapsam:trusted (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2555828"/>

ldapsam:trusted (G)
</h3></div></div></div><a class="indexterm" name="id2555829"/><a name="LDAPSAM:TRUSTED"/><div class="variablelist"><dl><dt/><dd><p>
	デフォルトで、ドメインコントローラとして動作し、認証に LDAP を用いている Samba は、ユーザやグループの情報を取得するために、UNIX の NSS サブシステムを必要とする。
	UNIX がユーザ情報を /etc/passwd や /etc/group に格納する機構からすると、これは明らかに非効率である。
	ユーザが把握する必要がある重要な項目の一つに、所属グループの一覧がある。
	通常の UNIX のユーザ管理機構であれば、/etc/group ファイルの全体を参照するか、LDAP 環境においては NSS 機構を用いて同様のことを行なう。
	UNIX には group のメンバを参照するのに最適化された関数が存在している。
	しかし、残念なことに、ユーザやグループを扱うその他の関数については、こうした最適化は行なわれていない。
	</p><p>
	o Samba を大規模環境に適用させるため、<a class="link" href="smb.conf.5.html#LDAPSAM:TRUSTED" target="_top">ldapsam:trusted = yes</a>
	オプションにより、Samba に関係するユーザおよびグループのデータベースは LDAP 標準の posixAccount/posixGroup 属性に格納されているとみなす。
	さらに、Samba の AUXILIARY(補助) オブジェクトクラスについても、同じ LDAP オブジェクト中に POSIX データとして格納されているものとみなす。
	これらの前提条件に適合する場合、
	<a class="link" href="smb.conf.5.html#LDAPSAM:TRUSTED" target="_top">ldapsam:trusted = yes</a> を設定することが可能となる。
	この場合、Samba はユーザ情報の NSS に対する問い合わせを完全にバイパスする。
	最適化された LDAP クエリにより、ログオンや管理作業が劇的に高速化される。
	LDAP データベースのサイズにもよるが、共通的なクエリについては、100 倍以上の高速化が容易に達成される。
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>ldapsam:trusted</code></em> = <code class="literal">no</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="ldap ssl (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2555948"/>

ldap ssl (G)
</h3></div></div></div><a class="indexterm" name="id2555949"/><a name="LDAPSSL"/><div class="variablelist"><dl><dt/><dd><p>このオプションはSambaがLDAPサーバへの接続にSSLを利用するかを
	指定する。以前のSambaのバージョンにおいて<code class="filename">
	configureスクリプト</code>の<code class="literal">--with-ssl
	</code>で指定されたSambaの古いSSLサポートとは<span class="emphasis"><em>関係ない。
	</em></span></p><p>LDAPサーバとの接続は可能な限り暗号化すべきである。これは、
	<em class="parameter"><code>Start_tls</code></em>パラメータを指定する、
	または<a class="link" href="smb.conf.5.html#PASSDBBACKEND" target="_top">passdb backend</a>におけるURLの指定に
	<em class="parameter"><code>ldaps://</code></em>を指定するか、のいずれか
	によって設定される。</p><p><a class="link" href="smb.conf.5.html#LDAPSSL" target="_top">ldap ssl</a>オプションは、２つのうちいずれかを
	選択する。</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p><em class="parameter"><code>Off</code></em> = 
			ディレクトリに問い合わせする時SSLを使わない。</p></li><li class="listitem"><p><em class="parameter"><code>start_tls</code></em> = 
			ディレクトリに問い合わせする際にLDAPv3 StartTLS拡張オプション
			(RFC2830)を利用する。</p></li></ul></div><p>
	このパラメータは<span class="emphasis"><em>rpc</em></span>メソッドのみ影響する。
	<span class="emphasis"><em>ads</em></span>LDAPv3 StartTLS拡張オプション(RFC2830)で運用する場合、
	<a class="link" href="smb.conf.5.html#LDAPSSL" target="_top">ldap ssl = yes</a>と
	<a class="link" href="smb.conf.5.html#LDAPSSLADS" target="_top">ldap ssl ads = yes</a>と設定する。
	<a class="link" href="smb.conf.5.html#LDAPSSLADS" target="_top">ldap ssl ads</a>の詳細については
	<span class="refentrytitle">smb.conf</span>(5)を参照。
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>ldap ssl</code></em> = <code class="literal">start tls</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="ldap ssl ads (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2556141"/>

ldap ssl ads (G)
</h3></div></div></div><a class="indexterm" name="id2556142"/><a name="LDAPSSLADS"/><div class="variablelist"><dl><dt/><dd><p>このオプションはSambaが<span class="emphasis"><em>ads</em></span>メソッドを使用
	するLDAPサーバへの接続にSSLを利用するかを指定する。
	このパラメータにより、Rpcメソッドへは影響しない。なお、
	<a class="link" href="smb.conf.5.html#LDAPSSL" target="_top">ldap ssl</a>が<em class="parameter"><code>no</code></em>と設定
	されているときには効果がないことに留意する。
	</p><p>詳細については<span class="refentrytitle">smb.conf</span>(5)
	の<a class="link" href="smb.conf.5.html#LDAPSSL" target="_top">ldap ssl</a>を参照のこと。
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>ldap ssl ads</code></em> = <code class="literal">no</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="ldap suffix (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2556227"/>

ldap suffix (G)
</h3></div></div></div><a class="indexterm" name="id2556228"/><a name="LDAPSUFFIX"/><div class="variablelist"><dl><dt/><dd><p>全体に適用される LDAP サフィックスを指定すると共に、sambaDomain オブジェクトの格納先を指定する。</p><p>
	ldap suffix は、<a class="link" href="smb.conf.5.html#LDAPUSERSUFFIX" target="_top">ldap user suffix</a>、
	<a class="link" href="smb.conf.5.html#LDAPGROUPSUFFIX" target="_top">ldap group suffix</a>、<a class="link" href="smb.conf.5.html#LDAPMACHINESUFFIX" target="_top">ldap machine suffix</a>、
	<a class="link" href="smb.conf.5.html#LDAPIDMAPSUFFIX" target="_top">ldap idmap suffix</a> で指定された値に付加される。
	これらのパラメータでは
	<a class="link" href="smb.conf.5.html#LDAPSUFFIX" target="_top">ldap suffix</a> からの相対 DN で指定が行なわれる。
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>ldap suffix</code></em> = <code class="literal"/>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>ldap suffix</code></em> = <code class="literal">dc=samba,dc=org</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="ldap timeout (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2556354"/>

ldap timeout (G)
</h3></div></div></div><a class="indexterm" name="id2556355"/><a name="LDAPTIMEOUT"/><div class="variablelist"><dl><dt/><dd><p>
	このパラメータでは、SambaがLDAP接続においてタイムアウトさせるまでの秒数を指定する。
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>ldap timeout</code></em> = <code class="literal">15</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="ldap user suffix (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2556399"/>

ldap user suffix (G)
</h3></div></div></div><a class="indexterm" name="id2556400"/><a name="LDAPUSERSUFFIX"/><div class="variablelist"><dl><dt/><dd><p>このパラメータは、ユーザが LDAP ディレクトリに加えられるときの
	サフィックスを指定する。もしこのパラメータが設定されていない場合、
	<a class="link" href="smb.conf.5.html#LDAPSUFFIX" target="_top">ldap suffix</a> の値が代わりに使用される。
	サフィックスの文字列には、<a class="link" href="smb.conf.5.html#LDAPSUFFIX" target="_top">ldap suffix</a>
	の文字列が付加されるため、相対 DN で指定を行なうこと。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>ldap user suffix</code></em> = <code class="literal"/>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>ldap user suffix</code></em> = <code class="literal">ou=people</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="level2 oplocks (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2556486"/>

level2 oplocks (S)
</h3></div></div></div><a class="indexterm" name="id2556487"/><a name="LEVEL2OPLOCKS"/><div class="variablelist"><dl><dt/><dd><p>このパラメータにより、
	Samba が共有上で level2(読みとり専用) oplock をサポートするかどうかが制御される。</p><p> level2 の読みとり専用 oplock を利用することで、
	Windows NT クライアントは、既に oplock が行われているファイルを別のクライアントがオープンしようとした際に
	(今までの排他的な oplock の場合に行われていた関連するすべての oplock を廃棄する処理の代わりに)、
	読み書き可能な oplock から読みとり専用の oplock へのダウングレードを行うような 
	oplock をファイルに対して行うことが可能になる。
	これにより、ファイルをオープンしているクライアントのうち、level2 oplock をサポートしているものは、
	ファイルの先読みのみを行うキャッシュ(このキャッシュは書き込みキャッシュやロックを行わない)を引続き行うため、
	書き込みが行われないようなファイル(例えばアプリケーションのexeファイルなど)に対して多くのアクセスが行われる際のパフォーマンスが改善される。
	</p><p> read only の oplock を行っていたクライアントのいずれかがファイルに書き込みを行った時点で、
	すべてのクライアントに対して、
	oplock を「なし(none)」の状態に解除し、先読みキャッシュを破棄するように通知が行なわれる(応答待ちは行なわれない)。
	</p><p>このパラメータを有効にして、
	共有されている実行ファイルのアクセスを高速化することを推奨する。</p><p>level2 oplock に関する詳細な議論については、CIFS の仕様を参照のこと。</p><p>
	現在、<a class="link" href="smb.conf.5.html#KERNELOPLOCKS" target="_top">kernel oplocks</a> がサポートされていると、
	level2 oplock は(このパラメータが<code class="constant">yes</code>になっていても)、利用されない。
	このパラメータを機能させるためには、
	<a class="link" href="smb.conf.5.html#OPLOCKS" target="_top">oplocks</a>
	パラメータが、共有上で <code class="constant">yes</code> である必要があることに注意。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>level2 oplocks</code></em> = <code class="literal">yes</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="lm announce (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2556629"/>

lm announce (G)
</h3></div></div></div><a class="indexterm" name="id2556630"/><a name="LMANNOUNCE"/><div class="variablelist"><dl><dt/><dd><p>このパラメータにより、 <a class="citerefentry" href="nmbd.8.html"><span class="citerefentry"><span class="refentrytitle">nmbd</span>(8)</span></a> が、 OS/2
    クライアントのブラウズリスト上に Samba サーバを格納するために必要な
    lanman announce のブロードキャストを送出するかどうかが制御される。
    このパラメータは3つの値、<code class="constant">yes</code>、
    <code class="constant">no</code>、<code class="constant">auto</code>をとる。
    デフォルトは <code class="constant">auto</code> である。
    <code class="constant">no</code> の場合、Sambaは決してこのブロードキャストを送出しない。
    <code class="constant">yes</code> の場合、Sambaは lanman announce のブロードキャストを
    <a class="link" href="smb.conf.5.html#LMINTERVAL" target="_top">lm interval</a> によって設定された間隔で定期的に送出する。
    <code class="constant">auto</code> の場合、
    Sambaはデフォルトでは lanman announce を送出しないが、受信を待機する。
    そして、このブロードキャストを受信すると、
    <a class="link" href="smb.conf.5.html#LMINTERVAL" target="_top">lm interval</a> によって設定された間隔で定期的なブロードキャストの送出を開始する。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>lm announce</code></em> = <code class="literal">auto</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>lm announce</code></em> = <code class="literal">yes</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="lm interval (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2556768"/>

lm interval (G)
</h3></div></div></div><a class="indexterm" name="id2556769"/><a name="LMINTERVAL"/><div class="variablelist"><dl><dt/><dd><p>Samba が OS/2 クライアントが必要とする lanman announce のブロードキャストを送出するように設定されている場合
    (<a class="link" href="smb.conf.5.html#LMANNOUNCE" target="_top">lm announce</a> パラメータを参照のこと)、
    このパラメータにより送出間隔が秒単位で指定される。
    これが 0 の場合、 <a class="link" href="smb.conf.5.html#LMANNOUNCE" target="_top">lm announce</a>
    パラメータの設定に関わらず、 lanman announce は送出されない。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>lm interval</code></em> = <code class="literal">60</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>lm interval</code></em> = <code class="literal">120</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="load printers (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2556861"/>

load printers (G)
</h3></div></div></div><a class="indexterm" name="id2556862"/><a name="LOADPRINTERS"/><div class="variablelist"><dl><dt/><dd><p>このパラメータは、printcapファイル中で定義されたすべてのプリンタをデフォルトでブラウジング可能とするかどうかを制御する真偽値パラメータである。
    詳細は、 <a class="link" href="smb.conf.5.html#PRINTERS" target="_top">printers</a> 
    セクションを参照のこと。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>load printers</code></em> = <code class="literal">yes</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="local master (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2556919"/>

local master (G)
</h3></div></div></div><a class="indexterm" name="id2556920"/><a name="LOCALMASTER"/><div class="variablelist"><dl><dt/><dd><p>このオプションにより、 <a class="citerefentry" href="nmbd.8.html"><span class="citerefentry"><span class="refentrytitle">nmbd</span>(8)</span></a>
    がサブネットのローカルマスタブラウザになるかどうかが制御される。
    <code class="constant">no</code> の場合、 <code class="literal">nmbd</code> はサブネットのローカルマスタブラウザになろうとせず、
    すべてのブラウザ選定において、常に敗退することになる。
    デフォルトで、このパラメータは <code class="constant">yes</code> に設定されている。
    このパラメータを <code class="constant">yes</code> にすることは、
    Samba がサブネットのローカルマスタブラウザと<span class="emphasis"><em>なる</em></span>ことを意味するものではなく、
    <code class="literal">nmbd</code> がローカルマスタブラウザの選定に<span class="emphasis"><em>
    参加する</em></span> ということを意味するものに過ぎない。</p><p>このパラメータの値を <code class="constant">no</code> にすると、<code class="literal">nmbd</code>
    は <span class="emphasis"><em>決して</em></span> ローカルマスタブラウザにならなくなる。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>local master</code></em> = <code class="literal">yes</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="lock dir"><div class="titlepage"><div><div><h3 class="title"><a name="id2557038"/>

<a name="LOCKDIR"/>lock dir
</h3></div></div></div><a class="indexterm" name="id2557039"/><div class="variablelist"><dl><dt/><dd><p>このパラメータは右記のパラメータの別名である：<a class="link" href="#LOCKDIRECTORY">lock directory</a>.</p></dd></dl></div></div><div class="section" title="lock directory (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2557070"/>

lock directory (G)
</h3></div></div></div><a class="indexterm" name="id2557071"/><a name="LOCKDIRECTORY"/><div class="variablelist"><dl><dt/><dd><p>このオプションでは、ロックファイルを置くためのディレクトリを
指定する。ロックファイルは
	<a class="link" href="smb.conf.5.html#MAXCONNECTIONS" target="_top">max connections</a> オプションにより利用される。
	</p><p>
注意：レジストリ設定の中では、このオプションは指定できない。
    </p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>lock directory</code></em> = <code class="literal">${prefix}/var/locks</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>lock directory</code></em> = <code class="literal">/var/run/samba/locks</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="locking (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2557152"/>

locking (S)
</h3></div></div></div><a class="indexterm" name="id2557153"/><a name="LOCKING"/><div class="variablelist"><dl><dt/><dd><p>このパラメータは、
	クライアントからのロック要求により、
	サーバがロック処理を行うかどうかを制御する。</p><p><code class="literal">locking = no</code>の場合、
	すべてのロックおよびアンロック要求は成功したものとして扱われ、
	すべてのロック状態の問い合わせは、ファイルがロック可能であると応答する。</p><p><code class="literal">locking = yes</code>の場合、
	サーバにより実際のロック処理が実行される。</p><p>このオプションを<code class="constant">no</code>にすることは、
	いかなる場合でも推奨されないが、
	ロックを必要としない<span class="emphasis"><em>と思われる</em></span> read only
	のファイルシステム(例えばCDROMドライブ)では、有用 <span class="emphasis"><em>かも知れない</em></span>。</p><p>ロックが機能しない場合、
	データが破壊される可能性もあるため、全体に対しても、
	個々の共有に対しても、ロックを無効にする際には注意すること。このパラメータの設定は通常必要ない。</p><p><span class="emphasis"><em>既定値なし</em></span></p></dd></dl></div></div><div class="section" title="lock spin count (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2557231"/>

lock spin count (G)
</h3></div></div></div><a class="indexterm" name="id2557232"/><a name="LOCKSPINCOUNT"/><div class="variablelist"><dl><dt/><dd><p>Samba 3.0.24 において、このパラメータは無効となった。
	このパラメータで実現されていた機能は、現在
	<a class="link" href="smb.conf.5.html#LOCKSPINTIME" target="_top">lock spin time</a> パラメータで制御されている。
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>lock spin count</code></em> = <code class="literal">0</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="lock spin time (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2557291"/>

lock spin time (G)
</h3></div></div></div><a class="indexterm" name="id2557292"/><a name="LOCKSPINTIME"/><div class="variablelist"><dl><dt/><dd><p>
	smbd が一度失敗したロックを再度獲得しようとする際の待ち時間を、
	ミリ秒単位で指定する。
	このパラメータの既定値は、
	Samba 3.0.23 において 10 から 200 に変更された。
	関連する <a class="link" href="smb.conf.5.html#LOCKSPINCOUNT" target="_top">lock spin count</a> パラメータは Samba 3.0.24 以降では使用されない。
	このパラメータの値を変更する必要はないであろう。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>lock spin time</code></em> = <code class="literal">200</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="log file (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2557357"/>

log file (G)
</h3></div></div></div><a class="indexterm" name="id2557358"/><a name="LOGFILE"/><div class="variablelist"><dl><dt/><dd><p>このオプションにより、
    Sambaのログファイル(デバッグファイル)の名称を変更することが可能である。</p><p>このオプションには、標準の変数置換が適用されるため、
	個々のユーザやマシン毎にログを分割することが可能である。</p><p><span class="emphasis"><em>既定値なし</em></span></p><p>例: <span class="emphasis"><em><em class="parameter"><code>log file</code></em> = <code class="literal">/usr/local/samba/var/log.%m</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="debuglevel"><div class="titlepage"><div><div><h3 class="title"><a name="id2557411"/>

<a name="DEBUGLEVEL"/>debuglevel
</h3></div></div></div><a class="indexterm" name="id2557412"/><div class="variablelist"><dl><dt/><dd><p>このパラメータは右記のパラメータの別名である：<a class="link" href="#LOGLEVEL">log level</a>.</p></dd></dl></div></div><div class="section" title="log level (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2557442"/>

log level (G)
</h3></div></div></div><a class="indexterm" name="id2557444"/><a name="LOGLEVEL"/><div class="variablelist"><dl><dt/><dd><p>このパラメータの値(整数値)により、
	<code class="filename">smb.conf</code>
	ファイル中でデバッグレベル(ログレベル)を設定することが可能になる。
	このパラメータは Samba 2.2.x 系列と比べ強化されており、デバッグクラス毎にデバッグレベルを指定することが可能となっている。
	これにより、システムの設定が非常に柔軟に行なえるようになる。以下の
デバッグクラスが現在実装されている。</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p><em class="parameter"><code>all</code></em></p></li><li class="listitem"><p><em class="parameter"><code>tdb</code></em></p></li><li class="listitem"><p><em class="parameter"><code>printdrivers</code></em></p></li><li class="listitem"><p><em class="parameter"><code>lanman</code></em></p></li><li class="listitem"><p><em class="parameter"><code>smb</code></em></p></li><li class="listitem"><p><em class="parameter"><code>rpc_parse</code></em></p></li><li class="listitem"><p><em class="parameter"><code>rpc_srv</code></em></p></li><li class="listitem"><p><em class="parameter"><code>rpc_cli</code></em></p></li><li class="listitem"><p><em class="parameter"><code>passdb</code></em></p></li><li class="listitem"><p><em class="parameter"><code>sam</code></em></p></li><li class="listitem"><p><em class="parameter"><code>auth</code></em></p></li><li class="listitem"><p><em class="parameter"><code>winbind</code></em></p></li><li class="listitem"><p><em class="parameter"><code>vfs</code></em></p></li><li class="listitem"><p><em class="parameter"><code>idmap</code></em></p></li><li class="listitem"><p><em class="parameter"><code>quota</code></em></p></li><li class="listitem"><p><em class="parameter"><code>acls</code></em></p></li><li class="listitem"><p><em class="parameter"><code>locking</code></em></p></li><li class="listitem"><p><em class="parameter"><code>msdfs</code></em></p></li><li class="listitem"><p><em class="parameter"><code>dmapi</code></em></p></li><li class="listitem"><p><em class="parameter"><code>registry</code></em></p></li></ul></div><p>既定値: <span class="emphasis"><em><em class="parameter"><code>log level</code></em> = <code class="literal">0</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>log level</code></em> = <code class="literal">3 passdb:5 auth:10 winbind:2</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="logon drive (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2557677"/>

logon drive (G)
</h3></div></div></div><a class="indexterm" name="id2557678"/><a name="LOGONDRIVE"/><div class="variablelist"><dl><dt/><dd><p>このパラメータは、
	ホームディレクトリとして接続されるパスを指定する
	(<a class="link" href="smb.conf.5.html#LOGONHOME" target="_top">logon home</a> も参照のこと)。
	このパラメータは NT Workstation によってのみ利用される。</p><p>このパラメータは、Sambaがログオンサーバとして構成された場合のみ、
	意味をもつことに注意。</p><p>訳注: Samba 3.0 系列で LDAP や TDB を認証データベースとして用いている場合、これらの値はユーザ毎に保持され、本パラメータは指定がなかった際の既定値を設定するものとなる。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>logon drive</code></em> = <code class="literal"/>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>logon drive</code></em> = <code class="literal">h:</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="logon home (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2557764"/>

logon home (G)
</h3></div></div></div><a class="indexterm" name="id2557765"/><a name="LOGONHOME"/><div class="variablelist"><dl><dt/><dd><p>このパラメータは、Windows 95/98/NT Workstation
	がSambaのPDCに対してログオンする際に用いられるホームディレクトリの位置を指定する。
	これにより、例えば</p><p><code class="prompt">C:\&gt;</code><strong class="userinput"><code>NET USE H: /HOME</code></strong>
	</p><p>のような形式でコマンドプロンプトから接続を行うことが可能となる。</p><p>このオプションには、通常の変数置換が適用されるため、
	個々のユーザやマシン毎にログオンスクリプトを分けることが可能になっている。</p><p>このパラメータは、Windows 9x ワークステーションにおいて、
	移動プロファイルをユーザのホームディレクトリのサブディレクトリに格納するために利用することが可能である。
	この場合、以下のような設定を行う:</p><p><code class="literal">logon home = \\%N\%U\profile</code></p><p> これにより、Samba はクライアントから NetUserGetInfo 
	リクエストなどで情報を要求された場合に上記文字列を返却するが、その際変数置換が行なわれる。
	Windows 9x のクライアントは、ユーザが <code class="literal">net use /home</code> 
	コマンドを発行した際には、この情報の \\server\share 部分だけを用いるが、
	プロファイルを扱う場合は文字列全体を利用する。</p><p>Sambaの以前のバージョンでは、
	<em class="parameter"><code>logon home</code></em>ではなく、<a class="link" href="smb.conf.5.html#LOGONPATH" target="_top">logon path</a> が用いられていた。
	このため、<code class="literal">net use /home</code> がうまく動作しなかったが、
	プロファイルをホームディレクトリの外に置くことが可能であった。
	現在の実装は正しい実装である。上記のような技を用いることで、
	このパラメータをプロファイルの位置の設定にも利用することが可能になっている。</p><p>
	この機能を無効とするには、<a class="link" href="smb.conf.5.html#LOGONHOME" target="_top">logon home = ""</a> のように空の文字列を設定する。
	</p><p>このパラメータは、Sambaがログオンサーバとして構成された場合のみ、
	意味をもつ。</p><p>訳注: Samba 3.0 系列で LDAP や TDB を認証データベースとして用いている場合、これらの値はユーザ毎に保持され、本パラメータは指定がなかった際の既定値を設定するものとなる。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>logon home</code></em> = <code class="literal">\\%N\%U</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>logon home</code></em> = <code class="literal">\\remote_smb_server\%U</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="logon path (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2557959"/>

logon path (G)
</h3></div></div></div><a class="indexterm" name="id2557960"/><a name="LOGONPATH"/><div class="variablelist"><dl><dt/><dd><p>
	このパラメータにより、移動プロファイル(Desktop、NTuser.datなど)が格納されるディレクトリが指定される。
	以前のマニュアルページとは矛盾するが、このパラメータはWindows 9xの移動プロファイルとは無関係である。
	Windows 9x システムで移動プロファイルを利用する方法については、
	<a class="link" href="smb.conf.5.html#LOGONHOME" target="_top">logon home</a> パラメータを参照のこと。
	</p><p>このオプションは、標準の変数置換が適用されるため、
	個々のユーザやマシン毎にログオンスクリプトを分けることが可能である。
	このパラメータにより、Windows NT クライアントによって読み出される「Application Data」(
	<code class="filename">デスクトップ</code>、<code class="filename">スタート メニュー</code>、
	<code class="filename">ネットワークコンピュータ</code>、
	<code class="filename">プログラム</code>やその他のフォルダとそのコンテンツ)のディレクトリも設定される。
	</p><p>
	設定やディレクトリを Windows NT クライアント上にロードするため、共有やパスはユーザが読み込み可能にしなければならない。
	また、Windows NT クライアントが NTuser.dat やその他のディレクトリを作成できるように、
	ユーザが最初にログインする時には共有を書き込み可能にしなければならない。
	必要があれば、ディレクトリと中身は読み出し専用にすることができる。
	ただし、NTuser.dat ファイルを読み出し専用にすることは推奨できない。
	NTuser.dat を NTuser.man に名前を変更することで期待される動作(<span class="emphasis"><em>固定</em></span>プロファイル(MANdatory profile))を実現できる。
	</p><p> Windows クライアントは、ユーザがログインしていなくても
	 [homes] 共有への接続を保持することがある。
	そのため、logon path に [homes] 共有への参照を含めないようにしなくてはならない
	(たとえば、このパラメータを\\%N\homes\profile_path のように設定すると問題が発生することがある)。
	</p><p>このオプションには、標準の変数置換が適用されるため、
	個々のユーザやマシン毎にログオンスクリプトを分けることが可能になる。</p><div class="warning" title="Warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Warning</h3><p>
	この値をクォーテーションで囲まないこと。これを
	<span class="quote">“<span class="quote">\\%N\profile\%U</span>”</span> のようにすると、
	プロファイル機構に問題が発生する。
	tdbsam もしくは ldapsam が passdb backend として用いられている環境では、
	ユーザアカウントが作成された時点で、このパラメータで設定されている内容が passdb backend に書き込まれるが、
	その後 smb.conf ファイルにあるパラメータの値は、上書きされることがある。
	passdb backend への書き込みに際して発生したエラーについては、
	適切なツール(コマンドラインツールの pdbedit などのツール)を用いて編集する必要がある。
	</p></div><p>このパラメータは、Sambaがログオンサーバとして構成された場合のみ、
	意味をもつことに注意。</p><p>
	このパラメータの値を空文字列に設定することで、移動プロファイルを無効にすることができる。
	<a class="link" href="smb.conf.5.html#LOGONPATH" target="_top">logon path = ""</a> のようにすれば良い。 smb.conf ファイルのデフォルトの値を空文字列にしても、
	passdb backend 中のユーザアカウントの設定で何らかの値を指定した場合は、
	空文字列の設定を上書きすることになるので注意すること。
	移動プロファイルを完全に無効とするには、各ユーザアカウントの設定が空文字列になっている必要がある。
	</p><p>
	設定例:
</p><pre class="programlisting">
logon path = \\PROFILESERVER\PROFILE\%U
</pre><p>
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>logon path</code></em> = <code class="literal">\\%N\%U\profile</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="logon script (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2558183"/>

logon script (G)
</h3></div></div></div><a class="indexterm" name="id2558184"/><a name="LOGONSCRIPT"/><div class="variablelist"><dl><dt/><dd><p>このパラメータは、
	ユーザのログインが成功した際にダウンロードして実行される、
	バッチファイル (.bat) や Windows NT のコマンドファイル (.cmd) を指定する。
	ファイルは DOS 形式の行末(改行コード) CR/LF でなければならない。
	ファイルの作成には DOS 形式のエディタを使うことが推奨される。</p><p> スクリプトは
	<em class="parameter"><code>[netlogon]</code></em> サービスからの相対パスで記述する必要がある。
	[netlogon] サービスの <a class="link" href="smb.conf.5.html#PATH" target="_top">path</a> が <code class="filename">/usr/local/samba/netlogon</code>
	で、<a class="link" href="smb.conf.5.html#LOGONSCRIPT" target="_top">logon script = STARTUP.BAT</a> の場合、
	実際にファイルがダウンロードされるパスは以下のものになる:
</p><pre class="programlisting">
	/usr/local/samba/netlogon/STARTUP.BAT
</pre><p>
	</p><p> バッチファイルの中身は自由に記述することが可能である。
	推奨されるコマンドとしては、
	各マシンを同じタイムサーバの時刻と同期するようにさせる
	<code class="literal">NET TIME \\SERVER /SET /YES</code> がある。
	ほかには、共通に利用されるユーティリティ用に、例えば
	<code class="literal">NET USE U: \\SERVER\UTILS</code>
	という設定を行なったり、サンプルとして 
</p><pre class="programlisting">
<strong class="userinput"><code>NET USE Q: \\SERVER\ISO9001_QA</code></strong>
</pre><p> 
        といった設定を行ったりすることが挙げられる。</p><p> [netlogon] 共有に対しては、
	バッチファイルが改変されてセキュリティが侵害されてしまわないように、
	書き込みアクセスを許可しないか、
	安全な環境下でのみバッチファイルへの書き込み権限をユーザに与えるようにすること。
	</p><p>このオプションには、標準の変数置換が適用されるため、
	個々のユーザやマシン毎にログオンスクリプトを分けることが可能になる。</p><p>このパラメータは、Sambaがログオンサーバとして構成された場合のみ、
	意味をもつ。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>logon script</code></em> = <code class="literal"/>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>logon script</code></em> = <code class="literal">scripts\%U.bat</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="lppause command (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2558373"/>

lppause command (S)
</h3></div></div></div><a class="indexterm" name="id2558374"/><a name="LPPAUSECOMMAND"/><div class="variablelist"><dl><dt/><dd><p>このパラメータには、
	指定した印刷ジョブの印刷やスプーリングを停止させるためにサーバホスト上で実行されるコマンドを指定する。
    </p><p> このコマンドは、プリンタ名と停止させる印刷ジョブの番号を引数にとり、印刷ジョブを一時停止させるプログラムやスクリプトでなければならない。
	これを実装する方法の一つは、非常に低い優先権を持つジョブはプリンタに送られないというジョブの優先権の仕様を利用するものである。</p><p><em class="parameter"><code>%p</code></em> 変数は、
	プリンタ名に置換される。
	<em class="parameter"><code>%j</code></em> はジョブ番号(整数)に置換される。
	HPUX の場合(<em class="parameter"><code>printing=hpux</code></em>を参照のこと)、
	<em class="parameter"><code>-p%p</code></em> オプションを lpq コマンドに付加することで、正しいステータスが表示される。
	たとえば、ジョブの優先権が設定されたフェンス優先権より低いならジョブは停止状態であるが、
	優先権が等しいかより高いならスプール状態または印刷中の状態となる。</p><p> サーバの PATH 環境変数が利用できないかもしれないことを考慮して、
	lppause command を絶対パスで記述する癖をつけておくと良い。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>lppause command</code></em> = <code class="literal">
# 現在のところ既定値は設定されていない。
ただし、<em class="parameter"><code>printing</code></em> パラメータの値が
ただし、<a class="link" href="smb.conf.5.html#PRINTING" target="_top">printing</a> パラメータの値が
<code class="constant">SYSV</code> の場合は
<code class="literal">lp -i %p-%j -H hold</code>、
<code class="constant">SOFTQ</code> の場合は
<code class="literal">qstat -s -j%j -h</code>
が既定値となる。</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>lppause command</code></em> = <code class="literal">/usr/bin/lpalt %p-%j -p0</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="lpq cache time (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2558540"/>

lpq cache time (G)
</h3></div></div></div><a class="indexterm" name="id2558541"/><a name="LPQCACHETIME"/><div class="variablelist"><dl><dt/><dd><p>このパラメータは、
	<code class="literal">lpq</code> コマンドが頻繁に呼び出されるのを防ぐため、lpr の情報(出力)をキャッシュする期間を制御する。
	システムが使用する <code class="literal">lpq</code> コマンドの種別毎にキャッシュが行なわれる。そのため、ユーザ毎に異なった
	<code class="literal">lpq</code> コマンドを使用する場合、
	キャッシュ情報は共有されない。</p><p> キャッシュファイルは <code class="filename">/tmp/lpq.xxxx</code> に保存される。
	xxxx は使用している <code class="literal">lpq</code> コマンドのハッシュ値となる。</p><p>デフォルトは 30 秒であるため、キャッシュされたデータが30秒以内の場合は、
	前回行なわれた同一の<code class="literal">lpq</code>の実行結果のキャッシュが用いられる。
	<code class="literal"> lpq </code> コマンドのレスポンスが非常に遅い場合は、この値を大きくすることを推奨する。</p><p>値を 0 にした場合、キャッシュは完全に無効となる。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>lpq cache time</code></em> = <code class="literal">30</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>lpq cache time</code></em> = <code class="literal">10</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="lpq command (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2558673"/>

lpq command (S)
</h3></div></div></div><a class="indexterm" name="id2558674"/><a name="LPQCOMMAND"/><div class="variablelist"><dl><dt/><dd><p>このパラメータには、
	<code class="literal">lpq</code>形式のプリンタ状態情報を得るため、
	サーバ上で実行するコマンドを指定する。</p><p> このコマンドは、プリンタ名のみを引数としてとり 、
	プリンタ状態情報を出力するプログラムやスクリプトでなければならない。
	</p><p> 現在、BSD、AIX、LPRNG、PLP、SYSV、HPUX、QNX、CUPS、SOFTQ
	という9つの印刷形式がサポートされており、
	これにより大部分の UNIX システムがサポートされる。
	<em class="parameter"><code>printing =</code></em> オプションにより、利用する形式を指定することも可能である。</p><p>クライアントによっては(特にWindows for Workgroups)、
	状態情報を要求しているプリンタの接続番号(connection number)を正しく送らないことがある。
	この場合、サーバはクライアントが接続している最初の印刷サービスの状況を報告する。この動作は、
	与えられた接続番号が不正な場合にのみ行なわれる。</p><p><em class="parameter"><code>%p</code></em> 変数は、
	プリンタ名に置換される。この変数が指定されなかった場合、プリンタ名はコマンドの最後に付加される。</p><p> サーバの <code class="envar">$PATH</code> 環境変数が利用できないかもしれないことを考慮して、
	<em class="parameter"><code>lpq command</code></em> を絶対パスで記述する癖をつけておくと良い。
	CUPS ライブラリを付加してコンパイルした場合は、
	smbd が印刷キューのリストを取得するためのライブラリコールを行なうため、
	<em class="parameter"><code>lpq command</code></em> は必要ない。
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>lpq command</code></em> = <code class="literal"/>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>lpq command</code></em> = <code class="literal">/usr/bin/lpq -P%p</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="lpresume command (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2558827"/>

lpresume command (S)
</h3></div></div></div><a class="indexterm" name="id2558828"/><a name="LPRESUMECOMMAND"/><div class="variablelist"><dl><dt/><dd><p>このパラメータには、
	特定の印刷ジョブの印刷やスプールを再開したり続行するためにサーバ上で実行するコマンドを指定する。</p><p> このコマンドは、
	プリンタ名とジョブ番号を受け取るとその印刷ジョブを再開するプログラムやスクリプトでなければならない。
    <a class="link" href="smb.conf.5.html#LPPAUSECOMMAND" target="_top">lppause command</a> パラメータも参照のこと。</p><p><em class="parameter"><code>%p</code></em> 変数は、
	プリンタ名に置換される。
	<em class="parameter"><code>%j</code></em> はジョブ番号(整数)に置換される。</p><p> サーバの PATH 環境変数が利用できないかもしれないことを考慮して、
	<em class="parameter"><code>lpresume command</code></em> を絶対パスで記述することを推奨する。
	</p><p><a class="link" href="smb.conf.5.html#PRINTING" target="_top">printing</a> パラメータも参照のこと。</p><p>既定値: 現在のところ、この設定の既定値は設定されていない。
	ただし、<em class="parameter"><code>printing</code></em> パラメータの値が <code class="constant">SYSV</code> の場合、
	既定値は以下の通り:</p><p><code class="literal">lp -i %p-%j -H resume</code></p><p>また、<em class="parameter"><code>printing</code></em> パラメータの値が
	<code class="constant">SOFTQ</code> の場合、デフォルト値は以下の通り:</p><p><code class="literal">qstat -s -j%j -r</code></p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>lpresume command</code></em> = <code class="literal">lpresume command = /usr/bin/lpalt %p-%j -p2</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="lprm command (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2558986"/>

lprm command (S)
</h3></div></div></div><a class="indexterm" name="id2558987"/><a name="LPRMCOMMAND"/><div class="variablelist"><dl><dt/><dd><p>このパラメータには、
	印刷ジョブを削除するためにサーバ上で実行するコマンドを指定する。</p><p> このコマンドは、
	プリンタ名とジョブ番号を受け取るとその印刷ジョブを削除するプログラムやスクリプトでなければならない。</p><p><em class="parameter"><code>%p</code></em> 変数は、
	プリンタ名に置換される。
	<em class="parameter"><code>%j</code></em> はジョブ番号(整数)に置換される。</p><p> サーバの PATH 環境変数が利用できないかもしれないことを考慮して、
	<em class="parameter"><code>lprm command</code></em> を絶対パスで記述することを推奨する。
	</p><p>
	以下に設定例を示す。
</p><pre class="programlisting">
lprm command = /usr/bin/lprm -P%p %j

あるいは

lprm command = /usr/bin/cancel %p-%j
</pre><p>
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>lprm command</code></em> = <code class="literal"> printing パラメータの設定に依存する </code>
</em></span>
</p></dd></dl></div></div><div class="section" title="machine password timeout (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2559085"/>

machine password timeout (G)
</h3></div></div></div><a class="indexterm" name="id2559086"/><a name="MACHINEPASSWORDTIMEOUT"/><div class="variablelist"><dl><dt/><dd><p>
    Sambaサーバが NT ドメインのメンバである場合 (<a class="link" href="smb.conf.5.html#SECURITY" target="_top">security = domain</a>パラメータを参照のこと) 、
    実行中の smbd プロセスは、<code class="filename">private/secrets.tdb</code> という TDB
    ファイルに格納されたコンピュータアカウントのパスワードを定期的に変更しようとする。
        このパラメータは、パスワードの変更を行なう間隔を秒単位で設定する。デフォルトは、NT ドメインのメンバサーバと同じく 1 週間 (秒単位で表される) である。</p><p> <a class="citerefentry" href="smbpasswd.8.html"><span class="citerefentry"><span class="refentrytitle">smbpasswd</span>(8)</span></a> および 
    <a class="link" href="smb.conf.5.html#SECURITY" target="_top">security = domain</a> パラメータも参照のこと。
    </p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>machine password timeout</code></em> = <code class="literal">604800</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="magic output (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2559182"/>

magic output (S)
</h3></div></div></div><a class="indexterm" name="id2559183"/><a name="MAGICOUTPUT"/><div class="variablelist"><dl><dt/><dd><p> このパラメータは、Magic スクリプト(下記の 
	<a class="link" href="smb.conf.5.html#MAGICSCRIPT" target="_top">magic script</a>
	パラメータを参照) によって生成される出力結果が書き込まれるファイルの名前を指定する。</p><div class="warning" title="Warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Warning</h3><p>複数のクライアントが同じ <em class="parameter"><code>Magic 
	スクリプト</code></em> を同じディレクトリで利用する場合、
	出力ファイルの内容は不定になる。</p></div><p>既定値: <span class="emphasis"><em><em class="parameter"><code>magic output</code></em> = <code class="literal">&lt;magic script name&gt;.out</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>magic output</code></em> = <code class="literal">myfile.txt</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="magic script (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2559273"/>

magic script (S)
</h3></div></div></div><a class="indexterm" name="id2559274"/><a name="MAGICSCRIPT"/><div class="variablelist"><dl><dt/><dd><p> このパラメータで指定したファイルは、
	ファイルをオープン後クローズした時点でサーバにより実行される。
	このパラメータにより、UNIX のスクリプトを Samba ホストに送って、
	接続しているユーザの権限で実行する機能が提供される。</p><p> このようにして実行されたスクリプトは、
	ユーザに削除する権限があり、ファイルが削除可能であれば、
	実行完了と同時に削除される。</p><p> スクリプトが生成した出力は、
	<a class="link" href="smb.conf.5.html#MAGICOUTPUT" target="_top">magic output</a>
	パラメータ(前述)で指定されたファイルに書き込まれる。</p><p> シェルによっては、改行コードとして CR ではなく CR/LF を利用しているスクリプトをうまく実行できないことに注意。
	Magic スクリプトはホスト上で<span class="emphasis"><em>そのまま</em></span>実行されるため、ホストやシェルによっては、
	DOS の改行コードを修正しておく必要があるかも知れない。</p><p>Magic スクリプトは <span class="emphasis"><em> 実験用 </em></span> のパラメータであり、このパラメータを安全だと考えるべきでは <span class="emphasis"><em>ない</em></span>。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>magic script</code></em> = <code class="literal"/>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>magic script</code></em> = <code class="literal">user.csh</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="mangled names (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2559400"/>

mangled names (S)
</h3></div></div></div><a class="indexterm" name="id2559401"/><a name="MANGLEDNAMES"/><div class="variablelist"><dl><dt/><dd><p> このパラメータは、
	UNIX 上の DOS非互換のファイル名をDOS互換の名前(「短縮名」)に短縮してアクセス可能にするか、
	単純に無視するかどうかを制御する。</p><p>短縮処理がどのように行なわれているかについての詳細は、
	<a class="link" href="smb.conf.5.html#NAMEMANGLING" target="_top">name mangling</a> セクションを参照のこと。</p><p>短縮が行なわれる場合の手法は以下の通りである(訳注:以下は hash アルゴリズムの場合):</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p> ファイル名の先頭から一番右にあるドットの前までの英数5文字は、
			大文字に変換された上で、
			短縮名の先頭5文字となる。</p></li><li class="listitem"><p>チルダ「~」が短縮名に付加される。
			更に元々のファイル名のベース部分(ファイル名から拡張子部分を除いたもの)から生成された一意な2文字が付加される。
			拡張子にあたる部分は、大文字を含んでいるか、
			3文字以上の場合のみ、ハッシュの計算に含まれる。
			</p><p> 「~」の利用を避けたい場合は、
			<a class="link" href="smb.conf.5.html#MANGLINGCHAR" target="_top">mangling char</a>
			オプションにより、別の文字を指定することも可能である。</p></li><li class="listitem"><p>UNIX 上のファイル名がドットから始まる場合、
			そのファイルは DOS の隠しファイルとして扱われる。
			この場合の短縮名は、ファイル名の先頭のドットを取り除き、
			実際の拡張子に関わらず、拡張子「___(「_」3文字」を付加したものから、一般のファイル名と同様にして生成する。
			</p></li></ul></div><p>2桁のハッシュ値は、大文字の英数文字になる。</p><p>このアルゴリズムは、
	ディレクトリ内のファイルに先頭の英数 5 文字が同一のファイル名が存在する時のみ名前の衝突が発生するが、
	実際に衝突する確率は、1/1300 である。</p><p>
	名前の短縮処理により、(この処理が有効な限り) Windows や DOS から、UNIX 側の長いファイル名を保持したまま UNIX ディレクトリ間のファイルのコピーができる。 
	Windows や DOS 側から UNIX 側のファイル名の拡張子を変更しても、ベース名は保持される。 
	なお、セッションが異なっても短縮名は変化しない。 
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>mangled names</code></em> = <code class="literal">yes</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="mangle prefix (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2559567"/>

mangle prefix (G)
</h3></div></div></div><a class="indexterm" name="id2559568"/><a name="MANGLEPREFIX"/><div class="variablelist"><dl><dt/><dd><p>短縮名を生成する際に、元々の名前に付加するプレフィックスの長さを指定する。
    大きな値を指定すると、
    ハッシュアルゴリズムの効果が低下し、
    名前の衝突の可能性が高まる。
    最小値は 1 であり、最大は 6 である。</p><p>
	mangle prefix は mangling method が hash2 の時のみ有効である。
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>mangle prefix</code></em> = <code class="literal">1</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>mangle prefix</code></em> = <code class="literal">4</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="mangling char (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2559642"/>

mangling char (S)
</h3></div></div></div><a class="indexterm" name="id2559643"/><a name="MANGLINGCHAR"/><div class="variablelist"><dl><dt/><dd><p> このパラメータは <a class="link" href="smb.conf.5.html#NAMEMANGLING" target="_top">name mangling</a> において、
	<span class="emphasis"><em>magic</em></span> キャラクタとして利用される文字を指定する。デフォルトは「~」であるが、
	ソフトウェアによっては問題が発生してしまうかも知れない。
	このオプションにより、任意の文字を指定することが可能になる。
    このパラメータは mangling method が hash の時のみ有効である。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>mangling char</code></em> = <code class="literal">~</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>mangling char</code></em> = <code class="literal">^</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="mangling method (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2559728"/>

mangling method (G)
</h3></div></div></div><a class="indexterm" name="id2559729"/><a name="MANGLINGMETHOD"/><div class="variablelist"><dl><dt/><dd><p> 短縮名を生成する際に利用するアルゴリズムを指定する。
	「hash」と「hash2」という2つの値を指定することが可能である。
	「hash」は Samba 2.2.x での既定値であり、長年 Samba で利用されてきた方式である。
	「hash2」は新しい方式であり、現在の既定値である。これは、
	(名前の重複の発生が低減される点で)より優れたアルゴリズムといえる。
	Win32 アプリケーションの多くが短縮名を記憶しているため、
	新しいアルゴリズムへの変更は、
	こうしたアプリケーションの再インストールが必要になる可能性があるという点で、安易に行なうべきではない。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>mangling method</code></em> = <code class="literal">hash2</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>mangling method</code></em> = <code class="literal">hash</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="map acl inherit (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2559812"/>

map acl inherit (S)
</h3></div></div></div><a class="indexterm" name="id2559813"/><a name="MAPACLINHERIT"/><div class="variablelist"><dl><dt/><dd><p>この真偽値パラメータにより、 <a class="citerefentry" href="smbd.8.html"><span class="citerefentry"><span class="refentrytitle">smbd</span>(8)</span></a> は
    Windows の ACL に格納される「inherit」および「protected」の ACE フラグを user.SAMBA_PAI (訳注: Samba_Posix_Acl_Inheritance) と呼ばれる拡張属性にマッピングすることが可能となる。
    このパラメータは Samba が拡張属性をサポートしているプラットフォーム(Linux および IRIX など)で実行されており、Windows 2000 の ACL エディタから Samba 側の POSIX ACL とのマッピングを実現するコードで継承を適切に設定できる場合のみ、有効となる。
    </p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>map acl inherit</code></em> = <code class="literal">no</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="map archive (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2559872"/>

map archive (S)
</h3></div></div></div><a class="indexterm" name="id2559873"/><a name="MAPARCHIVE"/><div class="variablelist"><dl><dt/><dd><p> このパラメータは、DOSのアーカイブ属性を
	UNIXの所有者(owner)実行権ビットに割り当てるかどうかを決定する。
	DOSのアーカイブ属性は、バックアップを行なった後でファイルが修正されると設定される。
    このオプションを変更する契機の一つは、Samba マシン上のファイルを修正した際に、UNIX 上で実行可能になってしまわないようにしたい場合であろう。
    これは、共有のソースコードやドキュメントなどに関して、非常に悩ましい事象である。
	</p><p> このパラメータを利用する場合は、
	所有者の実行権ビットがマスクされないように(100というアクセス権が含まれるように)、
	<a class="link" href="smb.conf.5.html#CREATEMASK" target="_top">create mask</a> パラメータを設定することが必要となることに注意。
	詳細は、<a class="link" href="smb.conf.5.html#CREATEMASK" target="_top">create mask</a> パラメータを参照のこと。
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>map archive</code></em> = <code class="literal">yes</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="map hidden (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2559969"/>

map hidden (S)
</h3></div></div></div><a class="indexterm" name="id2559970"/><a name="MAPHIDDEN"/><div class="variablelist"><dl><dt/><dd><p> このパラメータは、DOSの隠しファイル属性を
	UNIXの全員(world)の実行権ビットに割り当てるかどうかを決定する。</p><p> このパラメータを利用する場合は、
	全体の実行権ビットがマスクされないように(001というアクセス権を含むように)、
	<a class="link" href="smb.conf.5.html#CREATEMASK" target="_top">create mask</a> パラメータを設定することが必要となることに注意。
    詳細は、<a class="link" href="smb.conf.5.html#CREATEMASK" target="_top">create mask</a> パラメータを参照のこと。
	</p><p><span class="emphasis"><em>既定値なし</em></span></p></dd></dl></div></div><div class="section" title="map readonly (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2560037"/>

map readonly (S)
</h3></div></div></div><a class="indexterm" name="id2560038"/><a name="MAPREADONLY"/><div class="variablelist"><dl><dt/><dd><p>
	このパラメータは、DOS の読み取り専用属性を UNIX のファイルシステムに対応付ける方法を制御する。
	</p><p>
	このパラメータには 3通りの値を指定することが可能である。これにより、
	<a class="link" href="smb.conf.5.html#STOREDOSATTRIBUTES" target="_top">store dos attributes</a> が <code class="constant">No</code>、もしくは拡張属性が存在しない環境において、
	<a class="citerefentry" href="smbd.8.html"><span class="citerefentry"><span class="refentrytitle">smbd</span>(8)</span></a> がファイルの読み取り専用属性を表示する方法を制御することが可能である。
	<a class="link" href="smb.conf.5.html#STOREDOSATTRIBUTES" target="_top">store dos attributes</a> が <code class="constant">yes</code> の場合、このパラメータは<span class="emphasis"><em>無視される</em></span>。
	これは Samba 3.0.21 で新設されたパラメータである。
	</p><p>3 通りの値を以下に示す:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
		<code class="constant">Yes</code> - 読み取り専用の DOS 属性は、UNIX のパーミッションビットにおけるユーザ、すなわち所有者の書き込み権ビットに反転した形で対応付けられる。
		所有者の書き込み権ビットが設定されていない場合、ファイルには読み取り専用属性が付加されているものとみなされる。もしも、読み取り専用のDOS属性が設定されてた場合、
グループとその他の書き込み権ビットはゼロに設定される。ACL中の書き込みビットはSambaによって無視される。もしも、読み取り専用のDOS属性が設定されていなかった場合、Sambaは単にそれの所有者の書き込みビットを設定する。
		</p></li><li class="listitem"><p>
		<code class="constant">Permissions</code> - 読み取り専用の DOS 属性は、接続しているユーザに対する有効なパーミッションに対応付けられる。
		これは、<a class="citerefentry" href="smbd.8.html"><span class="citerefentry"><span class="refentrytitle">smbd</span>(8)</span></a>
		が UNIX のパーミッションおよび (存在していれば) POSIX の ACL を読みとることにより確認される。
		接続しているユーザにファイルを編集するパーミッションがない場合、ファイルには読み取り専用属性が付加されているものとみなされる。
		</p></li><li class="listitem"><p>
		<code class="constant">No</code> - 読み取り専用 DOS 属性は、パーミッションに対応付けられず、
		<a class="link" href="smb.conf.5.html#STOREDOSATTRIBUTES" target="_top">store dos attributes</a> パラメータによってのみ付与される。
		これは、マウント中の CD を共有する場合にも便利かも知れない。
		</p></li></ul></div><p>既定値: <span class="emphasis"><em><em class="parameter"><code>map readonly</code></em> = <code class="literal">yes</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="map system (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2560237"/>

map system (S)
</h3></div></div></div><a class="indexterm" name="id2560238"/><a name="MAPSYSTEM"/><div class="variablelist"><dl><dt/><dd><p> このパラメータは、DOSのシステムファイル属性を
	UNIXのグループ実行権ビットに割り当てるかどうかを決定する。</p><p> このパラメータを利用する場合は、
	グループ実行権ビットがマスクされないように(010というアクセス権を含むように)、
	<a class="link" href="smb.conf.5.html#CREATEMASK" target="_top">create mask</a> パラメータを設定することが必要となることに注意。
	詳細は、<a class="link" href="smb.conf.5.html#CREATEMASK" target="_top">create mask</a> パラメータを参照のこと。
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>map system</code></em> = <code class="literal">no</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="map to guest (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2560317"/>

map to guest (G)
</h3></div></div></div><a class="indexterm" name="id2560318"/><a name="MAPTOGUEST"/><div class="variablelist"><dl><dt/><dd><p>このパラメータは、<a class="link" href="smb.conf.5.html#SECURITY" target="_top">SECURITY = 
    security</a> モードが
    <em class="parameter"><code>security = share</code></em> 以外の時、すなわち
    <code class="constant">user</code>、<code class="constant">server</code>、
    <code class="constant">domain</code> のときにのみ有用である。</p><p> このパラメータの値には、
    <a class="citerefentry" href="smbd.8.html"><span class="citerefentry"><span class="refentrytitle">smbd</span>(8)</span></a> が
    何らかの方法で有効なUNIXユーザとして認証されなかったユーザのログイン要求をどのように扱うかを指定するための
    4 つの値のいずれかを設定することが可能である。</p><p>4 つの値を以下に示す:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p><code class="constant">Never</code> - 
            不正なパスワードによるユーザのログイン要求を拒否する。
            これがデフォルトである。</p></li><li class="listitem"><p><code class="constant">Bad User</code> - 
        存在するユーザに対する不正なパスワードによるログイン要求は拒否する。
        指定されたユーザが存在しなかった場合はゲストログインとして扱い、
        <a class="link" href="smb.conf.5.html#GUESTACCOUNT" target="_top">guest account</a>
        で指定されたアカウントにマッピングする。</p></li><li class="listitem"><p><code class="constant">Bad Password</code> -
            不正なパスワードによるユーザのログイン要求は、ゲストログインとして扱い、
	    <a class="link" href="smb.conf.5.html#GUESTACCOUNT" target="_top">guest account</a> 
            で指定されたアカウントにマッピングする。
            この場合、パスワードをタイプミスすると、
            なにも言われずに"guest"としてログインしてしまう。
            パスワードをタイプミスしたというメッセージがないため、
            アクセス可能である筈のファイルにできないが理由がわからないという問題が発生する。
            <em class="parameter"><code>map to guest</code></em> パラメータをこの設定にすると、
            ヘルプディスクサービスからは <span class="emphasis"><em>憎まれる</em></span> ことになるだろう:-)。</p></li><li class="listitem"><p><code class="constant">Bad Uid</code> - 
            これは、Sambaがドメインモードのセキュリティ (security = {domain|ads}) で構成されている環境でのみ意味を持つ。
            この環境において、認証が成功したにも関わらず UNIX側のユーザアカウントが存在しない (smbdが作成することもできない) 場合に、定義されたゲストアカウントへのマッピングを行う。これは Samba 2.2 系列におけるデフォルトの挙動である。
            メンバサーバで winbindd が実行されている場合、nss_winbind ライブラリが Windows ドメインのユーザやグループを NSS インタフェース経由で Samba を実行する OS に対して提供するため、このパラメータが必要となる事態は発生し得ない。
            </p></li></ul></div><p><em class="parameter"><code>security</code></em> モードが
    share 以外の場合、"ゲスト"共有サービスを設定する場合は、
    このパラメータが必須である。これは、サーバがクライアントの認証に成功しない限り、
    要求されるリソースの名前がサーバに送られることは<span class="emphasis"><em>決して</em></span>なく、
    サーバが"ゲスト"共有に対する認証の成否を、
    適切な時点(共有への接続時)に行なうことができないためである。
    <em class="parameter"><code>security = server</code></em>の場合、
    ユーザーログオンに失敗したときに、ユーザー名を間違えてもパスワードを
    間違えてもサーバーから同じエラーが返されるため、
    ユーザー名の間違いなのか、パスワードの間違いなのかの情報が得られないので、
    このパラメーターにこのモードを設定する意味が無い。</p><p> 以前の Samba のリリースに親しんでいる人のため、
    このパラメータは、local.h 中の <code class="constant">GUEST_SESSSETUP </code>
    というコンパイル設定に対応づけられている。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>map to guest</code></em> = <code class="literal">Never</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>map to guest</code></em> = <code class="literal">Bad User</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="map untrusted to domain (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2560620"/>

map untrusted to domain (G)
</h3></div></div></div><a class="indexterm" name="id2560621"/><a name="MAPUNTRUSTEDTODOMAIN"/><div class="variablelist"><dl><dt/><dd><p>
    クライアントが smbd に接続する際に BOGUS\user のような信頼されない
    ドメイン名を使っている場合、smbd は BOGUS ドメインを自身の SAM 名に
    置き換えてからそのユーザを認証する。
    smbd が PDC として動作している場合、置き換えられた名前は DOMAIN\user となる。
    smbd がドメインのメンバサーバもしくはスタンドアロンサーバとして動作している場合、置き換えられた名前は WORKSTATION\user となる。
    </p><p>
    Samba 3.4.0 より前のバージョンでは、smbd がドメインのメンバサーバとして
    動作している場合、BOGUS の部分は smbd がメンバとして所属
    しているプライマリドメイン名に置き換えられていた。この場合、
    認証処理は DOMAIN\user の認証情報を使って DC に委譲される。
    </p><p>
    このパラメータが <code class="constant">yes</code> にセットされている場合、
    smbd は信頼されないドメイン名をプライマリドメイン名にマッピングするという
    従来の動作を行う。smbd がドメインのメンバサーバとして動作していない場合、
    このパラメータは意味を持たない。
    </p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>map untrusted to domain</code></em> = <code class="literal">no</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="max connections (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2560704"/>

max connections (S)
</h3></div></div></div><a class="indexterm" name="id2560705"/><a name="MAXCONNECTIONS"/><div class="variablelist"><dl><dt/><dd><p>このオプションにより、サービスへの同時コネクション数が制限される。
    <em class="parameter"><code>max connections</code></em> が 0 より大きい場合、すでにオープンされているサービスに対するコネクション数がこの数に達していると、それ以上の接続が拒否される。値が 0 の場合は、コネクション数は無制限であることを意味する。</p><p>レコードロックファイルが、この機能の実装に利用されている。ロッ
    クファイルは、 
    <a class="link" href="smb.conf.5.html#LOCKDIRECTORY" target="_top">lock directory</a>
    オプションで指定されたディレクトリに保存される。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>max connections</code></em> = <code class="literal">0</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>max connections</code></em> = <code class="literal">10</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="max disk size (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2560797"/>

max disk size (G)
</h3></div></div></div><a class="indexterm" name="id2560798"/><a name="MAXDISKSIZE"/><div class="variablelist"><dl><dt/><dd><p>このオプションにより、見かけ上のディスクの容量の上限を設定することができる。このオプションを 100 に設定すると、すべての共有は 100MB 以上の容量に見えることはない。</p><p>このオプションは、ディスクに置くことができるデータの容量を制限するものではないことに注意。前述した設定を行なった場合でも、 100MB を越える容量をディスクに書き込むことは可能であるが、クライアントがディスクの空き容量や総ディスクサイズを求めると、結果は <em class="parameter"><code>max 
    disk size</code></em> で指定された量に制限されることになる。</p><p>このオプションは、主として非常に大きいディスク、特に 1GB を越えるサイズをもつディスクを扱えないソフトウェアのバグを回避する際に有用である。</p><p><em class="parameter"><code>max disk size</code></em> パラメータが 0 の場合は、無制限を意味する。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>max disk size</code></em> = <code class="literal">0</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>max disk size</code></em> = <code class="literal">1000</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="max log size (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2560900"/>

max log size (G)
</h3></div></div></div><a class="indexterm" name="id2560902"/><a name="MAXLOGSIZE"/><div class="variablelist"><dl><dt/><dd><p>このオプション(キロバイト単位の数値)は、
	ログファイルの最大サイズを指定する。 Samba は定期的にログファイルのサイズを調べ、
	最大値を超過した場合は、ファイルの拡張子に <code class="filename">.old</code> 
	を付加した名前にファイル名を変更する。</p><p> サイズ 0 は無制限を意味する。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>max log size</code></em> = <code class="literal">5000</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>max log size</code></em> = <code class="literal">1000</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="max mux (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2560975"/>

max mux (G)
</h3></div></div></div><a class="indexterm" name="id2560976"/><a name="MAXMUX"/><div class="variablelist"><dl><dt/><dd><p> このオプションは、
    Samba がクライアントに通知する同時に実行可能な SMB オペレーションの最大数を制御する。
    このパラメータを設定する必要はないであろう。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>max mux</code></em> = <code class="literal">50</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="max open files (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2561023"/>

max open files (G)
</h3></div></div></div><a class="indexterm" name="id2561024"/><a name="MAXOPENFILES"/><div class="variablelist"><dl><dt/><dd><p>このパラメータにより、ある <a class="citerefentry" href="smbd.8.html"><span class="citerefentry"><span class="refentrytitle">smbd</span>(8)</span></a> プロセスが1つのクライアントに対して同時に
      開くことのできるファイル数の上限値が設定される。 Samba は、オープンされていない
      ファイルごとにわずか 1 ビットしか消費しないので、この値はとても大きな値
      (16404) に設定することができる。16404より小さな値に設定すると、Sambaはその旨を
      警告し、Windows 7が、有効である、オープンしているファイルハンドルの数に依存
      するので、最低値の16404に戻す。</p><p>オープンするファイルの数の制限は、通常このパラメータではなく UNIX における
      プロセス毎のファイルディスクリプタの上限値によって制限される。そのため、
      この値を変更する必要はないであろう。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>max open files</code></em> = <code class="literal">16404</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="max print jobs (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2561091"/>

max print jobs (S)
</h3></div></div></div><a class="indexterm" name="id2561092"/><a name="MAXPRINTJOBS"/><div class="variablelist"><dl><dt/><dd><p>このパラメータにより、
	ある時点で Samba の印刷キューに蓄積可能なジョブの最大数が設定される。
	設定数を超過すると、
	<a class="citerefentry" href="smbd.8.html"><span class="citerefentry"><span class="refentrytitle">smbd</span>(8)</span></a> は、
	クライアントに「空き領域がない」というエラーを返却する。
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>max print jobs</code></em> = <code class="literal">1000</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>max print jobs</code></em> = <code class="literal">5000</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="protocol"><div class="titlepage"><div><div><h3 class="title"><a name="id2561164"/>

<a name="PROTOCOL"/>protocol
</h3></div></div></div><a class="indexterm" name="id2561165"/><div class="variablelist"><dl><dt/><dd><p>このパラメータは右記のパラメータの別名である：<a class="link" href="#MAXPROTOCOL">max protocol</a>.</p></dd></dl></div></div><div class="section" title="max protocol (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2561198"/>

max protocol (G)
</h3></div></div></div><a class="indexterm" name="id2561199"/><a name="MAXPROTOCOL"/><div class="variablelist"><dl><dt/><dd><p> このパラメータ(文字列)の値は、
    サーバがサポートする最上位のプロトコルである。</p><p>設定可能な値は以下の通りである:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p><code class="constant">CORE</code>: 
            最初期のもので、ユーザの概念がない</p></li><li class="listitem"><p><code class="constant">COREPLUS</code>: 
            ほんの少し CORE に手を加えたものである</p></li><li class="listitem"><p><code class="constant">LANMAN1</code>: 最初の <span class="emphasis"><em>
            近代的な</em></span> バージョンであり、
            長いファイル名をサポートしている </p></li><li class="listitem"><p><code class="constant">LANMAN2</code>: 
            LANMAN1 プロトコルを改良したものである</p></li><li class="listitem"><p><code class="constant">NT1</code>: 最も新しいプロトコルであり、
            Windows NT が利用する。CIFSと呼ばれることもある。</p></li><li class="listitem"><p><code class="constant">SMB2</code>: SMBプロトコルの再実装。Windows Vista
	      以降で使用される。SambaでのSMB2の実装は現在実験的である!</p></li></ul></div><p> 通常、SMB プロトコルによりネゴシエーションを経て適切なプロトコルが選択されるため、
    このオプションを設定すべきではない。
    </p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>max protocol</code></em> = <code class="literal">NT1</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>max protocol</code></em> = <code class="literal">LANMAN1</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="max reported print jobs (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2561353"/>

max reported print jobs (S)
</h3></div></div></div><a class="indexterm" name="id2561354"/><a name="MAXREPORTEDPRINTJOBS"/><div class="variablelist"><dl><dt/><dd><p>このパラメータにより、ある時点で Samba の印刷キューのポートモニタが表示する印刷ジョブの最大数が設定される。
	この数値を超過した場合、超過したジョブは表示されない。
	0 が設定された場合は、表示される印刷ジョブの制限はなくなる。
    </p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>max reported print jobs</code></em> = <code class="literal">0</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>max reported print jobs</code></em> = <code class="literal">1000</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="max smbd processes (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2561424"/>

max smbd processes (G)
</h3></div></div></div><a class="indexterm" name="id2561425"/><a name="MAXSMBDPROCESSES"/><div class="variablelist"><dl><dt/><dd><p>このパラメータは、システムで同時に実行可能な <a class="citerefentry" href="smbd.8.html"><span class="citerefentry"><span class="refentrytitle">smbd</span>(8)</span></a> プロセス数の最大値を設定することで、コネクションを扱うリソースが不足して、クライアントに対するサービスが低下することを抑止する。通常の環境では、各ユーザ毎に <a class="citerefentry" href="smbd.8.html"><span class="citerefentry"><span class="refentrytitle">smbd</span>(8)</span></a> が割り当てられ、そのホストからの共有に対するコネクションのすべてを扱うことに注意。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>max smbd processes</code></em> = <code class="literal">0</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>max smbd processes</code></em> = <code class="literal">1000</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="max stat cache size (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2561511"/>

max stat cache size (G)
</h3></div></div></div><a class="indexterm" name="id2561512"/><a name="MAXSTATCACHESIZE"/><div class="variablelist"><dl><dt/><dd><p>このパラメータにより、大文字小文字を区別しない名前の対応づけの高速化に用いられる
	 <em class="parameter"><code>stat cache</code></em> に用いられるメモリの上限値が指定される。
	このパラメータには、使用する stat cache のサイズをキロバイト (1024) 単位で指定する。
	値 0 は無制限を意味する。このパラメータを変更する必要はないであろう。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>max stat cache size</code></em> = <code class="literal">256</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>max stat cache size</code></em> = <code class="literal">100</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="max ttl (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2561586"/>

max ttl (G)
</h3></div></div></div><a class="indexterm" name="id2561587"/><a name="MAXTTL"/><div class="variablelist"><dl><dt/><dd><p>このオプションは、 <a class="citerefentry" href="nmbd.8.html"><span class="citerefentry"><span class="refentrytitle">nmbd</span>(8)</span></a> がブロードキャストを利用したりWINSサーバを利用したりして
    NetBIOS 名を要求する際の NetBIOS 名のデフォルトのTTL(time to live)を(秒単位で)設定する。
    このパラメータを変更する必要はないであろう。
    デフォルトは3日である。
    </p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>max ttl</code></em> = <code class="literal">259200</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="max wins ttl (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2561646"/>

max wins ttl (G)
</h3></div></div></div><a class="indexterm" name="id2561647"/><a name="MAXWINSTTL"/><div class="variablelist"><dl><dt/><dd><p> このオプションは、 <a class="citerefentry" href="smbd.8.html"><span class="citerefentry"><span class="refentrytitle">smbd</span>(8)</span></a> が WINS サーバとして動作している
    (<a class="link" href="smb.conf.5.html#WINSSUPPORT" target="_top">wins support = yes</a>) 
    <code class="literal">nmbd</code>に登録される NetBIOS
    名の最大のTTL(time to live)を秒単位で指定する。
    このパラメータを変更する必要はないであろう。
    デフォルトは6日(518400秒)である。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>max wins ttl</code></em> = <code class="literal">518400</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="max xmit (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2561720"/>

max xmit (G)
</h3></div></div></div><a class="indexterm" name="id2561721"/><a name="MAXXMIT"/><div class="variablelist"><dl><dt/><dd><p>このオプションにより、
    Samba がネゴシエーション時に用いるパケットサイズの最大値が設定される。
    デフォルトは 16644 であり、これは Windows 2000 の挙動に合わせた値である。
    2048 以下ではおそらく問題が出るだろう。
    このパラメータの値をデフォルトから変更する必要はないだろう。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>max xmit</code></em> = <code class="literal">16644</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>max xmit</code></em> = <code class="literal">8192</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="message command (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2561791"/>

message command (G)
</h3></div></div></div><a class="indexterm" name="id2561792"/><a name="MESSAGECOMMAND"/><div class="variablelist"><dl><dt/><dd><p> このパラメータは、サーバが WinPopup 形式のメッセージを受信した際に、どのようなコマンドを実行するかを指定する。</p><p> 一般的には、
	何らかの形でメッセージを配送するコマンドを指定する。
	これをどのようにして行なうかは、発想次第である。</p><p>以下に一例を示す:
</p><pre class="programlisting">
<code class="literal">message command = csh -c 'xedit %s;rm %s' &amp;</code>
</pre><p>
	</p><p> これは、 <code class="literal">xedit</code>を利用してメッセージを配送し、
	その後メッセージを削除する。<span class="emphasis"><em> コマンドは、
	すぐに制御を戻すようにすることが必須であることに注意すること</em></span>。
	最後に '&amp;' をつけたのは、そのためである。
	コマンドを実行後すぐに制御が戻らないと、PC はメッセージ送信後フリーズしてしまう(うまくいけば、30 秒後に回復することになるだろう)。</p><p> 全てのメッセージは、グローバルなゲストユーザの権限で配送される。
	コマンド中では、標準の変数を利用できるが、
	<em class="parameter"><code>%u</code></em> は機能しない(<em class="parameter"><code>%U</code></em> を利用するのが適切であろう)。</p><p> 標準の変数以外に、
	以下に示す変数を利用することが可能である:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p><em class="parameter"><code>%s</code></em> =
		メッセージを含むファイル名</p></li><li class="listitem"><p><em class="parameter"><code>%t</code></em> = 
		メッセージの送信先(通常はサーバ名)</p></li><li class="listitem"><p><em class="parameter"><code>%f</code></em> = 
		メッセージの送り元のユーザ</p></li></ul></div><p> このコマンドにより、
	メールを送るなど、さまざまな動作が考えられる。
	おもしろいアイデアを思いついたら教えて欲しい。</p><p> 以下はメッセージをrootへのメールとして送信する方法である:
</p><pre class="programlisting">
<code class="literal">message command = /bin/mail -s 'message from %f on %m' root &lt; %s; rm %s</code>
</pre><p>
	</p><p> message command が指定されていない場合、
	メッセージは配送されず、Sambaは送信者にエラーの発生を通知する。
	ただし、WfWg はエラーコードを無視して配送を行ない、
	メッセージの配送を報告する。
	</p><p>メッセージを単に削除したい場合は、以下のように設定すること:
</p><pre class="programlisting">
<code class="literal">message command = rm %s</code>
</pre><p>
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>message command</code></em> = <code class="literal"/>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>message command</code></em> = <code class="literal">csh -c 'xedit %s; rm %s' &amp;</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="min print space (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2562028"/>

min print space (S)
</h3></div></div></div><a class="indexterm" name="id2562029"/><a name="MINPRINTSPACE"/><div class="variablelist"><dl><dt/><dd><p>ユーザの印刷ジョブをスプールする際に利用可能でなければならない空きディスクスペースの最小容量を設定する。この値はキロバイト単位で指定する。デフォルトは 0 で、この場合、ユーザは常に印刷ジョブをスプールできる。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>min print space</code></em> = <code class="literal">0</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>min print space</code></em> = <code class="literal">2000</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="min protocol (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2562097"/>

min protocol (G)
</h3></div></div></div><a class="indexterm" name="id2562098"/><a name="MINPROTOCOL"/><div class="variablelist"><dl><dt/><dd><p> このパラメータの値(文字列)は、
    Sambaがサポートする最低限のSMBプロトコルの dialect(レベル) を指定する。
    有効なプロトコル名の一覧と、その簡単な説明については、
    <a class="link" href="smb.conf.5.html#MAXPROTOCOL" target="_top">max protocol</a>
    パラメータを参照のこと。クライアントがサポートするプロトコルの dialect 一覧については、
    <code class="filename">source/smbd/negprot.c</code> 
    の Cソースを参照するとよいであろう。</p><p> セキュリティ的な観点では、
    <a class="link" href="smb.conf.5.html#LANMANAUTH" target="_top">lanman auth</a>
    パラメータも参照のこと。
    それ以外の観点からこのパラメータを変更する必要はないであろう。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>min protocol</code></em> = <code class="literal">CORE</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>min protocol</code></em> = <code class="literal">NT1</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="min receivefile size (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2562208"/>

min receivefile size (G)
</h3></div></div></div><a class="indexterm" name="id2562209"/><a name="MINRECEIVEFILESIZE"/><div class="variablelist"><dl><dt/><dd><p>このオプションは、<a class="citerefentry" href="smbd.8.html"><span class="citerefentry"><span class="refentrytitle">smbd</span>(8)</span></a> が、SMBwriteX要求を処理するときの
  振る舞いを変更する。
  署名無しのSMB/CIFS接続において、この設定値より大きなサイズのあらゆる
  SMBwriteXの要求は、通常の方法では処理されず、より下層のカーネルの
  recvfile や splice システムコールに処理をまかせる。
  (Sambaがそのような呼び出しをユーザースペースでエミュレートしていなければ) 
  もし可能であれば、これによってネットワークのソケットバッファから
  ファイルシステムのバッファキャッシュへ直接ゼロコピーによる書き出しを
  行うことを可能にする。
  これによってパフォーマンスの向上があるかもしれないが、ユーザーはテストを
  行うことが推奨される。
  もし 0 を設定すると、Sambaは、SMBwriteX要求を通常の方法で処理する。
  (SMB/CIFSでは16MBまで書き込むので)POSIXの large write supportを可能に
  するためには、このオプションは 0 以外でなければならない。
  最大値は 128kである。128kより大きな値は、警告無しで128kに設定される。</p><p>このオプションは署名付きSMB接続では効果が無いことに注意すること</p><p>デフォルトは 0 に設定され、このオプションは無効となっている</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>min receivefile size</code></em> = <code class="literal">0</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="min wins ttl (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2562297"/>

min wins ttl (G)
</h3></div></div></div><a class="indexterm" name="id2562298"/><a name="MINWINSTTL"/><div class="variablelist"><dl><dt/><dd><p> このオプションは、 <a class="citerefentry" href="nmbd.8.html"><span class="citerefentry"><span class="refentrytitle">nmbd</span>(8)</span></a>
    がWINSサーバとして動作している時に 
    (<a class="link" href="smb.conf.5.html#WINSSUPPORT" target="_top">wins support = yes</a>)、
    <code class="literal">nmbd</code> に登録された NetBIOS 名の最小の TTL (time to live)を秒単位で指定する。
    このパラメータを変更する必要はないであろう。
    デフォルトは6時間(21600秒)である。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>min wins ttl</code></em> = <code class="literal">21600</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="msdfs proxy (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2562373"/>

msdfs proxy (S)
</h3></div></div></div><a class="indexterm" name="id2562374"/><a name="MSDFSPROXY"/><div class="variablelist"><dl><dt/><dd><p>このパラメータは、この共有がパラメータで指定された別の CIFS 共有をプロキシする共有であることを指定する。
	この共有に接続したクライアントは、 SMB の DFS プロトコルにより、別の共有に転送される。</p><p>DFS ルートのみがプロキシする共有として機能できる。 DFS ルートの共有を設定する方法については、
	<a class="link" href="smb.conf.5.html#MSDFSROOT" target="_top">msdfs root</a> および <a class="link" href="smb.conf.5.html#HOSTMSDFS" target="_top">host msdfs</a>
        オプションを参照のこと。</p><p><span class="emphasis"><em>既定値なし</em></span></p><p>例: <span class="emphasis"><em><em class="parameter"><code>msdfs proxy</code></em> = <code class="literal">\otherserver\someshare</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="msdfs root (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2562456"/>

msdfs root (S)
</h3></div></div></div><a class="indexterm" name="id2562457"/><a name="MSDFSROOT"/><div class="variablelist"><dl><dt/><dd><p><code class="constant">yes</code>に設定された場合、 Samba はその共有を DFS ルートとして扱うため、クライアントは、その共有ディレクトリをルートとする DFS (分散ファイルシステム)ツリーを参照することが可能になる。
	DFS リンクの作成は、共有ディレクトリ内で
	<code class="filename">msdfs:serverA\\shareA,serverB\\shareB</code> のような形式でシンボリックリンクを作成することにより行なわれる。
	DFS ツリーを Samba で構成する際の詳細情報については、
	Samba3-HOWTO の MSDFS の章を参照のこと。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>msdfs root</code></em> = <code class="literal">no</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="name cache timeout (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2562522"/>

name cache timeout (G)
</h3></div></div></div><a class="indexterm" name="id2562523"/><a name="NAMECACHETIMEOUT"/><div class="variablelist"><dl><dt/><dd><p>Samba のホスト名キャッシュ内のエントリがタイムアウトするまで時間を秒単位で指定する。タイムアウトが 0 に設定された場合、キャッシュは無効になる。
</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>name cache timeout</code></em> = <code class="literal">660</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>name cache timeout</code></em> = <code class="literal">0</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="name resolve order (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2562588"/>

name resolve order (G)
</h3></div></div></div><a class="indexterm" name="id2562589"/><a name="NAMERESOLVEORDER"/><div class="variablelist"><dl><dt/><dd><p> このオプションは、どの名前サービスを用いて、またどのような順番で、
    ホスト名から IP アドレスを解決するかを決定するため、
    Samba の各プログラムで利用される。
    このオプションの主な目的は、NetBIOS 名前解決をどのように行なうかを指定することである。
    オプションは、名前解決オプションをスペースで区切った文字列で指定する。</p><p>
    オプションは、「lmhosts」、「host」、「wins」、「bcast」である。
    これらは以下に示すように名前解決を実行する:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p><code class="constant">lmhosts</code> : 
            Samba の lmhosts ファイルから IP アドレスを検索する。
            NetBIOS 名サフィックスの指定されていない行が lmhosts ファイル中にあった場合、
            (詳細は、lmhosts ファイルのマニュアルページを参照のこと)、
            その行はすべてのサフィックスの検索にマッチする。</p></li><li class="listitem"><p><code class="constant">host</code> : 
            システム標準の方法で、<code class="filename">/etc/hosts
            </code>、 NIS 、 DNS への問い合わせを行ない、
            ホスト名から IP アドレスへの名前解決を行なう。
            名前解決の方法は、OSに依存する。 IRIX や Solaris の場合、
            <code class="filename">/etc/nsswitch.conf</code> 
            ファイルにより制御される。この方法は、問い合わせされた NetBIOS
            のサフィックスが 0x20(サーバ) か 0x1c(ドメインコントローラ) 
            の時のみ利用され、それ以外は無効であることに注意。
            後者は、アクティブディレクトリドメインでのみ有効である。
            この場合、_ldap._tcp.domain に対応する　SRV RR エントリを検索するための DNS クエリが行われる。
	</p></li><li class="listitem"><p><code class="constant">wins</code> :
	    <a class="link" href="smb.conf.5.html#WINSSERVER" target="_top">WINSSERVER</a> パラメータで指定された IP
            アドレスに対して名前の問い合わせが行なわれる。
            WINS サーバが指定されていない場合、この方法は無視される。</p></li><li class="listitem"><p><code class="constant">bcast</code> : 
	    <a class="link" href="smb.conf.5.html#INTERFACES" target="_top">interfaces</a> 
            パラメータで設定された各インタフェースに対してブロードキャストが実行される。
            これは解決したいホストがローカルサブネットに接続されていることを前提とするため、
            もっとも信頼性の低い名前解決の方法である。</p></li></ul></div><p>以下の例では、最初にローカルの lmhosts ファイルを調査し、
    次にブロードキャストを行ない、
    最後にシステム標準のホスト名検索を試行する。</p><p>Samba が ADS セキュリティモード (<code class="literal">security = ads</code>) で動作する場合、
    <em class="parameter"><code>name resolve order</code></em> の設定は次のようにすべきである:</p><p><code class="literal">name resolve order = wins bcast</code></p><p>この 場合でも、DC は DNS への問い合わせを行なう。
    失敗した場合に NetBIOS 名の問い合わせを行なうが、その際無意味な DNS への「DOMAIN&lt;0x1c&gt;」の問い合わせが抑止される。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>name resolve order</code></em> = <code class="literal">lmhosts host wins bcast</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>name resolve order</code></em> = <code class="literal">lmhosts bcast host</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="netbios aliases (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2562827"/>

netbios aliases (G)
</h3></div></div></div><a class="indexterm" name="id2562828"/><a name="NETBIOSALIASES"/><div class="variablelist"><dl><dt/><dd><p>これは、nmbdが Samba サーバの別名としてアナウンスする NetBIOS 名のリストである。これにより、ブラウズリスト中で単一のマシンを複数の名前で表示させることが可能になる。
マシンがブラウズサーバやログオンサーバとして動作している場合、別名はブラウズサーバやログオンサーバとしてはアナウンスされない。マシン本来の名前だけがそれらの機能をもつ名前としてアナウンスされる。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>netbios aliases</code></em> = <code class="literal">
# 空文字列 (別名なし)</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>netbios aliases</code></em> = <code class="literal">TEST TEST1 TEST2</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="netbios name (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2562905"/>

netbios name (G)
</h3></div></div></div><a class="indexterm" name="id2562906"/><a name="NETBIOSNAME"/><div class="variablelist"><dl><dt/><dd><p>このパラメータにより、 Samba サーバの NetBIOS 名が設定される。デフォルトでは、ホストの DNS 名の最初の部分と同一である。マシンがブラウズサーバや、ログオンサーバの場合、ここで設定された名前 (またはホストのDNS名の最初の部分)がサービスをアナウンスする際に用いられる。</p><p>
    Samba 3.0 には、NetBIOS が <code class="literal">PIPE</code> に設定されるとブラウジングや共有へのアクセスに問題が発生するというバグがある。
    この問題を避けるためには、Samba 3.0 マシンの名前を <code class="literal">PIPE</code> にしないこと。
    </p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>netbios name</code></em> = <code class="literal">
# マシンの DNS 名</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>netbios name</code></em> = <code class="literal">MYNAME</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="netbios scope (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2563000"/>

netbios scope (G)
</h3></div></div></div><a class="indexterm" name="id2563001"/><a name="NETBIOSSCOPE"/><div class="variablelist"><dl><dt/><dd><p>このパラメータにより、 Samba が使用する NetBIOS スコープを設定される。LAN上のすべてのマシンに同じ値を設定しない限り、このパラメータを設定すべきではない。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>netbios scope</code></em> = <code class="literal"/>
</em></span>
</p></dd></dl></div></div><div class="section" title="nis homedir (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2563043"/>

nis homedir (G)
</h3></div></div></div><a class="indexterm" name="id2563044"/><a name="NISHOMEDIR"/><div class="variablelist"><dl><dt/><dd><p>NIS マップから、[home] 共有を提供するサーバを取得する。
	automounter を使用する UNIX システムでは、
	ユーザのホームディレクトリが、必要に応じてリモートサーバから
	ワークステーションにマウントされるようになっていることが多い。</p><p> Samba のログオンサーバが実際のホームディレクトリを提供するサーバではなく、
	 NFS経由でホームディレクトリをマウントしている場合、
	クライアントに自分自身がホームディレクトリを提供する SMB サーバであるように見せると、
	ユーザがホームディレクトリにアクセスするためには、
	二段階のネットワークアクセスが必要になる(1つは SMB で、もう 1 つは NFS)。
	これはとても遅くなることがある。</p><p> このオプションにより、
	Samba は home 共有がログオンサーバとは異なるサーバにあるものとして扱うことが可能になり、
	Samba デーモンがホームディレクトリを提供するサーバで動作している限り、
	Samba クライアントは、ホームディレクトリを提供しているサーバ上の共有を直接マウントする。
	Samba が home 共有の情報をクライアントに返すとき、
	<a class="link" href="smb.conf.5.html#HOMEDIRMAP" target="_top">homedir map</a> パラメータ
	で指定された NIS マップに問い合わせて、そこにあるサーバの情報を利用する。</p><p> このオプションが機能するためには、NIS システムが動いていなければならず、
	このオプションを指定した Samba サーバは、
	ログオンサーバでなければならないことに注意すること。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>nis homedir</code></em> = <code class="literal">no</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="nmbd bind explicit broadcast (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2563149"/>

nmbd bind explicit broadcast (G)
</h3></div></div></div><a class="indexterm" name="id2563150"/><a name="NMBDBINDEXPLICITBROADCAST"/><div class="variablelist"><dl><dt/><dd><p>
	  このオプションは<a class="citerefentry" href="nmbd.8.html"><span class="citerefentry"><span class="refentrytitle">nmbd</span>(8)</span></a>に、ローカルサブネットの
	  ブロードキャストアドレスに、明示的にバインドすることを行わせる。これは、
	  <a class="link" href="smb.conf.5.html#SOCKETADDRESS" target="_top">socket address</a>オプションと組み合わせた場合に、
	  nmbdが正しく動くようにするのに必要である。このオプションをnoにする
	  必要はない。
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>nmbd bind explicit broadcast</code></em> = <code class="literal">yes</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="nt acl support (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2563218"/>

nt acl support (S)
</h3></div></div></div><a class="indexterm" name="id2563220"/><a name="NTACLSUPPORT"/><div class="variablelist"><dl><dt/><dd><p>この真偽値パラメータにより、 <a class="citerefentry" href="smbd.8.html"><span class="citerefentry"><span class="refentrytitle">smbd</span>(8)</span></a>
    が UNIX のパーミッションを Windows NT
    のアクセスコントロールリストにマップするかどうかが決定される。
    対象となる UNIX のパーミッションは、
    ファイルやディレクトリに設定された伝統的な UNIX の所有者とグループのパーミッションと POSIX ACL である。
    このパラメータは、Samba 2.2.2 より前のリリースでは、グローバルパラメータであった。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>nt acl support</code></em> = <code class="literal">yes</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="ntlm auth (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2563278"/>

ntlm auth (G)
</h3></div></div></div><a class="indexterm" name="id2563279"/><a name="NTLMAUTH"/><div class="variablelist"><dl><dt/><dd><p>このパラメータにより、<a class="citerefentry" href="smbd.8.html"><span class="citerefentry"><span class="refentrytitle">smbd</span>(8)</span></a> が NTLM レスポンスを用いてユーザ認証を行なうかどうかが設定される。
      このパラメータを無効にすると、クライアントは LANMAN パスワードハッシュ
      か NTLMv2 レスポンスを送信する必要がある。</p><p>このオプションと <code class="literal">lanman
    auth</code> の両方を無効にした場合、NTLMv2 ログインのみが可能となる。すべての
    クライアントが NTLMv2 をサポートしているわけではなく、ほとんどの場合、NTLMv2 を
    使用するためには、明示的に設定を行なうことが必要である。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>ntlm auth</code></em> = <code class="literal">yes</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="nt pipe support (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2563355"/>

nt pipe support (G)
</h3></div></div></div><a class="indexterm" name="id2563356"/><a name="NTPIPESUPPORT"/><div class="variablelist"><dl><dt/><dd><p>この真偽値パラメータにより、
    <a class="citerefentry" href="smbd.8.html"><span class="citerefentry"><span class="refentrytitle">smbd</span>(8)</span></a> が
    Windows NT のクライアントに対して、 Windows NT の SMB 固有の
    <code class="constant">IPC$</code> パイプへの接続を許可するかどうかが制御される。
    これは開発者のデバッグオプションであり、意識する必要はない。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>nt pipe support</code></em> = <code class="literal">yes</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="nt status support (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2563417"/>

nt status support (G)
</h3></div></div></div><a class="indexterm" name="id2563418"/><a name="NTSTATUSSUPPORT"/><div class="variablelist"><dl><dt/><dd><p>この真偽値パラメータは、 <a class="citerefentry" href="smbd.8.html"><span class="citerefentry"><span class="refentrytitle">smbd</span>(8)</span></a> が、 Windows NT/2000/XP
    クライアントに対して、 NT 固有のステータスのサポートのネゴシエーションを行なうかどうかを制御する。
    これは、開発者のデバッグ用オプションであり、設定を変更すべきではない。
    このオプションが <code class="constant">no</code> の場合、 Samba は
    Samba 2.2.3 以前と全く同様に、DOS エラーコードを返却する。</p><p>このオプションを無効にしてはならない。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>nt status support</code></em> = <code class="literal">yes</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="null passwords (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2563488"/>

null passwords (G)
</h3></div></div></div><a class="indexterm" name="id2563489"/><a name="NULLPASSWORDS"/><div class="variablelist"><dl><dt/><dd><p>空(null)パスワードを持つアカウントへのクライアントからのアクセスを許可、あるいは禁止する。</p><p><a class="citerefentry" href="smbpasswd.5.html"><span class="citerefentry"><span class="refentrytitle">smbpasswd</span>(5)</span></a> も参照のこと。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>null passwords</code></em> = <code class="literal">no</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="obey pam restrictions (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2563542"/>

obey pam restrictions (G)
</h3></div></div></div><a class="indexterm" name="id2563543"/><a name="OBEYPAMRESTRICTIONS"/><div class="variablelist"><dl><dt/><dd><p>PAMサポートを有効にして(--with-pam) configure された Samba 3.0
    系列において、このパラメータは、Samba が PAM のアカウントとセッション管理機構を利用するかどうかを制御する。
    デフォルトの場合、 PAM は平文テキスト認証にのみ利用され、
    アカウントとセッション管理は利用されない。
    <a class="link" href="smb.conf.5.html#ENCRYPTPASSWORDS" target="_top">encrypt passwords = yes</a>
    の場合、Sambaは常に PAM による認証を無視することに気を付けること。
    これは、PAMモジュールが、
    SMBのパスワード暗号化に必要なチャレンジアンドレスポンス認証機構をサポートしていないためである。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>obey pam restrictions</code></em> = <code class="literal">no</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="only user (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2563616"/>

only user (S)
</h3></div></div></div><a class="indexterm" name="id2563617"/><a name="ONLYUSER"/><div class="variablelist"><dl><dt/><dd><p> この真偽値のオプションは、<em class="parameter"><code>user</code></em> 
    パラメータに設定されていないユーザからの接続を許可するかどうかを制御する。
    デフォルトでは、このオプションは無効になっており、
    クライアントがサーバで使用するユーザ名を提供することが可能である。
    このパラメータを有効にすることで、サーバは <em class="parameter"><code>user</code></em> 
    パラメータで設定されたユーザ名のみを利用する。
    これは <a class="link" href="smb.conf.5.html#SECURITY" target="_top">security = share</a>
    のセキュリティの時のみ有用である。</p><p> このパラメータを有効にすると、
    Samba はサービス名からユーザ名を推測することも行なわなくなる。
    このため、[homes] セクションを利用していると問題が発生してしまうことがある。
    <code class="literal">user = %S</code> とすることで、
    <em class="parameter"><code>user</code></em> リストにサービス名が設定され、
    ホームディレクトリをユーザの名前にすることができる。</p><p> このパラメータを有効にすると、
    Samba はサービス名からユーザ名を推測することも行なわなくなるので注意すること。
    これにより、[homes] セクションを利用していると問題が発生してしまうことがある。
    <code class="literal">user = %S</code> とすることで、
    <em class="parameter"><code>user</code></em> リストにサービス名が設定され、
    ホームディレクトリをユーザの名前にすることができる。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>only user</code></em> = <code class="literal">no</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="oplock break wait time (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2563754"/>

oplock break wait time (G)
</h3></div></div></div><a class="indexterm" name="id2563755"/><a name="OPLOCKBREAKWAITTIME"/><div class="variablelist"><dl><dt/><dd><p>
	これは Windows 9x と Windows NT 双方のバグに対応するために追加されたチューニングオプションである。
	クライアントが oplock を解除させるような SMB を発行した時に、
	Samba のクライアントに対する応答が早過ぎると、
	クライアントは誤動作してしまい、解除要求に応答しない。
	このチューニングパラメータ(ミリ秒単位で指定する)は、
	こうした(異常動作を行なう)クライアントに対して oplock 解除要求を送付する前に、Samba がとる待ち時間になる。</p><div class="warning" title="Warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Warning</h3><p>
	Samba の oplock コードを読んで理解していない限り、このパラメータを変更してはいけない。
	</p></div><p>既定値: <span class="emphasis"><em><em class="parameter"><code>oplock break wait time</code></em> = <code class="literal">0</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="oplock contention limit (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2563815"/>

oplock contention limit (S)
</h3></div></div></div><a class="indexterm" name="id2563816"/><a name="OPLOCKCONTENTIONLIMIT"/><div class="variablelist"><dl><dt/><dd><p>これは <span class="emphasis"><em>非常に</em></span> 高度な
	<a class="citerefentry" href="smbd.8.html"><span class="citerefentry"><span class="refentrytitle">smbd</span>(8)</span></a> 
	のチューニングオプションで、
	複数のクライアントから同じファイルへの 
	oplock 要求が行なわれた際の効率を改善するものである。</p><p> このパラメータには数値を指定する。
	同じファイルに対して oplock を行なおうとするクライアントの大体の数がこのパラメータで指定した限界を越えると、
	<a class="citerefentry" href="smbd.8.html"><span class="citerefentry"><span class="refentrytitle">smbd</span>(8)</span></a> は、
	たとえ要求されても oplock を許可しないようになる。これにより、
	<code class="literal">smbd</code>は Windows NT と同様の動作を行うようになる。</p><div class="warning" title="Warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Warning</h3><p>
	Samba の oplock コードを読んで理解していない限り、このパラメータを変更してはいけない。
	</p></div><p>既定値: <span class="emphasis"><em><em class="parameter"><code>oplock contention limit</code></em> = <code class="literal">2</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="oplocks (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2563912"/>

oplocks (S)
</h3></div></div></div><a class="indexterm" name="id2563913"/><a name="OPLOCKS"/><div class="variablelist"><dl><dt/><dd><p>この真偽値オプションは、
	共有内のファイルオープンが要求された際に oplock (opportunistic lock = 便宜的ロック) を行なうかどうかを
	<code class="literal">smbd</code> に指示する。
	oplock により、Samba サーバ上のファイルアクセス速度を劇的に改善(およそ 30% 以上)することができる。
	oplock により、クライアントは、積極的にファイルをローカルにキャッシュするようになるが、
	信頼性の低いネットワーク環境の場合などに、これを無効にしたいと考えることもあるだろう
	(Windows NT サーバにおける既定値は有効である)。
	</p><p> oplock は共有内のファイル単位で無効にすることも可能である。
	<a class="link" href="smb.conf.5.html#VETOOPLOCKFILES" target="_top">veto oplock files</a> パラメータを参照のこと。
	システムによっては、oplock が OS 自身によって認識される。
	この場合、Samba、NFS、ローカルなUNIXのいずれを経由してアクセスが行なわれた場合でも、
	oplock が行なわれたファイルとのデータの同期が実現する。
	詳細は、<a class="link" href="smb.conf.5.html#KERNELOPLOCKS" target="_top">kernel oplocks</a> パラメータを参照のこと。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>oplocks</code></em> = <code class="literal">yes</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="os2 driver map (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2564013"/>

os2 driver map (G)
</h3></div></div></div><a class="indexterm" name="id2564014"/><a name="OS2DRIVERMAP"/><div class="variablelist"><dl><dt/><dd><p>このパラメータでは、
	OS/2 のプリンタドライバ名と Windows NT のプリンタドライバ名とのマッピングが記述されたファイルへの絶対パスを指定する。
	ファイル形式は以下のようになっている:</p><p>&lt;nt driver name&gt; = &lt;os2 driver name&gt;.&lt;device name&gt;</p><p>HP LaserJet 5 のプリンタドライバを例にとった場合、
	正しいエントリは<code class="literal">HP LaserJet 5L = LASERJET.HP 
	LaserJet 5L</code>のようになる。</p><p> このファイルは、 Samba3-HOWTO 本の Classical Printing
    章で記述されているプリンタドライバの名前空間の問題に対応するために用いられる。
	OS/2 クライアントに関する詳細については、Samba3-HOWTO 本の
    other clients 章を参照のこと。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>os2 driver map</code></em> = <code class="literal"/>
</em></span>
</p></dd></dl></div></div><div class="section" title="os level (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2564088"/>

os level (G)
</h3></div></div></div><a class="indexterm" name="id2564089"/><a name="OSLEVEL"/><div class="variablelist"><dl><dt/><dd><p>この数値は、
    Samba がブラウザ選定時に宣言する優先度を設定する。
    このパラメータの値は、 <a class="citerefentry" href="nmbd.8.html"><span class="citerefentry"><span class="refentrytitle">nmbd</span>(8)</span></a> 
    が、ブロードキャスト範囲内における <a class="link" href="smb.conf.5.html#WORKGROUP" target="_top">workgroup</a>
    のローカルマスタブラウザになるかどうかに影響する。</p><p><span class="emphasis"><em>注意 :</em></span> ローカルマスタブラウザの選定に際して、既定値では、
    Samba が Windows NT 4.0/2000 のドメインコントローラ以外のすべての Microsoft 社のOSに優先する。
    このため、Samba ホストの設定が不正の場合、
    ブラウジング的にそのサブネットが孤立してしまう可能性がある。
    Samba 3.0 系列では、このパラメータは通常自動設定されるため、既定値を手動で設定する必要は通常発生しない。(訳注: 実際には自動設定は行なわれない。この説明は誤りだと思われる)
    このパラメータに関する詳細は、Samba-3 HOWTO ドキュメントの「Network Browsing」を参照のこと。
	<span class="emphasis"><em>注意:</em></span>このパラメータの最大値は255である。
それより大きな値を使った場合、もしも、カウントは0から始まる!
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>os level</code></em> = <code class="literal">20</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>os level</code></em> = <code class="literal">65</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="pam password change (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2564209"/>

pam password change (G)
</h3></div></div></div><a class="indexterm" name="id2564210"/><a name="PAMPASSWORDCHANGE"/><div class="variablelist"><dl><dt/><dd><p> Samba 2.2 における PAM サポート機能の追加にともない、
    このパラメータを用いることで、 Samba で PAM を使ったパスワード変更が可能となった。
    このパラメータが有効な場合、SMB クライアントからの要求があれば、
    <a class="link" href="smb.conf.5.html#PASSWDPROGRAM" target="_top">passwd program</a>. 
    に設定されたプログラムに代わって、PAM を使ってパスワードの変更が行なわれる。
    ほとんどの場合、
    <a class="link" href="smb.conf.5.html#PASSWDCHAT" target="_top">passwd chat</a> 
    パラメータの変更なしにこのパラメータを有効にすることが可能である。
    </p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>pam password change</code></em> = <code class="literal">no</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="panic action (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2564294"/>

panic action (G)
</h3></div></div></div><a class="indexterm" name="id2564295"/><a name="PANICACTION"/><div class="variablelist"><dl><dt/><dd><p>これは Samba 開発者のためのオプションで、
	<a class="citerefentry" href="smbd.8.html"><span class="citerefentry"><span class="refentrytitle">smbd</span>(8)</span></a> か <a class="citerefentry" href="smbd.8.html"><span class="citerefentry"><span class="refentrytitle">smbd</span>(8)</span></a>	
	がクラッシュした際に呼び出されるシステム上のコマンドを指定する。
	これは通常問題が発生した事実を警告するのに使われる。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>panic action</code></em> = <code class="literal"/>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>panic action</code></em> = <code class="literal">"/bin/sleep 90000"</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="paranoid server security (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2564374"/>

paranoid server security (G)
</h3></div></div></div><a class="indexterm" name="id2564375"/><a name="PARANOIDSERVERSECURITY"/><div class="variablelist"><dl><dt/><dd><p>Windows NT 4.x のバージョンによっては、問題のあるパスワードの非ゲストアカウントが許容されている。このオプションを有効にした場合、 Samba はこうした Windows NT 4.x サーバを password server として使用せず、ログに出力を行ない終了するようになる。
    </p><p>このオプションを無効にすることで、 Samba がこのチェックを行なわなくなるため、リモートサーバに対する問題のあるログオンの試行が明示的に許可される。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>paranoid server security</code></em> = <code class="literal">yes</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="passdb backend (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2564433"/>

passdb backend (G)
</h3></div></div></div><a class="indexterm" name="id2564434"/><a name="PASSDBBACKEND"/><div class="variablelist"><dl><dt/><dd><p>このオプションにより、管理者はユーザとグループ情報の格納に、どのような
    機構(backend)を使用するかについて指定できる。これにより、再コンパイルなしで
    機構を取り換えることが可能となる。</p><p>このパラメータは、機構の名称と、特定の機構に依存した「位置」を示す文字列
      との 2 つの要素から構成されている。
    この要素は「:」文字で区切られる。</p><p>指定可能な機構は以下のとおりである:
	</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p><code class="literal">smbpasswd</code> - 古い平文のパスワード格納
		  機構である。これを使うとSambaのいくつかの機能が動かない。
		  オプションの引数として smbpasswd ファイルの位置を指定する。
		</p></li><li class="listitem"><p><code class="literal">tdbsam</code> -  TDB ベースのパスワード格納機構である。
                オプションの引数として、 TDB ファイルへのパス (デフォルトは
                <a class="link" href="smb.conf.5.html#PRIVATEDIR" target="_top">private dir</a> ディレクトリ内の passdb.tdb) を指定する。</p></li><li class="listitem"><p><code class="literal">ldapsam</code> - LDAP ベースのパスワード機構である。
                オプションの引数として、 LDAP の URL (デフォルトは
                <code class="literal">ldap://localhost</code>) を指定する。</p><p>LDAP の接続は、可能な場合は暗号化される。
                これは Start-TLS (<a class="link" href="smb.conf.5.html#LDAPSSL" target="_top">ldap ssl</a> を参照のこと) か
                <em class="parameter"><code>ldaps://</code></em> を URL 引数中で指定することにより行なわれる。</p><p>ダブルクォーテーションを使って複数のサーバを指定できる。
		  複数のサーバが使用できるか否かは、使用するLDAP ライブラリ上の文法に
		  依存する。</p></li></ul></div><p>

    </p><p>
    以下に設定例を示す。
</p><pre class="programlisting">
passdb backend = tdbsam:/etc/samba/private/passdb.tdb 

またはOpenLDAPの複数サーバLDAP URLの場合は、

passdb backend = ldapsam:"ldap://ldap-1.example.com ldap://ldap-2.example.com"

あるいは、NetscapeベースのLDAP ライブラリでの複数サーバLDAP URLの場合は、

passdb backend = ldapsam:"ldap://ldap-1.example.com ldap-2.example.com"
</pre><p>
</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>passdb backend</code></em> = <code class="literal">tdbsam</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="passdb expand explicit (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2564623"/>

passdb expand explicit (G)
</h3></div></div></div><a class="indexterm" name="id2564624"/><a name="PASSDBEXPANDEXPLICIT"/><div class="variablelist"><dl><dt/><dd><p>
    このパラメータは、passdb の指定に % マクロが明示的に指定された際に、
    それを展開するかどうかを制御する。
    ここではマクロを用いることが可能となっているが、 Windows クライアントがユーザのプライマリグループに置換されるべき %G が含まれている %G_osver% といった変数を展開してしまうというバグを引き起こしてしまうことがある。
    </p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>passdb expand explicit</code></em> = <code class="literal">no</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="passwd chat (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2564675"/>

passwd chat (G)
</h3></div></div></div><a class="indexterm" name="id2564676"/><a name="PASSWDCHAT"/><div class="variablelist"><dl><dt/><dd><p>このパラメータで指定される文字列は、 <a class="citerefentry" href="smbd.8.html"><span class="citerefentry"><span class="refentrytitle">smbd</span>(8)</span></a> とローカルなパスワード変更プログラムとの間でパスワード変更時に発生する
    <span class="emphasis"><em>「やりとり(chat)」</em></span> を制御する。
    文字列には、 <a class="citerefentry" href="smbd.8.html"><span class="citerefentry"><span class="refentrytitle">smbd</span>(8)</span></a> が
    <a class="link" href="smb.conf.5.html#PASSWDPROGRAM" target="_top">passwd program</a>
    で指定したプログラムに行なう送信内容と、それに対して期待される応答内容とを定義したやりとりの手順を記述する。
    期待される応答がない場合、パスワードは変更されない。</p><p>このやりとりの手順は、
    パスワード制御のためにどのような方法(たとえば NIS など)を使うかに依存するため、
    通常サイト依存のものとなる。</p><p> このパラメータは、
    <a class="link" href="smb.conf.5.html#UNIXPASSWORDSYNC" target="_top">unix password sync</a>
    パラメータが <code class="constant">yes</code> の時のみ利用される。
    このやりとりは、smbpasswd ファイル中の SMBパスワードが変更される際に、
    古いパスワードの平文へアクセスすることなしに、
    <span class="emphasis"><em>ROOT権限で</em></span> 呼び出される。
    これは、root であれば以前のパスワードを知らなくても、ユーザのパスワードの再設定を行なうことができるからである。
    NIS/YP を利用している場合、
    <a class="link" href="smb.conf.5.html#PASSWDPROGRAM" target="_top">passwd program</a> は NIS マスタサーバ上で実行する必要がある
    </p><p>文字列には、新パスワードに置換される、 <em class="parameter"><code>%n</code></em> マクロや、
    各々改行、復帰、タブ、空白を意味する標準的なマクロである、\n, \r,
    \t, \s も記述できる。
    さらに、この文字列には、任意の文字列に一致する '*' を記述してもよい。
    ダブルクオーテーションは、空白を含む複数の文字列を 1 つの文字列と見なすのに使うことができる。</p><p> やりとりの手順中で、送信文字列としてピリオド「.」が指定されていた場合、実際にはなんの文字列も送られない。
    同様に、受信文字列としてピリオドが指定されていた場合、
    実際には何も受信しないことが期待されている。</p><p> <a class="link" href="#PAMPASSWORDCHANGE"><em class="parameter"><code>pam
    password change</code></em></a> パラメータが <code class="constant">yes</code>
    の場合、やりとりの手順は、任意の順番でマッチし、
    成功したか否かは出力結果ではなく PAM の戻り値で判断される。
    PAM の場合、\n マクロは無視される。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>passwd chat</code></em> = <code class="literal">*new*password* %n\n*new*password* %n\n *changed*</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>passwd chat</code></em> = <code class="literal">"*Enter OLD password*" %o\n "*Enter NEW password*" %n\n "*Reenter NEW password*" %n\n "*Password changed*"</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="passwd chat debug (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2564900"/>

passwd chat debug (G)
</h3></div></div></div><a class="indexterm" name="id2564901"/><a name="PASSWDCHATDEBUG"/><div class="variablelist"><dl><dt/><dd><p>この真偽値パラメータは、passwd chat script パラメータを
    <span class="emphasis"><em>debug</em></span> モードで実行するかどうかに影響する。
    debug モードの場合、passwd chat 中にやりとりされる文字列は、
    <a class="link" href="smb.conf.5.html#DEBUGLEVEL" target="_top">debug level</a> 
    を 100 にすることで、 <a class="citerefentry" href="smbd.8.html"><span class="citerefentry"><span class="refentrytitle">smbd</span>(8)</span></a> のログファイル中に出力されるようになる。
    <code class="literal">smbd</code> のログ中に平文のパスワードが見えてしまうため、これは危険なオプションである。
    このパラメータは、 Samba の管理者が <em class="parameter"><code>passwd chat</code></em> スクリプトが
    <em class="parameter"><code>passwd program</code></em>
    のデバッグを行なう際に役立つ。デバッグが終了したら、必ず無効にすること。
    <a class="link" href="smb.conf.5.html#PAMPASSWORDCHANGE" target="_top">pam password change</a>
    パラメータが有効になっている場合、このオプションは無効になる。
    このパラメータはデフォルトで無効になっている。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>passwd chat debug</code></em> = <code class="literal">no</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="passwd chat timeout (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2565018"/>

passwd chat timeout (G)
</h3></div></div></div><a class="indexterm" name="id2565020"/><a name="PASSWDCHATTIMEOUT"/><div class="variablelist"><dl><dt/><dd><p> この整数値により、smbd が passwd chat script の実行を待機する時間を秒単位で指定する。
    最初の応答が受信されて以降のやりとりは、
    この値の 1/10 の時間で応答される必要がある。
    デフォルトは 2 秒である。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>passwd chat timeout</code></em> = <code class="literal">2</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="passwd program (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2565069"/>

passwd program (G)
</h3></div></div></div><a class="indexterm" name="id2565070"/><a name="PASSWDPROGRAM"/><div class="variablelist"><dl><dt/><dd><p> ユーザの UNIX 上のパスワードを設定するために使用するプログラムの名前を指定する。
    <em class="parameter"><code>%u</code></em> はユーザ名に置換される。
    パスワード変更プログラムを呼び出す前に、
    指定されたユーザ名が存在するかのチェックが行なわれる。</p><p> 多くのパスワード変更プログラムは、
    パスワードの最小字数や大文字と小文字併用や、数字の混在などの
    <span class="emphasis"><em>適切な</em></span>パスワードを要求することに注意して欲しい。
    一部のクライアント(Windows for Workgroups など)は、
    パスワードを送信する前に大文字化してしまうため、問題が発生する。</p><p><span class="emphasis"><em>注意:</em></span><em class="parameter"><code>unix
    password sync</code></em> パラメータを <code class="constant">yes</code>
    に設定すると、 smbpasswd 
    ファイル中の SMBパスワードが変更される前に、
    このプログラムが <span class="emphasis"><em>ROOT権限で</em></span> 呼び出される。
    UNIX 側のパスワード変更が失敗すると、
    <code class="literal">smbd</code> は SMBパスワードの変更も失敗させる(これは仕様である)。</p><p> <em class="parameter"><code>unix password sync</code></em>
    パラメータが <code class="constant">yes</code> に設定されている場合は、
    このパラメータで指定する <span class="emphasis"><em>すべての</em></span> プログラムを <span class="emphasis"><em>必ず絶対パスで設定し</em></span>、
    セキュリティ上の問題が発生しないようにしておくこと。
    デフォルトでは <em class="parameter"><code>unix password sync</code></em> は <code class="constant">no</code> になっているので注意。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>passwd program</code></em> = <code class="literal"/>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>passwd program</code></em> = <code class="literal">/bin/passwd %u</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="password level (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2565230"/>

password level (G)
</h3></div></div></div><a class="indexterm" name="id2565231"/><a name="PASSWORDLEVEL"/><div class="variablelist"><dl><dt/><dd><p> クライアントとサーバの組合せによっては、
    大文字と小文字が混在したパスワードの扱いに問題が発生することがある。
    問題が発生するクライアントとしては、 LANMAN1 プロトコルを使用しているとパスワードを強制的に大文字にするが、
    COREPLUS を使用しているときはこの変換を行なわない Windows for Workgroups が挙げられる。
    Windows 95/98 系列のオペレーティングシステムにも問題がある。
    これらのクライアントは、プロトコルのネゴシエーションの結果
    NT LM 0.12が使われることになった場合でも、平文のパスワードを大文字化してしまう。
    </p><p> このパラメータは、
    パスワード中に含まれる大文字の最大数を設定する。</p><p> 例えば、与えられたパスワードが「FRED」であったとする。
    <em class="parameter"><code>password level</code></em> が 1 に設定されていると、
    「FRED」で失敗したときに以下の組み合わせによる再試行が行なわれる:</p><p>"Fred", "fred", "fRed", "frEd","freD"</p><p><em class="parameter"><code>password level</code></em> が 2 に設定されていると、
    以下の組合せによる試行も行なわれる: </p><p>"FRed", "FrEd", "FreD", "fREd", "fReD", "frED", ……</p><p>以降も同様である。</p><p> このパラメータを大きくするほど、
    大文字と小文字の混在したパスワードが大文字あるいは小文字のみのパスワードと一致するようになる。
    しかし、このパラメータの利用はセキュリティの低下につながることと、
    新規の接続を処理するための時間が増大することを意識しておく必要がある。
    </p><p> 値を 0 にすると、入力された通りのパスワードと、
    それらを全て小文字にした場合の 2 回の試行のみを行なう。</p><p>このパラメータは、平文のパスワードを使用する場合にのみ使用される。暗号化パスワードが使用されている場合 (samba-3.0.0 以降はそれがデフォルト) にはまったく使用されない。つまり、このパラメータは 
    <a class="link" href="smb.conf.5.html#ENCRYPTPASSWORDS" target="_top">encrypt passwords = No</a>
    という設定の場合にのみ使用するということである。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>password level</code></em> = <code class="literal">0</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>password level</code></em> = <code class="literal">4</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="password server (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2565405"/>

password server (G)
</h3></div></div></div><a class="indexterm" name="id2565406"/><a name="PASSWORDSERVER"/><div class="variablelist"><dl><dt/><dd><p> このオプションで、別の SMB サーバか、Active Directory ドメインコントローラの
    指定を行い、<code class="literal">security = [ads|domain|server]</code>を
    使うことで、Samba が行なうユーザ名、パスワードの認証のすべてを指定した別のサーバに行なわせることが可能となる。</p><p> このオプションでは、使用するパスワードサーバの名前あるいは IP アドレスを設定する。
    また、ADS のレルムに対応するサーバへの接続時に使用するポートの指定にもこのオプ
ョンが使用できるようになっており、そのための書式も追加されている。
    デフォルトの LDAP ポートである 389 以外のポートを指定する場合には、名前あるいは IP アドレスの後にコロンを付けて指定する（例: 192.168.1.100:389）。
    ポートを指定しなかった場合、 Samba は標準の LDAP ポートである tcp/389 を使用する。このポート番号は、Windows NT 4.0 ドメインや NetBIOS 接続に対応するパスワードサーバには何の意味も持たないという点に注意。</p><p> このパラメータの値が名前の場合、名前解決は
    <a class="link" href="smb.conf.5.html#NAMERESOLVEORDER" target="_top">name resolve order</a>
    パラメータで設定された方法と順番に従って行なわれるため、
    このパラメータで指定可能な任意の方式を任意の順番で組み合わせることができる。</p><p> パスワードサーバは、 "LM1.2X002"または"LM NT 0.12"
      プロトコルが利用可能であり、ユーザレベルのセキュリティモードで構成されたマシン
      である必要がある。</p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>パスワードサーバを利用するということは、
    Samba を実行している UNIX マシンのセキュリティはパスワードサーバに依存するということである。
    <span class="emphasis"><em> 完全に信頼することができるサーバ以外をパスワードサーバとして設定してはいけない</em></span>。
    </p></div><p> Samba サーバ自身をパスワードサーバに設定しないこと。
    これはループを発生させ、Samba サーバをフリーズさせてしまう!</p><p> password server の値には、 Samba 変数も通常通り利用できるが、
   事実上有用なものは、Samba サーバに接続してきたクライアントをパスワードサーバとして設定することを意味する、
    <em class="parameter"><code>%m</code></em> だけであろう。
    この設定はクライアントを信頼することになるため、
    hosts allow パラメータにより接続を制限することが望ましい。</p><p> <em class="parameter"><code>security</code></em> パラメータを
    <code class="constant">domain</code> もしくは <code class="constant">ads</code> に設定する場合、このオプションでは、
    ドメインのプライマリおよびバックアップドメインコントローラを指定するか、
    「*」という文字を指定する必要がある。これは、
    Samba サーバをドメインのメンバとして機能させるとともに、
    ユーザのログオン時に認証を行なうために、暗号化された認証済のRPCコールを利用するためである。
    <code class="literal">security = domain</code> を用いる利点は、
    <em class="parameter"><code>password server</code></em> 
    オプションで幾つかのサーバを指定した場合に、 <code class="literal">
    smbd</code> が、どれかのサーバから応答があるまでリスト中のサーバに対して順番に問い合わせを行なっていくという点にある。
    これは、通常問い合わせを行なうサーバが停止してしまった時に効果を発揮する。</p><p><em class="parameter"><code>password server</code></em> オプションに文字 「*」 を指定すると、Samba は <code class="constant">WORKGROUP&lt;1C&gt;</code> への問い合わせを行い、名前解決機構から返却された IP アドレスリスト中の各サーバにアクセスを行って認証を実施するため、プライマリあるいはバックアップドメインコントローラの名前解決を自動的に実施する。</p><p>「*」文字とサーバのリストの両方を指定した場合、
    リストは問い合わせを行なうサーバの優先順位として機能するが、
    それ以外の DC もリストには追加される。
    Samba は最も近い DC の位置を検出することによるリストの最適化は行なわない。
    </p><p><em class="parameter"><code>security</code></em> パラメータが
    <code class="constant">server</code> の場合、
    <code class="literal">security = domain</code>
    の場合にはなかった制限事項が幾つか発生する:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p> 複数のパスワードサーバを <em class="parameter"><code>
            password server</code></em> パラメータ中に設定できるが、
            一旦 <code class="literal">smbd</code> が接続を行なったパスワードサーバが停止してしまうと、
            その <code class="literal">smbd</code>
            ではそれ以上のユーザ認証が一切行なえなくなる。
            これは <code class="literal">security = server</code>
            モードにおける SMB/CIFS プロトコルでの制限で、Samba 側では対処できない。</p></li><li class="listitem"><p> Windows NT サーバをパスワードサーバとして使っている場合、
            ユーザが Samba サーバからログオンできるようにする必要がある。
            これは、<code class="literal">security = server</code> モードの場合、
            ネットワーク経由のログオンは、ユーザのワークステーションからではなく、
            Samba サーバから行われたものとして扱われるためである。</p></li></ul></div><p>既定値: <span class="emphasis"><em><em class="parameter"><code>password server</code></em> = <code class="literal">*</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>password server</code></em> = <code class="literal">NT-PDC, NT-BDC1, NT-BDC2, *</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>password server</code></em> = <code class="literal">windc.mydomain.com:389 192.168.1.101 *</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="directory"><div class="titlepage"><div><div><h3 class="title"><a name="id2565800"/>

<a name="DIRECTORY"/>directory
</h3></div></div></div><a class="indexterm" name="id2565801"/><div class="variablelist"><dl><dt/><dd><p>このパラメータは右記のパラメータの別名である：<a class="link" href="#PATH">path</a>.</p></dd></dl></div></div><div class="section" title="path (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2565831"/>

path (S)
</h3></div></div></div><a class="indexterm" name="id2565832"/><a name="PATH"/><div class="variablelist"><dl><dt/><dd><p>このパラメータは、サービスに接続したユーザがアクセスするディレクトリを指定する。印刷サービスの場合、これは印刷データがホストの印刷機構に送られる前にスプールされる場所になる。</p><p>ゲストアクセスを許可している印刷サービスの場合、サービスは読みとりのみにした上で、パスは全ユーザ書き込み可能として sticky ビットをセットすべきである。これはもちろん必須ではないが、このようにしない限りは、おそらく意図した設定を行なうことができないだろう。</p><p><em class="parameter"><code>%u</code></em> は、クライアントが接続する際に使用した UNIX のユーザ名に置換される。<em class="parameter"><code>%m</code></em> は、接続してきたマシンの NetBIOS 名に置換される。これらの置換機能は、ユーザに仮想的なホームディレクトリを設定する際非常に有用である。</p><p><a class="link" href="smb.conf.5.html#ROOTDIR" target="_top">root dir</a> が指定されていた場合、このパラメータもその影響を受けることに注意。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>path</code></em> = <code class="literal"/>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>path</code></em> = <code class="literal">/home/fred</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="perfcount module (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2565949"/>

perfcount module (G)
</h3></div></div></div><a class="indexterm" name="id2565950"/><a name="PERFCOUNTMODULE"/><div class="variablelist"><dl><dt/><dd><p>
SMB の操作をモニタリングする際に使用する perfcount バックエンドを指定する。
perfcount モジュールはひとつだけ指定できる。そのモジュールは、smb.h
で定義されている smb_perfcount_handler 構造体にある API をすべて
実装していなければならない。
	</p><p><span class="emphasis"><em>既定値なし</em></span></p></dd></dl></div></div><div class="section" title="pid directory (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2565989"/>

pid directory (G)
</h3></div></div></div><a class="indexterm" name="id2565990"/><a name="PIDDIRECTORY"/><div class="variablelist"><dl><dt/><dd><p>このオプションにより、
	pid ファイルがおかれるディレクトリが指定される。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>pid directory</code></em> = <code class="literal">${prefix}/var/locks</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>pid directory</code></em> = <code class="literal">pid directory = /var/run/</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="posix locking (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2566049"/>

posix locking (S)
</h3></div></div></div><a class="indexterm" name="id2566050"/><a name="POSIXLOCKING"/><div class="variablelist"><dl><dt/><dd><p><a class="citerefentry" href="smbd.8.html"><span class="citerefentry"><span class="refentrytitle">smbd</span>(8)</span></a>
	デーモンでは、 SMB クライアントによって行なわれたファイルロックの情報を記録するデータベースを管理している。
	既定値の動作は、この内部データベースをPOSIXロックにもマッピング(反映)する。
	SMB以外の方式(たとえばNFSやローカルなファイルアクセス)
	経由で、ファイルにアクセスするPOSIX互換のアプリケーション
        によって認識されたものと、整合性が取れると言うことである。
	このパラメータを無効にする必要はまずないであろう。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>posix locking</code></em> = <code class="literal">yes</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="postexec (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2566107"/>

postexec (S)
</h3></div></div></div><a class="indexterm" name="id2566108"/><a name="POSTEXEC"/><div class="variablelist"><dl><dt/><dd><p>このオプションは、
	サービスから切断した際に常に起動されるコマンドを指定する。
	このパラメータでは通常の Samba の変数も利用できる。
	システムによってはコマンドが root で実行される場合もあるかも知れない。</p><p> 面白い例としては、サーバのリソースを umount するような用途が考えられる:</p><p><code class="literal">postexec = /etc/umount /cdrom</code></p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>postexec</code></em> = <code class="literal"/>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>postexec</code></em> = <code class="literal">echo \"%u disconnected from %S from %m (%I)\" &gt;&gt; /tmp/log</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="exec"><div class="titlepage"><div><div><h3 class="title"><a name="id2566185"/>

<a name="EXEC"/>exec
</h3></div></div></div><a class="indexterm" name="id2566186"/><div class="variablelist"><dl><dt/><dd><p>このパラメータは右記のパラメータの別名である：<a class="link" href="#PREEXEC">preexec</a>.</p></dd></dl></div></div><div class="section" title="preexec (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2566218"/>

preexec (S)
</h3></div></div></div><a class="indexterm" name="id2566219"/><a name="PREEXEC"/><div class="variablelist"><dl><dt/><dd><p>このオプションは、サービスへ接続した際に必ず実行されるコマンドを指定する。
	このパラメータでは通常のSambaの変数も利用できる。</p><p> 面白い例としては、接続する度に、
	ユーザに歓迎(welcome)メッセージを送るような用途が考えられる。
	その日の一言 (message of the day) も面白いかも知れない。以下に例を示す:</p><p>
	<code class="literal">preexec = csh -c 'echo \"Welcome to %S!\" |
	/usr/local/samba/bin/smbclient -M %m -I %I' &amp; </code>
	</p><p>無論、しばらく経つとこれはイライラのもとになるだけだろう :-)。</p><p>
	<a class="link" href="smb.conf.5.html#PREEXECCLOSE" target="_top">preexec close</a> や <a class="link" href="smb.conf.5.html#POSTEXEC" target="_top">postexec</a> も参照のこと。
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>preexec</code></em> = <code class="literal"/>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>preexec</code></em> = <code class="literal">echo \"%u connected to %S from %m (%I)\" &gt;&gt; /tmp/log</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="preexec close (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2566334"/>

preexec close (S)
</h3></div></div></div><a class="indexterm" name="id2566335"/><a name="PREEXECCLOSE"/><div class="variablelist"><dl><dt/><dd><p>この真偽値オプションは、<a class="link" href="smb.conf.5.html#PREEXEC" target="_top">preexec</a> 
	で指定したコマンドから 0 以外の戻り値が返却された際に、
	サービスへの接続をクローズするかどうかを制御する。
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>preexec close</code></em> = <code class="literal">no</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="prefered master"><div class="titlepage"><div><div><h3 class="title"><a name="id2566392"/>

<a name="PREFEREDMASTER"/>prefered master
</h3></div></div></div><a class="indexterm" name="id2566394"/><div class="variablelist"><dl><dt/><dd><p>このパラメータは右記のパラメータの別名である：<a class="link" href="#PREFERREDMASTER">preferred master</a>.</p></dd></dl></div></div><div class="section" title="preferred master (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2566427"/>

preferred master (G)
</h3></div></div></div><a class="indexterm" name="id2566428"/><a name="PREFERREDMASTER"/><div class="variablelist"><dl><dt/><dd><p>この真偽値パラメータは、
    <a class="citerefentry" href="nmbd.8.html"><span class="citerefentry"><span class="refentrytitle">nmbd</span>(8)</span></a> が
    ワークグループのマスタブラウザとして優先されるかどうかに影響する。</p><p> これが <code class="constant">yes</code> に設定されていると、
    <code class="literal">nmbd</code> は起動時にブラウザの選定を強要する。
    また、選定時の優先度でも、わずかではあるが有利になる。
    このパラメータは、<code class="literal">nmbd</code> がドメインマスタブラウザになることを保証するために、
    <a class="link" href="smb.conf.5.html#DOMAINMASTER" target="_top">domain master = yes</a> の設定と連携して使用することが推奨されている。
    (訳注: Samba 3.0 系列では、<a class="link" href="smb.conf.5.html#DOMAINLOGONS" target="_top">domain logons = Yes</a>の場合 <a class="link" href="smb.conf.5.html#PREFERREDMASTER" target="_top">preferred master</a>  パラメータもデフォルトでは有効となる。<em class="parameter"><code>domain logons</code></em> が有効でない場合(デフォルト)、<em class="parameter"><code>domain master</code></em> もデフォルトでは有効にならない。</p><p> 同じサブネット上に優先マスタブラウザに指定されたホスト(Samba
    サーバ、Windows 95/NT のいずれの場合も)が複数台存在すると、
    それらのホストは定期的にローカルマスタブラウザになろうとする
    試みを永続的に繰り返すことになる。
    これは不要なブロードキャストトラフィックを発生させるだけでなく、
    ブラウジング機能自体にも支障を発生させてしまうため、このオプションは注意して扱うこと。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>preferred master</code></em> = <code class="literal">auto</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="auto services"><div class="titlepage"><div><div><h3 class="title"><a name="id2566577"/>

<a name="AUTOSERVICES"/>auto services
</h3></div></div></div><a class="indexterm" name="id2566578"/><div class="variablelist"><dl><dt/><dd><p>このパラメータは右記のパラメータの別名である：<a class="link" href="#PRELOAD">preload</a>.</p></dd></dl></div></div><div class="section" title="preload (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2566611"/>

preload (G)
</h3></div></div></div><a class="indexterm" name="id2566612"/><a name="PRELOAD"/><div class="variablelist"><dl><dt/><dd><p>このパラメータは、
	自動的にブラウズリスト上に追加したいサービスのリストを設定する。
	このパラメータを利用しないと不可視になる
	homes や printers サービスにとって有用である。</p><p> printcap ファイルにあるすべてのプリンタを指定したい場合は、
	<a class="link" href="smb.conf.5.html#LOADPRINTERS" target="_top">load printers</a>
	オプションを利用する方が簡単である。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>preload</code></em> = <code class="literal"/>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>preload</code></em> = <code class="literal">fred lp colorlp</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="preload modules (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2566692"/>

preload modules (G)
</h3></div></div></div><a class="indexterm" name="id2566693"/><a name="PRELOADMODULES"/><div class="variablelist"><dl><dt/><dd><p>このパラメータには、クライアントの接続前に smbd にロードされるモジュールのパスのリストを指定する。
	これにより smbd が新しい接続を開始する際の時間が短縮される。
        </p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>preload modules</code></em> = <code class="literal"/>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>preload modules</code></em> = <code class="literal">/usr/lib/samba/passdb/mysql.so</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="preserve case (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2566754"/>

preserve case (S)
</h3></div></div></div><a class="indexterm" name="id2566755"/><a name="PRESERVECASE"/><div class="variablelist"><dl><dt/><dd><p> クライアントから送信されてきた新しいファイル名中の大文字小文字をそのまま利用するか、
	<a class="link" href="smb.conf.5.html#DEFAULTCASE" target="_top">default case</a> 
        パラメータの設定を強制するかどうかを設定する。
	</p><p>この設定に関する詳細については、
	<a class="link" href="#NAMEMANGLINGSECT" title="名前の短縮(NAME MANGLING)">名前の短縮</a> セクションを参照のこと。
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>preserve case</code></em> = <code class="literal">yes</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="print ok"><div class="titlepage"><div><div><h3 class="title"><a name="id2566827"/>

<a name="PRINTOK"/>print ok
</h3></div></div></div><a class="indexterm" name="id2566828"/><div class="variablelist"><dl><dt/><dd><p>このパラメータは右記のパラメータの別名である：<a class="link" href="#PRINTABLE">printable</a>.</p></dd></dl></div></div><div class="section" title="printable (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2566858"/>

printable (S)
</h3></div></div></div><a class="indexterm" name="id2566860"/><a name="PRINTABLE"/><div class="variablelist"><dl><dt/><dd><p>このパラメータが
	<code class="constant">yes</code> の場合に、
	クライアントから指定されたディレクトリにスプールファイルを書き込むことが可能になる。</p><p> 印刷可能(printable)なサービスでは、
	(ユーザがUNIX上に権限をもっている限り)印刷データをスプールファイルに書き込むことが常に可能となることに注意。
        <a class="link" href="smb.conf.5.html#READONLY" target="_top">read only</a> パラメータは、
	リソースに対する印刷以外のアクセスにのみ影響する。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>printable</code></em> = <code class="literal">no</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="printcap cache time (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2566932"/>

printcap cache time (G)
</h3></div></div></div><a class="indexterm" name="id2566933"/><a name="PRINTCAPCACHETIME"/><div class="variablelist"><dl><dt/><dd><p>このオプションにより、印刷サブシステムがプリンタの一覧情報を再確認するまでの時間を秒単位で制御することが可能となる。
    この値が 60 より大きい場合、
    初回の再確認時間は 60 秒に設定される。
    これは、印刷サブシステムが初回の再確認を早期に実行するためである。
    </p><p>このパラメータを 0 にすると、
    起動後に新しいプリンタや削除されたプリンタを再確認する機能が無効化される。
    </p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>printcap cache time</code></em> = <code class="literal">750</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>printcap cache time</code></em> = <code class="literal">600</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="printcap"><div class="titlepage"><div><div><h3 class="title"><a name="id2567010"/>

<a name="PRINTCAP"/>printcap
</h3></div></div></div><a class="indexterm" name="id2567011"/><div class="variablelist"><dl><dt/><dd><p>このパラメータは右記のパラメータの別名である：<a class="link" href="#PRINTCAPNAME">printcap name</a>.</p></dd></dl></div></div><div class="section" title="printcap name (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2567043"/>

printcap name (S)
</h3></div></div></div><a class="indexterm" name="id2567044"/><a name="PRINTCAPNAME"/><div class="variablelist"><dl><dt/><dd><p>このパラメータは、
	コンパイル時に設定されるデフォルトでサーバが用いる printcap ファイル名
	(通常 <code class="filename">/etc/printcap</code>) を上書きにするために使われる。
	このパラメータを設定すべき状況については、前述した
	<a class="link" href="#PRINTERSSECT" title="[printers] セクション">[printers]</a> セクションに関する説明を参照のこと。</p><p>CUPS 印刷インタフェースを利用する際は、<code class="literal">printcap name = cups
	</code> という設定を行なうこと。これにより [global] セクションの
        <a class="link" href="smb.conf.5.html#PRINTING" target="_top">printing = cups</a> パラメータにより補完される。
	 <code class="literal">printcap name = cups</code> により、
	CUPS の設定ファイルによって指定された、
	CUPS によって作成される"ダミー"の printcap が用いられるようになる。 
	</p><p> <code class="literal">lpstat</code> を利用することで
	利用可能なプリンタの一覧を取得できる System V のシステムでは、
	<code class="literal">printcap name = lpstat</code>
	と設定することで、利用可能なプリンタの一覧を自動的に取得できる。
	(ほとんどの System V ベースのシステムが該当する)では、これが既定値である。
	これらのシステムで <em class="parameter"><code>printcap name</code></em> に
	<code class="literal">lpstat</code> が設定されると、
	Samba は <code class="literal">lpstat -v</code> を実行し、その出力からプリンタ一覧を取得する。</p><p> 最低限の printcap ファイルは下記のようなものである:
</p><pre class="programlisting">
print1|My Printer 1
print2|My Printer 2
print3|My Printer 3
print4|My Printer 4
print5|My Printer 5
</pre><p>
	'|' によって、プリンタの別名が区切られる。
	ただし、2 番目の別名中に空白があると、
	Samba はそれをプリンタのコメントであると判断する。</p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>AIXにおけるデフォルトの printcap ファイルの名前は、
	<code class="filename">/etc/qconfig</code>である。printcap ファイルの名前が 
	<code class="filename">qconfig</code> の場合、Samba はファイルが AIXの <code class="filename">qconfig</code>形式であると仮定する。</p></div><p>既定値: <span class="emphasis"><em><em class="parameter"><code>printcap name</code></em> = <code class="literal">/etc/printcap</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>printcap name</code></em> = <code class="literal">/etc/myprintcap</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="print command (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2567259"/>

print command (S)
</h3></div></div></div><a class="indexterm" name="id2567260"/><a name="PRINTCOMMAND"/><div class="variablelist"><dl><dt/><dd><p>印刷ジョブが、スプールファイルの書き込みを完了した後で、
	ここで指定したコマンドが <code class="literal">system()</code> 
	関数経由でスプールファイルを処理するために、利用される。
	通常、指定したコマンドはスプールファイルをホストの印刷サブシステムに送信するが、
	そうしなければならないということはない。 
	サーバはスプールファイルを削除しないので、
	指定したコマンドが処理完了後にスプールファイルを削除しなければならない。
	さもなければ、古いスプールファイルを手動で削除する必要がある。</p><p> print command は、単純なテキスト文字列である。
	これは、以下のマクロが置換される他はそのまま利用される。</p><p>%s, %f - スプールファイル名へのパス
	</p><p>%p - プリンタ名
	</p><p>%J - the job 
	クライアントから送信されたジョブ名</p><p>%c - スプールされたジョブのうち、
	すでに印刷されたページ数(検知可能な場合)</p><p>%z - スプールされた印刷ジョブのサイズ
	(バイト)</p><p> print command には、<span class="emphasis"><em>最低限</em></span> <em class="parameter"><code>%s</code></em> もしくは <em class="parameter"><code>%f</code></em> の記述が必要である。
	<em class="parameter"><code>%p</code></em> については必須ではない。
	ジョブの実行時にプリンタ名が指定されていない場合、
	<em class="parameter"><code>%p</code></em> は単に print command から無視される。</p><p> [global] セクション中で指定された print command は、
	独自の print command が設定されていない各印刷サービスに適用される。
	</p><p> 印刷サービスに print command の定義がなく、
	グローバルな print command の定義もない場合、
	スプールファイルは作成されるが処理されず、(これが最も重要だが)削除されない。</p><p> UNIX プラットフォームによっては
	<code class="constant">nobody</code> アカウントを用いた印刷が失敗する場合があるので注意して欲しい。
	この場合、印刷の実行が可能な別のゲストアカウントを作成し、
	[global] セクション中の <a class="link" href="smb.conf.5.html#GUESTACCOUNT" target="_top">guest account</a> に設定すること。</p><p> シェルで解析できる限りの非常に複雑な print command を記述することが可能である。
	以下の例では印刷ジョブを記録し、ファイルを印刷してからそれを削除している。
	';' はシェルスクリプトにおいて、
	通常コマンド間のセパレータとして用いられることに注意。</p><p><code class="literal">print command = echo Printing %s &gt;&gt; 
    /tmp/print.log; lpr -P %p %s; rm %s</code></p><p> システムでファイルを印刷する一般的な方法によっては、
	このコマンドを適宜変更する必要があるかもしれない。
	パラメータの既定値は、<a class="link" href="smb.conf.5.html#PRINTING" target="_top">printing</a>
    パラメータの設定に応じて変化する。</p><p>デフォルト: <code class="literal">printing = BSD, AIX, QNX, LPRNG, 
	PLPの場合:</code></p><p><code class="literal">print command = lpr -r -P%p %s</code></p><p><code class="literal">printing = SYSV, HPUXの場合:</code></p><p><code class="literal">print command = lp -c -d%p %s; rm %s</code></p><p><code class="literal">printing = SOFTQの場合:</code></p><p><code class="literal">print command = lp -d%p -s %s; rm %s</code></p><p>printing = CUPS の場合:   
	Samba が libcups を利用してコンパイルされた場合、
    <a class="link" href="smb.conf.5.html#PRINTCAP" target="_top">printcap = cups</a> 
	は、ジョブの送信などに CUPS API を利用する。
	それ以外の場合は、<code class="literal">lp -c -d%p -oraw; rm %s</code> のように、
	System V 系の印刷用コマンドに -oraw オプションをつけたものに対応づけられる。
	Samba が libcups を利用してコンパイルされ、
	<code class="literal">printing = cups</code> の設定が行なわれた場合、
	手動で設定された print コマンドは無視される。</p><p><span class="emphasis"><em>既定値なし</em></span></p><p>例: <span class="emphasis"><em><em class="parameter"><code>print command</code></em> = <code class="literal">/usr/local/samba/bin/myprintscript %p %s</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="printer admin (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2567580"/>

printer admin (S)
</h3></div></div></div><a class="indexterm" name="id2567581"/><a name="PRINTERADMIN"/><div class="variablelist"><dl><dt/><dd><p> このパラメータには、
    MS-RPC(通常Windows NT Workstationによって使用される)による、
    遠隔からのプリンタ管理インタフェース経由でプリンタに対するすべての操作を行なう権限をもつユーザのリストを設定する。
    このパラメータは共有単位に指定することも Samba 全体に対して指定することも可能である。
    root は常にこの権限をもつことに注意。
    このパラメータを Samba 全体に対して設定した場合、思わぬ副作用を招く可能性があるので、注意すること。
    </p><p>
    このパラメータは SePrintOperatorPrivilege ユーザ権利とプリンタのア
    クセス許可により、廃止予定のパラメータとなっている。
    将来のリリースでは廃止されるだろう。
    </p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>printer admin</code></em> = <code class="literal"/>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>printer admin</code></em> = <code class="literal">admin, @staff</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="printer"><div class="titlepage"><div><div><h3 class="title"><a name="id2567670"/>

<a name="PRINTER"/>printer
</h3></div></div></div><a class="indexterm" name="id2567671"/><div class="variablelist"><dl><dt/><dd><p>このパラメータは右記のパラメータの別名である：<a class="link" href="#PRINTERNAME">printer name</a>.</p></dd></dl></div></div><div class="section" title="printer name (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2567702"/>

printer name (S)
</h3></div></div></div><a class="indexterm" name="id2567703"/><a name="PRINTERNAME"/><div class="variablelist"><dl><dt/><dd><p>このパラメータは、印刷サービスに対して印刷ジョブが送られた際に、
	それをスプールするプリンタ名を設定する。</p><p> [global] セクションで設定された場合、
	そのプリンタ名は、独自のプリンタ名が指定されていないすべての
	印刷サービスで利用される。</p><p>
    <a class="link" href="smb.conf.5.html#PRINTERNAME" target="_top">printer name</a> の既定値は 、
    大半のシステムで <code class="literal">lp</code> である。
    </p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>printer name</code></em> = <code class="literal">なし</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>printer name</code></em> = <code class="literal">laserwriter</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="printing (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2567794"/>

printing (S)
</h3></div></div></div><a class="indexterm" name="id2567795"/><a name="PRINTING"/><div class="variablelist"><dl><dt/><dd><p>
		このパラメータは、プリンタの状態に関する情報をどのように解釈するかを設定する。
		このオプションが[global] セクションで指定された場合、
		<em class="parameter"><code>print command</code></em>、
		<em class="parameter"><code>lpq command</code></em>、
		<em class="parameter"><code>lppause command</code></em>、
		<em class="parameter"><code>lpresume command</code></em>、
		<em class="parameter"><code>lprm command</code></em>の既定値にも影響する。
	</p><p>
    	現時点で指定できる印刷形式は
	    <code class="constant">BSD</code> / <code class="constant">AIX</code> / 
	    <code class="constant">LPRNG</code> / <code class="constant">PLP</code> / 
	    <code class="constant">SYSV</code> / <code class="constant">HPUX</code> / 
	    <code class="constant">QNX</code> / <code class="constant">SOFTQ</code> / 
    	<code class="constant">CUPS</code>の9種類である。</p><p>種々のオプションを使うとき、他の print command の既定値が何であるかを確認する
      ためには、<a class="citerefentry" href="testparm.1.html"><span class="citerefentry"><span class="refentrytitle">testparm</span>(1)</span></a>プログラムを使う。</p><p>
		このオプションを設定した際に、関連する印刷コマンドの
	既定値がどのように設定されるかを確認する際は、
		<a class="citerefentry" href="testparm.1.html"><span class="citerefentry"><span class="refentrytitle">testparm</span>(1)</span></a>プログラムを使用すること。
    </p><p>このオプションはプリンタ毎に設定することが可能である。
    各種の印刷に関するコマンド (print command や lpq command など) で
    既定値の設定を上書きさせる場合は、
    <em class="parameter"><code>printing</code></em> パラメータの設定後に指定する必要があることに注意。
    </p><p><a class="link" href="#PRINTERSSECT" title="[printers] セクション">
    [printers]</a> セクションでの説明も参照のこと。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>printing</code></em> = <code class="literal">
	OSによって異なるため<code class="literal">testparm -v</code>で確認する。
</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="printjob username (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2567977"/>

printjob username (S)
</h3></div></div></div><a class="indexterm" name="id2567978"/><a name="PRINTJOBUSERNAME"/><div class="variablelist"><dl><dt/><dd><p>このパラメータはプリンとシステムにどちらのユーザ情報が渡されるかを
	指定する。通常、ユーザ名が送られる。しかし、いくつかの場合、たとえば、
	ドメインプレフィックスも一緒にした方が便利な場合もある。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>printjob username</code></em> = <code class="literal">%U</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>printjob username</code></em> = <code class="literal">%D\%U</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="private dir (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2568040"/>

private dir (G)
</h3></div></div></div><a class="indexterm" name="id2568041"/><a name="PRIVATEDIR"/><div class="variablelist"><dl><dt/><dd><p>このパラメータは、 smbd が
    <code class="filename">smbpasswd</code>
    や <code class="filename">secrets.tdb</code>
    といったファイルを格納するために使用するディレクトリを指定する。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>private dir</code></em> = <code class="literal">${prefix}/private</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="profile acls (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2568097"/>

profile acls (S)
</h3></div></div></div><a class="indexterm" name="id2568098"/><a name="PROFILEACLS"/><div class="variablelist"><dl><dt/><dd><p>この真偽値パラメータは、Windows 2000 もしくは Windows XP 用のユーザプロファイルを Samba サーバ上の共有に格納する際に発生する問題に対処するため作成された。
	Windows 2000 や Windows XP の新しいサービスパック(訳注: 各々 SP4 と SP1) では、セキュリティの ACL チェックが行なわれるようになり、ローカルのワークステーション上に格納されているプロファイルのコピーを Samba 上の共有にコピーする際に、プロファイルのディレクトリの所有者と書き込み権をチェックするようになった。
</p><p>winbindd を用いたドメインモードで運用していない場合、ローカルワークステーション上に複製された、ワークステーションにログオン中ユーザのセキュリティ情報 (SID) は無意味なため、結果としてプロファイルの格納に失敗する。
	このパラメータをプロファイルの格納に使用する共有で有効にすることにより、クライアントに返却される Windows の ACL について、以下の 2 点が変更となる。
	まず、すべてのファイルおよびディレクトリの所有者とグループの所有者が、各々 BUILTIN\Administrators および BUILTIN\Users となる (SID は各々 S-1-5-32-544 と S-1-5-32-545)。
	次に、返却されるすべての ACL に対して BUILTIN\Users にフルコントロールの ACE が付加される。
	これにより、Windows 2000 および Windows XP のワークステーションのユーザがプロファイルにアクセスできるようになる。
	</p><p>
	ワークステーションに複数のユーザがログオンする環境の場合、別ユーザのプロファイルへのアクセスを禁止するためには、「捜査チェックのバイパス」権利を削除する必要がある。
	プロファイルディレクトリのトップ(ユーザ名を含む名称となっている)がワークステーション上で作成される際、所有するユーザ以外のアクセスを禁止するような ACL が設定されるため、この設定により、別のユーザのプロファイルディレクトリへのアクセスを禁止することができる。
    </p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>profile acls</code></em> = <code class="literal">no</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="queuepause command (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2568217"/>

queuepause command (S)
</h3></div></div></div><a class="indexterm" name="id2568218"/><a name="QUEUEPAUSECOMMAND"/><div class="variablelist"><dl><dt/><dd><p>このパラメータは、印刷キューを一時停止させるために、
	サーバ上で実行するコマンドを指定する。</p><p> このコマンドは、引数としてプリンタ名をとり、
	印刷キューにある印刷ジョブの送信を停止させるために印刷キューを停止させる機能を持つ
	プログラムまたはスクリプトである必要がある。</p><p> Windows 95 や Windows NTでは、
	「プリンタ」ウインドウからこのコマンドを発行することができるが、
	Windows for Workgroups ではこのコマンドがサポートされていない。</p><p> コマンド中に <em class="parameter"><code>%p</code></em>
    が指定された場合は、プリンタ名がそこに引数として置かれる。
    それ以外の場合、プリンタ名はコマンド文字列の最後におかれる。
    </p><p>
	サーバ上で PATH 環境変数が設定されていない場合を想定して、
	コマンドをフルパスで記述することが推奨される。
	</p><p><span class="emphasis"><em>既定値なし</em></span></p><p>例: <span class="emphasis"><em><em class="parameter"><code>queuepause command</code></em> = <code class="literal">disable %p</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="queueresume command (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2568313"/>

queueresume command (S)
</h3></div></div></div><a class="indexterm" name="id2568314"/><a name="QUEUERESUMECOMMAND"/><div class="variablelist"><dl><dt/><dd><p>このパラメータは、印刷キューを再開させるために、
	サーバ上で実行するコマンドを指定する。
	これは、前述したパラメータ
    (<a class="link" href="smb.conf.5.html#QUEUEPAUSECOMMAND" target="_top">queuepause command</a>)
    によって一時停止された動作を再開させるコマンドになる。</p><p> このコマンドは、引数としてプリンタ名をとり、
	印刷キューにある印刷ジョブを再度プリンタへ送信させるために印刷キューを再開する機能を持つ
	プログラムまたはスクリプトである必要がある。</p><p> Windows 95 や Windows NTでは、
	「プリンタ」ウインドウからこのコマンドを発行することができるが、
	Windows for Workgroups ではこのコマンドがサポートされていない。</p><p> コマンド中に <em class="parameter"><code>%p</code></em>
    が指定された場合は、プリンタ名がそこに引数として置かれる。
    それ以外の場合、プリンタ名はコマンド文字列の最後におかれる。
    </p><p>
	サーバ上で PATH 環境変数が設定されていない場合を想定して、
	コマンドをフルパスで記述することが推奨される。
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>queueresume command</code></em> = <code class="literal"/>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>queueresume command</code></em> = <code class="literal">enable %p</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="read list (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2568437"/>

read list (S)
</h3></div></div></div><a class="indexterm" name="id2568438"/><a name="READLIST"/><div class="variablelist"><dl><dt/><dd><p> これは、サービスに対して読み取りアクセス許可のみを与えられたユーザのリストである。
    接続したユーザがこのリスト中に存在する場合、
    <a class="link" href="smb.conf.5.html#READONLY" target="_top">read only</a> パラメータの値がどのように設定されていても、
    書き込みアクセス許可は与えられない。
    リストには 
    <a class="link" href="smb.conf.5.html#INVALIDUSERS" target="_top">invalid users</a>
    パラメータの説明で記述した形式を使って、グループ名を含めることも可能である。</p><p>
    Samba 3.0 系列において、このパラメータは
    <a class="link" href="smb.conf.5.html#SECURITY" target="_top">security = share</a> の環境で動作しない。これは仕様である。
    </p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>read list</code></em> = <code class="literal"/>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>read list</code></em> = <code class="literal">mary, @students</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="read only (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2568552"/>

read only (S)
</h3></div></div></div><a class="indexterm" name="id2568553"/><a name="READONLY"/><div class="variablelist"><dl><dt/><dd><p><a class="link" href="smb.conf.5.html#WRITEABLE" target="_top">writeable</a>
    の反意語である。</p><p>このパラメータが <code class="constant">yes</code> の場合、
    ユーザは、サービスのディレクトリ内におけるファイルの作成も修正もできない。
    </p><p>印刷サービス(<code class="literal">printable = yes</code>)の場合、
    ユーザは<span class="emphasis"><em>常に</em></span>(アクセス権を持っている)
    ディレクトリに対して書き込むことが可能であるが、書き込みはスプール操作経由に限られる。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>read only</code></em> = <code class="literal">yes</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="read raw (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2568635"/>

read raw (G)
</h3></div></div></div><a class="indexterm" name="id2568636"/><a name="READRAW"/><div class="variablelist"><dl><dt/><dd><p>このパラメータは、データをクライアントに転送する際に、
    サーバ側で raw read SMB リクエストをサポートするかどうかを設定する。
    </p><p> 有効な場合、
    raw read SMB により、1パケットあたり 65535 バイトの読み込みが可能となる。
    これは性能の向上に大きく貢献する。</p><p>ただし、クライアントによっては、ブロックサイズを誤認識したり、
    大きなブロックサイズを利用できなかったりするので、その場合は、
    raw read を無効にする必要があるだろう。</p><p> このパラメータは、システムのチューニングパラメータであり、
    通常は設定を変更すべきものではない。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>read raw</code></em> = <code class="literal">yes</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="realm (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2568704"/>

realm (G)
</h3></div></div></div><a class="indexterm" name="id2568705"/><a name="REALM"/><div class="variablelist"><dl><dt/><dd><p>このオプションは、使用する Kerberos レルムを指定する。
        レルムは Windows NT 4.0 における<code class="literal">ドメイン</code>に相当する Active Directory の概念である。
        レルムには、通常 Kerberos サーバの DNS 名が設定される。
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>realm</code></em> = <code class="literal"/>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>realm</code></em> = <code class="literal">mysambabox.mycompany.com</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="registry shares (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2568770"/>

registry shares (G)
</h3></div></div></div><a class="indexterm" name="id2568772"/><a name="REGISTRYSHARES"/><div class="variablelist"><dl><dt/><dd><p>
レジストリから参照される共有定義のサポートのオンオフを切り替える。
<span class="emphasis"><em>smb.conf</em></span> で定義された共有は、レジストリ内に同じ名前で
定義されたものより優先する。詳細はレジストリベースの設定の章を参照してほしい。
	</p><p>
注意：このパラメータはデフォルトでは <span class="emphasis"><em>no</em></span> であるが、
<em class="parameter"><code>config backend</code></em> が <span class="emphasis"><em>registry</em></span>
にセットされている場合は<span class="emphasis"><em>yes</em></span> となる。
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>registry shares</code></em> = <code class="literal">no</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>registry shares</code></em> = <code class="literal">yes</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="remote announce (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2568866"/>

remote announce (G)
</h3></div></div></div><a class="indexterm" name="id2568867"/><a name="REMOTEANNOUNCE"/><div class="variablelist"><dl><dt/><dd><p>このオプションにより、
	<a class="citerefentry" href="nmbd.8.html"><span class="citerefentry"><span class="refentrytitle">nmbd</span>(8)</span></a> 
	は、指定したIPアドレスに対して設定したワークグループ情報を定期的にアナウンスするようになる。
	</p><p>
	これは、Samba サーバを通常のブラウズリストの交換ができない別のワークグループ上に表示させたい場合に有用である。
	別のワークグループは、IP パケットを送信できるところであればどこにあってもよい。
	</p><p>以下に例を示す:
</p><pre class="programlisting">
<code class="literal">remote announce = 192.168.2.255/SERVERS 192.168.4.255/STAFF</code>
</pre><p>
	上記の設定は、<code class="literal">nmbd</code> が指定された2つのアドレスに対して、
	指定されたワークグループ名を使って自身のアナウンスを行なう設定である。
	ワークグループ名を指定しなかった場合、
	<a class="link" href="smb.conf.5.html#WORKGROUP" target="_top">workgroup</a>
	パラメータで指定された値が代わりに利用される。
	</p><p>設定するIPアドレスとしては、
	通常リモートネットワークのブロードキャストが用いられるが、
	ネットワークが安定していれば、マスタブラウザのIPアドレスを指定することもできる。</p><p>
	Samba HOWTO の Network Browsing 章を参照のこと。
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>remote announce</code></em> = <code class="literal"/>
</em></span>
</p></dd></dl></div></div><div class="section" title="remote browse sync (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2568989"/>

remote browse sync (G)
</h3></div></div></div><a class="indexterm" name="id2568990"/><a name="REMOTEBROWSESYNC"/><div class="variablelist"><dl><dt/><dd><p>このオプションにより、 <a class="citerefentry" href="nmbd.8.html"><span class="citerefentry"><span class="refentrytitle">nmbd</span>(8)</span></a> が、
	別セグメントにある Samba サーバのマスタブラウザと定期的にブラウズリストの同期要求を行なうように構成される。
	このオプションにより、
	ルーティングされたネットワーク上に存在する複数ワークグループからなるブラウズリストを構築することが可能になる。
	これは Samba 固有の方式で動作するため、	Samba 以外のサーバでは機能しない。</p><p>これは、Samba サーバおよび同じセグメント上のクライアントマシンを、
	通常のブラウズリストの交換ができない別のワークグループ上に表示させたい場合に有用である。
	別のワークグループは、IP パケットを送信できるところであればどこにあってもよい。
	</p><p>以下に例を示す:
</p><pre class="programlisting">
<em class="parameter"><code>remote browse sync = 192.168.2.255 192.168.4.255</code></em>
</pre><p>
	上記の設定は、<code class="literal">nmbd</code>が指定されたサブネットのマスタブラウザに対して、
	ローカルサーバとのブラウズリストの同期を要求する設定である。</p><p>
	設定するIPアドレスとしては、
	通常リモートネットワークのブロードキャストが用いられるが、
	ネットワークが安定していればマスタブラウザのIPアドレスを指定することもできる。
	IPアドレスが設定された場合、Sambaはそのマシンが起動していて、
	要求を待っているかについても、そのセグメントのマスタブラウザであるかどうかについても確認しない。
	</p><p>
	<a class="link" href="smb.conf.5.html#REMOTEBROWSESYNC" target="_top">remote browse sync</a> は、
	WINS サーバが存在しない場合も、
	ネットワーク毎に異なる WINS サーバを指定している場合にも用いることができる。
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>remote browse sync</code></em> = <code class="literal"/>
</em></span>
</p></dd></dl></div></div><div class="section" title="rename user script (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2569122"/>

rename user script (G)
</h3></div></div></div><a class="indexterm" name="id2569123"/><a name="RENAMEUSERSCRIPT"/><div class="variablelist"><dl><dt/><dd><p>このパラメータは、以下に記述する特別な条件下において、 <a class="citerefentry" href="smbd.8.html"><span class="citerefentry"><span class="refentrytitle">smbd</span>(8)</span></a> によって <span class="emphasis"><em>ROOT 権限で</em></span> 実行されるスクリプトのフルパス名である。</p><p>
    管理者権限もしくは SeAddUserPrivilege ユーザ権利を保持しているユーザは、（NT4 のドメイン ユーザー マネージャなどから）このスクリプトを実行して、POSIX ユーザの名前を変更することが可能となる。
    <code class="literal">%uold</code> および <code class="literal">%unew</code> という 2 つの変数が利用可能で、各々古いユーザ名と新しいユーザ名とに置換される。
    このスクリプトは成功時に 0 を返却し、それ以外の特に 0 以外の値を返却する必要がある。
    </p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
    このスクリプトは POSIX 機構でアクセスが行なわれるすべての情報について名前を変更する必要があるが、パスワード機構により必要とされる変更箇所が異なる。
    tdbsam と smbpasswd の場合、各ファイル中の情報についての変更は自動的に行なわれるため、スクリプト側では POSIX のユーザ名とホームディレクトリなどの環境依存で必要とされるデータの変更だけを行なえば良い。
    ホームディレクトリの名前自体を変更する必要があるかも検討すべきだろう。
    ldapsam の場合、LDAP のネーミング属性（LDAP naming attribute）を変更することには潜在的な問題があるため、LDAP 中の情報については全く変更が行なわれない。
    この場合、スクリプト側で責任を持って Samba がユーザの識別に用いる属性（UID）および同じディレクトリを利用する他のアプリケーションが参照する情報の変更を行なう必要がある。
	</p></div><p>既定値: <span class="emphasis"><em><em class="parameter"><code>rename user script</code></em> = <code class="literal">no</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="reset on zero vc (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2569247"/>

reset on zero vc (G)
</h3></div></div></div><a class="indexterm" name="id2569248"/><a name="RESETONZEROVC"/><div class="variablelist"><dl><dt/><dd><p>
	この真偽値オプションは、到着したセッションセットアップが、
	同一の IP アドレスからの別のセッションを切断するかを制御する。
	これは Windows Server 2003 のデフォルトの挙動である。

	ネットワークが不安定で、 Windows が、古い接続がファイルを共有モードでオープンしているにも関わらず、再接続を試行してしまうような環境では、このパラメータを yes にする必要があるだろう。
	これらのファイルは、新しい接続経由ではアクセスできなくなるが、
	クライアントが新しい接続中で 0 VC を送信すると、Windows Server 2003 は同一の IP が送信元のすべての他の接続を切断する。
	これにより、ロックされたファイルが再度アクセスできるようになる。

	このオプションを有効にすると、ルータで同一 IP アドレスに隠蔽されている接続も切断されてしまうことに注意。
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>reset on zero vc</code></em> = <code class="literal">no</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="restrict anonymous (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2569319"/>

restrict anonymous (G)
</h3></div></div></div><a class="indexterm" name="id2569320"/><a name="RESTRICTANONYMOUS"/><div class="variablelist"><dl><dt/><dd><p>このパラメータは、ユーザやグループの一覧情報を匿名接続に対して返却するかどうかを制御するものである。
    このパラメータは Windows NT や Windows 2000 の
</p><pre class="programlisting">
HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\LSA\RestrictAnonymous
</pre><p>
レジストリキーに相当するものである。
    0 に設定された場合、ユーザやグループの一覧情報は誰に対しても返却される。
    1 に設定された場合、認証済のユーザのみがユーザやグループの一覧情報を取得できる。
    2 に設定された場合、匿名接続は一切拒否される。なおこの値は Windows 2000/XP や Samba でのみサポートされる。
    これは匿名接続での操作が実行される前提のサードパーティおよび Microsoft のアプリケーションで問題を引き起こすことがある。
    </p><p>
    restrict anonymous = 1 を用いることによるセキュリティ上の利点があるかどうかは疑わしい。これはユーザやグループの一覧情報を別の方法を用いて取得することが可能であるためである。
    </p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
    restrict anonymous = 2 を用いることによるセキュリティ上の利点は、いずれかの共有において 
    <a class="link" href="smb.conf.5.html#GUESTOK" target="_top">guest ok = yes</a>
    の設定を行なうことで損なわれてしまうことに注意。
	</p></div><p>既定値: <span class="emphasis"><em><em class="parameter"><code>restrict anonymous</code></em> = <code class="literal">0</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="root"><div class="titlepage"><div><div><h3 class="title"><a name="id2569428"/>

<a name="ROOT"/>root
</h3></div></div></div><a class="indexterm" name="id2569429"/><div class="variablelist"><dl><dt/><dd><p>このパラメータは右記のパラメータの別名である：<a class="link" href="#ROOTDIRECTORY">root directory</a>.</p></dd></dl></div></div><div class="section" title="root dir"><div class="titlepage"><div><div><h3 class="title"><a name="id2569461"/>

<a name="ROOTDIR"/>root dir
</h3></div></div></div><a class="indexterm" name="id2569462"/><div class="variablelist"><dl><dt/><dd><p>このパラメータは右記のパラメータの別名である：<a class="link" href="#ROOTDIRECTORY">root directory</a>.</p></dd></dl></div></div><div class="section" title="root directory (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2569494"/>

root directory (G)
</h3></div></div></div><a class="indexterm" name="id2569495"/><a name="ROOTDIRECTORY"/><div class="variablelist"><dl><dt/><dd><p>サーバの起動時に、このディレクトリへ 
    <code class="literal">chroot()</code>
    (ルートディレクトリの変更)が行なわれる。
    これは、安全のため絶対に必要というものではない。
    この設定がなくても、サービスの提供するディレクトリ配下にないファイルへのアクセスは許可されない。
    また、ファイルシステムへの他の部分へのシンボリックリンクや、
    ファイル名に「..」をつけて他のディレクトリにアクセスするような行為をチェックして、
    アクセスを拒否することもできる
    (<a class="link" href="smb.conf.5.html#WIDELINKS" target="_top">wide links</a> パラメータの設定に依存する)。</p><p><em class="parameter"><code>root directory</code></em> として「/」以外を指定した場合は、
    代償もあるが、非常に強固なセキュリティが実現される。
    <em class="parameter"><code>root directory</code></em> 
    オプションで指定されたディレクトリのサブディレクトリ以外にあるファイルへは、
    サーバの動作に必要なファイルも<span class="emphasis"><em>含め</em></span>、
    一切アクセスできない。サーバを動作させるには、
    <em class="parameter"><code>root directory</code></em> 
    内に必要なシステムファイルをコピーしておく必要がある。
    例えば <code class="filename">/etc/passwd</code> (またはその一部)や、
    印刷に必要となる設定ファイルやバイナリなどを（場合によっては）コピーする必要がある。
    コピーしなければならないファイルは、オペレーティングシステムに依存する。
    </p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>root directory</code></em> = <code class="literal">/</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>root directory</code></em> = <code class="literal">/homes/smb</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="root postexec (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2569636"/>

root postexec (S)
</h3></div></div></div><a class="indexterm" name="id2569638"/><a name="ROOTPOSTEXEC"/><div class="variablelist"><dl><dt/><dd><p>このパラメータは、
	コマンドが root で実行されることを除き、
	<em class="parameter"><code>postexec</code></em> パラメータと同一である。
	このコマンドは、コネクションの切断後に(CD-ROMなどの)ファイルシステムをアンマウントするのに便利である。
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>root postexec</code></em> = <code class="literal"/>
</em></span>
</p></dd></dl></div></div><div class="section" title="root preexec (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2569690"/>

root preexec (S)
</h3></div></div></div><a class="indexterm" name="id2569691"/><a name="ROOTPREEXEC"/><div class="variablelist"><dl><dt/><dd><p>このパラメータは、
	コマンドが root で実行されることを除き、
	<em class="parameter"><code>preexec </code></em> パラメータと同一である。
	このコマンドは、コネクションの開始時に(CD-ROMなどの)ファイルシステムをマウントするのに便利である。
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>root preexec</code></em> = <code class="literal"/>
</em></span>
</p></dd></dl></div></div><div class="section" title="root preexec close (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2569743"/>

root preexec close (S)
</h3></div></div></div><a class="indexterm" name="id2569744"/><a name="ROOTPREEXECCLOSE"/><div class="variablelist"><dl><dt/><dd><p>このパラメータは、
	コマンドが root で実行されることを除き、
	<em class="parameter"><code>preexec close </code></em> パラメータと同一である。
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>root preexec close</code></em> = <code class="literal">no</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="security (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2569793"/>

security (G)
</h3></div></div></div><a class="indexterm" name="id2569794"/><a name="SECURITY"/><div class="variablelist"><dl><dt/><dd><p> このオプションは、
    クライアントがどのように Samba に応答するかを決めるものであり、
    <code class="filename">smb.conf</code> 中でもっとも重要な設定の 1 つである。</p><p> このオプションは、 <a class="citerefentry" href="smbd.8.html"><span class="citerefentry"><span class="refentrytitle">smbd</span>(8)</span></a> とのプロトコルネゴシエーション時の応答に含まれる、
    "security mode bit"を設定し、共有レベルのセキュリティを使用するか否かを
    制御する。クライアントは、このbitを元にして、ユーザとパスワードの情報をサーバに転送
    するかどうか、また転送する際の方法を決定する。</p><p>デフォルトは、<code class="literal">security = user</code> であり、
    これは Windows 98 と Windows NT との間で通信を行なうときに必要とされるもっとも一般的な設定(訳注: ユーザレベルのセキュリティ)である。
    </p><p>その他に <code class="literal">security = share</code>、
    <code class="literal">security = server</code>、
    <code class="literal"> security = domain </code> が設定可能な値である。
    (訳注:  <code class="literal"> security = ads </code>も設定可能)</p><p> 2.0.0 以前のバージョンの Samba では、
    主に過去との互換性を保つ目的で、 <code class="literal">security = share</code> がデフォルトであった。
    </p><p> Windows for Workgroups(WfWg) には、
    このオプションの設定時に注意すべきバグがある。
    このパラメータが user もしくは server の場合、WfWg クライアントは、
     "connect drive"ダイアログボックスで入力したパスワードを完全に無視してしまう。
    そのため、WfWg にログオンしたユーザ以外のユーザで、Samba の サービスに
    接続することが(不可能でない場合でも)非常に難しくなっている。</p><p> PC上で UNIX マシン上と同じユーザ名を使う場合は、
    <code class="literal">security = user</code> を用いるとよいだろう。
    UNIX マシン上にないユーザ名を使っている場合は、
    <code class="literal">security = share</code> を使う必要がある。
    </p><p>パスワードなしの共有(ゲスト共有)の作成が主目的である場合も、
    <code class="literal">security = share</code> を使った方がよいであろう。
    この設定は、通常共有プリンタサーバで使われることが多い。
    <code class="literal">security = user</code> の設定で、
    ゲスト共有を作成するのは、多少複雑になる。
    詳細については、<a class="link" href="smb.conf.5.html#MAPTOGUEST" target="_top">map to guest</a> パラメータを参照のこと。</p><p>
    <a class="link" href="smb.conf.5.html#NETBIOSALIASES" target="_top">NetBIOS aliases</a> を用いることで、
    ユーザレベルと共有レベルのセキュリティの両方を提供する
    <span class="emphasis"><em>混在モード(hybrid mode)</em></span> で
    <code class="literal">smbd</code>を運用することも可能である。
    </p><p>以下、それ以外の設定について説明する。</p><p><a name="SECURITYEQUALSSHARE"/><span class="emphasis"><em>SECURITY = SHARE</em></span></p><p>共有レベルのセキュリティに構成されたサーバに接続するクライアントは、
    共有リソースに接続しようとする際に、
    適切なユーザ名とパスワードでサーバにログオンしておく必要がない
    (最近の Windows 95/98 や Windows NT は、
    <code class="literal">security=share</code> 
    のサーバと通信をする際にユーザ名を設定してログオン要求を送るが、パスワードは送らない)。
    そのかわり、クライアントは、共有への接続時に共有毎に認証情報(パスワード)を送信する。
    </p><p><code class="literal">security=share</code> レベルのセキュリティで構成されていた場合であっても、
    <code class="literal">smbd</code> がクライアントからの要求を処理する際には<span class="emphasis"><em>常に</em></span>
    UNIX 上のいずれかのユーザの権限で処理が行なわれる点に注意。</p><p> 共有レベルのセキュリティでは、
    クライアントがユーザ名をサーバに送るように要求されないため、
    <code class="literal">smbd</code> は、いくつかの方法を用いて、
   クライアントの要求を処理する際に利用する UNIX 上のユーザを決定する。</p><p> クライアントから送られてきたパスワードの確認対象となる
    UNIX 側のユーザのリストは、以下のようにして生成される:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p> <a class="link" href="smb.conf.5.html#GUESTONLY" target="_top">guest only</a>
            パラメータが設定されている場合、以下の手順は省略され、
            <a class="link" href="smb.conf.5.html#GUESTACCOUNT" target="_top">guest account</a>
            に設定されたユーザ名のみが確認対象となる。
            </p></li><li class="listitem"><p>共有への接続時にユーザ名も送られてきた場合、
            そのユーザ名(変換後のもの - 
            <a class="link" href="smb.conf.5.html#USERNAMEMAP" target="_top">username map</a> を参照のこと)
            が確認対象のユーザ名に追加される。
            </p></li><li class="listitem"><p> クライアントが以前に	<span class="emphasis"><em>ログオン </em></span> 要求 
            (SessionSetup SMB 呼び出し) を行なっていた場合、
            その SMB 呼び出し中で送られたユーザ名が確認対象のユーザ名に追加される。
            </p></li><li class="listitem"><p>クライアントが接続しようとしているサービスの名前が、
            確認対象のユーザ名に追加される。
            </p></li><li class="listitem"><p> クライアントの NetBIOS 名が、
            確認対象のユーザ名に追加される。
            </p></li><li class="listitem"><p> <a class="link" href="smb.conf.5.html#USER" target="_top">user</a>
            リスト中のユーザ名が確認対象のユーザ名に追加される。
	    </p></li></ul></div><p> <em class="parameter"><code>guest only</code></em> パラメータが設定されていないと、
    このリスト中のユーザ名を用いて、送信されたパスワードの確認が行なわれる。
    送信されたパスワードが最初に一致したユーザが、
    以降の処理に用いられる UNIX 上のユーザとして利用される。</p><p> <em class="parameter"><code>guest only</code></em> パラメータが設定されているか、
    利用するユーザを決定できなかった場合、
    共有で <em class="parameter"><code> guest account </code></em> が利用可能であれば、
    ゲストアクセスが行なわれ、それ以外の場合はアクセスが拒否されることになる。</p><p> 共有レベルのセキュリティでは、
    どの UNIX 上のユーザを用いてアクセス権のチェックが行なわれるかの判断が、
    <span class="emphasis"><em>非常に</em></span> 複雑になる事態が想定されることに注意。</p><p><a class="link" href="#VALIDATIONSECT" title="ユーザ名とパスワード認証についての注意">
    ユーザ名とパスワード認証についての注意</a> のセクションも参照のこと。</p><p><a name="SECURITYEQUALSUSER"/><span class="emphasis"><em>SECURITY = USER</em></span></p><p>これは、Samba 3.0 におけるデフォルトのセキュリティ設定である。
    ユーザレベルのセキュリティにおいては、クライアントは最初に正しいユーザ名とパスワード
    (<a class="link" href="smb.conf.5.html#USERNAMEMAP" target="_top">username map</a> 
    パラメータを使ってマッピングしたものでもよい)で"ログオン"を行なう必要がある。
    このセキュリティレベルでは、暗号化パスワード(
    <a class="link" href="smb.conf.5.html#ENCRYPTEDPASSWORDS" target="_top">encrypted passwords</a> パラメータを参照のこと)
    も使うことができる。
    <a class="link" href="smb.conf.5.html#USER" target="_top">user</a> や <a class="link" href="smb.conf.5.html#GUESTONLY" target="_top">guest only</a>
    のようなパラメータを利用して、この接続で利用するUNIX上のユーザを変更することもできるが、
    これはユーザ認証に成功した後で、行なわれる。</p><p><span class="emphasis"><em>注意</em></span> : 要求されたリソース名は、
    サーバがクライアントの認証に成功するまでサーバに<span class="emphasis"><em>送られない</em></span>。
    そのため、ユーザレベルのセキュリティでは、サーバ上で不明なユーザを自動的に
    <a class="link" href="smb.conf.5.html#GUESTACCOUNT" target="_top">guest account</a>
    として処理するようにしない限り、ゲスト共有がうまく動作しない。
    上記処理の詳細については、
    <a class="link" href="smb.conf.5.html#MAPTOGUEST" target="_top">map to guest</a>
    パラメータを参照のこと。</p><p><a class="link" href="#VALIDATIONSECT" title="ユーザ名とパスワード認証についての注意">
    ユーザ名とパスワード認証についての注意</a> のセクションも参照のこと。</p><p><a name="SECURITYEQUALSDOMAIN"/><span class="emphasis"><em>SECURITY = DOMAIN</em></span></p><p> このモードは、 <a class="citerefentry" href="net.8.html"><span class="citerefentry"><span class="refentrytitle">net</span>(8)</span></a> コマンドで、
    マシンを Windows NT ドメインに参加させている時のみ正しく動作する。 
    このモードでは、<a class="link" href="smb.conf.5.html#ENCRYPTEDPASSWORDS" target="_top">encrypted passwords</a>
    パラメータを <code class="constant">yes</code> 
    にすることが求められる。このモードでは、Samba は認証要求を Windows NT のプライマリ、
    もしくはバックアップドメインコントローラに対して、
    Windows NT Server と全く同様の方法で依頼する。</p><p><span class="emphasis"><em>注意</em></span>: ファイルアクセスを行なう際に、 Samba は
    UNIX 上のアカウントを用いる必要があるため、
    ドメインコントローラ上のアカウントだけでなく、 UNIX 上のアカウントも依然として
    存在する必要がある。</p><p><span class="emphasis"><em>注意</em></span>: クライアントからは、
    <code class="literal">security=domain</code> と
    <code class="literal">security=user</code> とは同一である。
    このパラメータは、サーバがどのように認証を行なうかにのみ影響し、
    クライアントとのやりとりには何ら影響しない。</p><p><span class="emphasis"><em>注意</em></span> : 要求されたリソース名は、
    サーバがクライアントの認証に成功するまでサーバに<span class="emphasis"><em>送られない</em></span>。
    サーバ上で不明なユーザを自動的に
    <a class="link" href="smb.conf.5.html#GUESTACCOUNT" target="_top">guest account</a>
    として処理するようにしない限り、ゲスト共有がうまく動作しない。
    上記処理の詳細については、<a class="link" href="smb.conf.5.html#MAPTOGUEST" target="_top">map to guest</a>
    パラメータを参照のこと。</p><p><a class="link" href="#VALIDATIONSECT" title="ユーザ名とパスワード認証についての注意">
    ユーザ名とパスワード認証についての注意</a> のセクションも参照のこと。</p><p><a class="link" href="smb.conf.5.html#PASSWORDSERVER" target="_top">password server</a>パラメータおよび
          <a class="link" href="smb.conf.5.html#ENCRYPTEDPASSWORDS" target="_top">encrypted passwords</a>パラメータも参照のこと。</p><p><a name="SECURITYEQUALSSERVER"/><span class="emphasis"><em>SECURITY = SERVER</em></span></p><p> このモードの場合、 Samba はまず NT マシンのような別の
    SMB サーバにユーザ名とパスワードの認証を依頼する。
    これに失敗すると、<code class="literal">security = user</code> 
    と同様に処理を行なう。このモードを用いる場合は、リモートサーバが対応していない場合を
    除き、<a class="link" href="smb.conf.5.html#ENCRYPTEDPASSWORDS" target="_top">encrypted passwords</a>パラメータを <code class="constant">yes</code>
    にする必要がある。なお、暗号化パスワードで認証処理が行なわれると、
    Samba 上で UNIX パスワードファイルでの認証(平文認証)に戻れなくなるため、ユーザの認証
    は <code class="filename">smbpasswd</code> ファイルで行なう必要がある。
    設定方法の詳細は、 Samba HOWTO collection 中の User Database の章を参照のこと。</p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
    このモードの処理には、中間介入攻撃(man-in-the-middle attack)やサーバの偽装に脆弱で
    あるという重大な落し穴がある。また、ユーザのセッションが継続している間、アクティブな
    コネクションを維持しておく必要があるため、 PDC のリソースを非常に多く消費する恐れある。
    さらに、このコネクションがいったん失われると、回復させることができず、それ以降(個々の
    クライアントがコネクションを一度切断するまでの間) Samba サーバに対する認証は失敗して
    しまう。</p></div><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>クライアントからは、
    <code class="literal">security=server</code> と
    <code class="literal">security=user</code> とは同一である。
    このパラメータは、サーバがどのように認証を行なうかにのみ影響し、
    クライアントとのやりとりには何ら影響しない。</p></div><p><span class="emphasis"><em>注意</em></span> : 要求されたリソース名は、
    サーバがクライアントの認証に成功するまでサーバに<span class="emphasis"><em>送られない</em></span>。
    そのため、ユーザレベルのセキュリティでは、サーバ上で不明なユーザを自動的に
    <a class="link" href="smb.conf.5.html#GUESTACCOUNT" target="_top">guest account</a>. 
    として処理するようにしない限り、ゲスト共有がうまく動作しない。
    上記処理の詳細については、<a class="link" href="smb.conf.5.html#MAPTOGUEST" target="_top">map to guest</a>
    パラメータを参照のこと。</p><p><a class="link" href="#VALIDATIONSECT" title="ユーザ名とパスワード認証についての注意">
    ユーザ名とパスワード認証についての注意</a> のセクションも参照のこと。</p><p>
    <a class="link" href="smb.conf.5.html#PASSWORDSERVER" target="_top">password server</a>
    パラメータおよび
    <a class="link" href="smb.conf.5.html#ENCRYPTEDPASSWORDS" target="_top">encrypted passwords</a>
    パラメータも参照のこと。</p><p><a name="SECURITYEQUALSADS"/><span class="emphasis"><em>SECURITY = ADS</em></span></p><p>このモードの場合、Samba は ADS レルムのドメインメンバーとして振舞う。
    このモードで動作させるためには、Samba が実行されているマシンに Kerberos が
    インストールされて構成されていることが必要であり、Samba は net ユーティリティを
    使用して ADS レルムに参加する必要がある。</p><p>このモードは Samba を Active Ditectory のドメインコントローラとして動作さ
      せるものではないことに注意。</p><p>詳細については、HOWTO の Domain Membership の章を熟読のこと。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>security</code></em> = <code class="literal">USER</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>security</code></em> = <code class="literal">DOMAIN</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="security mask (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2570884"/>

security mask (S)
</h3></div></div></div><a class="indexterm" name="id2570885"/><a name="SECURITYMASK"/><div class="variablelist"><dl><dt/><dd><p> このパラメータは、 Windows NT クライアント上から、
    NT 上のセキュリティダイアログボックスを使って
    UNIX ファイルのパーミッションを操作するときに、
    どのパーミッションビットを変更可能にするかを制御する。</p><p> このパラメータは、変更されるパーミッションのビットに対する論理積(AND)操作
    を行なうマスクとして機能するため、マスク中に含まれないビットに対する変更操作が
    制限される。このパラメータを、論理積(AND)操作ではなく論理和(OR)操作を行なう類似
    パラメータである
    <a class="link" href="smb.conf.5.html#FORCESECURITYMODE" target="_top">force security mode</a> パラメータと混同しないこと。
    </p><p>
      基本的に、このマスク中ですべてのビットを0に設定することは、ファイル上の、
      このビットの以前のステータスにかかわらず、ファイルのパーミッション上の
      対応するビットを0に設定する結果となる。
    </p><p>明示的に設定されていない場合、このパラメータの値は 0777 になる。これは、
    ファイルの user/group/world パーミッションのすべてについて、
    ユーザからの変更を許可する。</p><p> Samba を経由せずサーバにアクセスできるユーザは、
    簡単にこの制限を回避できるため、
    このパラメータが有用なのは、単体の"アプライアンス"システムに対してである。
    ほとんどの一般的なシステムの管理者は、
    おそらく <code class="constant">0777</code> に設定することであろう。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>security mask</code></em> = <code class="literal">0777</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>security mask</code></em> = <code class="literal">0770</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="server schannel (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2571018"/>

server schannel (G)
</h3></div></div></div><a class="indexterm" name="id2571019"/><a name="SERVERSCHANNEL"/><div class="variablelist"><dl><dt/><dd><p>このパラメータは、サーバが netlogon のセキュアチャネルを提供するかどうかを制御する。
    <a class="link" href="smb.conf.5.html#SERVERSCHANNEL" target="_top">server schannel = no</a>
    の場合、セキュアチャネルは提供されない。
    <a class="link" href="smb.conf.5.html#SERVERSCHANNEL" target="_top">server schannel = auto</a>
    の場合セキュアチャネルが提供されるが強制はされない。
    <a class="link" href="smb.conf.5.html#SERVERSCHANNEL" target="_top">server schannel = yes</a>
    の場合、クライアントが netlogon のセキュアチャネルを認識できない場合は接続が拒否される。
    これに該当するのは Windows NT 4.0 SP4 以前のみである。</p><p>このパラメータを <code class="literal">no</code> に設定した場合、
    Windows XP マシンには Samba アーカイブの docs/Registry サブディレクトリ中にある
    <code class="filename">WinXP_SignOrSeal.reg</code> ファイルを適用してレジストリを修正する必要があることに注意。
    </p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>server schannel</code></em> = <code class="literal">auto</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>server schannel</code></em> = <code class="literal">yes</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="server signing (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2571150"/>

server signing (G)
</h3></div></div></div><a class="indexterm" name="id2571151"/><a name="SERVERSIGNING"/><div class="variablelist"><dl><dt/><dd><p>このパラメータは、SMB署名を使うために、通信先のクライアントに対して、使用を有効にするか、もしくは要求するかを設定する。
    設定可能な値は、<span class="emphasis"><em>auto</em></span>、<span class="emphasis"><em>mandatory</em></span>、<span class="emphasis"><em>disabled</em></span> である。 
    </p><p>auto に設定した場合、SMB 署名が有効になるが、強制はしない。
    mandatory に設定すると、SMB 署名が必須となる。disable に設定すると、SMB 署名は有効にならない。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>server signing</code></em> = <code class="literal">Disabled</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="server string (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2571218"/>

server string (G)
</h3></div></div></div><a class="indexterm" name="id2571219"/><a name="SERVERSTRING"/><div class="variablelist"><dl><dt/><dd><p>このパラメータにより、プリンタマネージャにおける各プリンタのコメント欄および <code class="literal">net view</code> において IPC 接続の横に表示されるテキストが設定される。ユーザに表示させたい任意のテキストを設定することができる。</p><p>このパラメータにより、ブラウズリストでコンピュータ名の横に表示されるテキストも設定される。</p><p><em class="parameter"><code>%v</code></em> は、 Samba のバージョン番号に置換される。</p><p><em class="parameter"><code>%h</code></em> は、ホスト名に置換される。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>server string</code></em> = <code class="literal">Samba %v</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>server string</code></em> = <code class="literal">University of GNUs Samba Server</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="set directory (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2571314"/>

set directory (S)
</h3></div></div></div><a class="indexterm" name="id2571315"/><a name="SETDIRECTORY"/><div class="variablelist"><dl><dt/><dd><p><code class="literal">set directory = no</code> の場合、
	サービスの利用者が、
	ディレクトリ変更のための setdir コマンドを使えなくなる。
	</p><p>
	<code class="literal">setdir</code> コマンドは
	Digital Pathworks クライアントにおいてのみ実装されている。
	詳細については、Pathworks の説明書を参照のこと。
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>set directory</code></em> = <code class="literal">no</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="set primary group script (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2571379"/>

set primary group script (G)
</h3></div></div></div><a class="indexterm" name="id2571380"/><a name="SETPRIMARYGROUPSCRIPT"/><div class="variablelist"><dl><dt/><dd><p> NT の POSIX サブシステムのおかげで、 Windows ユーザには、
	auxiliary (補助)グループに加えて、
	プライマリグループを設定することができる。
	このスクリプトにより、管理者が 
	Windows のユーザマネージャからプライマリグループを設定したり、
	<code class="literal">net rpc vampire</code> により SAM を取得したりした際に、
	UNIX のユーザデータベースのプライマリグループが設定される。
	<em class="parameter"><code>%u</code></em> は、プライマリグループを設定するユーザに置き換えられる。
	<em class="parameter"><code>%g</code></em> は設定されるグループ名に置き換えられる。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>set primary group script</code></em> = <code class="literal"/>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>set primary group script</code></em> = <code class="literal">/usr/sbin/usermod -g '%g' '%u'</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="set quota command (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2571474"/>

set quota command (G)
</h3></div></div></div><a class="indexterm" name="id2571475"/><a name="SETQUOTACOMMAND"/><div class="variablelist"><dl><dt/><dd><p><code class="literal">set quota command</code> は Samba が実行されている OS 上で、API が提供されていない場合に限り使用すべきである。
	</p><p>このオプションは、必ず <code class="literal">./configure --with-sys-quotas</code> が指定されているときのみ有効である。
	もしくは Linux において <code class="literal">./configure --with-quotas</code> が指定され、システムにクオータの API が存在し、機能する場合にのみ使用できる。
	ほとんどのパッケージでは、これらのオプションを指定して構成されている。</p><p>このパラメータは、引数を指定することで、クオータの設定を行なうスクリプトへのパスを指定する。
	</p><p>このスクリプトは以下の引数をとる:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>1 - クオータのタイプ
			</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p>1 - ユーザのクオータ</p></li><li class="listitem"><p>2 - ユーザのデフォルトのクオータ (uid = -1)</p></li><li class="listitem"><p>3 - グループのクオータ</p></li><li class="listitem"><p>4 - グループのデフォルトのクオータ (gid = -1)</p></li></ul></div><p>
			</p></li><li class="listitem"><p>2 - id (ユーザの uid もしくはグループの gid 。 -1 を指定した場合はどちらともみなされない)</p></li><li class="listitem"><p>3 - クオータの状態 (0 = 無効, 1 = 有効, 2 = 有効かつ強制)</p></li><li class="listitem"><p>4 - ブロック数のソフトウェア的な上限</p></li><li class="listitem"><p>5 - ブロック数のハードウェア的な上限</p></li><li class="listitem"><p>6 - inode 数のソフトウェア的な上限</p></li><li class="listitem"><p>7 - inode 数のハードウェア的な上限</p></li><li class="listitem"><p>8(オプション) - ブロックサイズ、デフォルトは 1024</p></li></ul></div><p>このスクリプトは少なくとも1行のデータ行を出力する必要がある。ただし処理が成功しなかった場合は何も出力されない。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>set quota command</code></em> = <code class="literal"/>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>set quota command</code></em> = <code class="literal">/usr/local/sbin/set_quota</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="share:fake_fscaps (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2571666"/>

share:fake_fscaps (G)
</h3></div></div></div><a class="indexterm" name="id2571667"/><a name="SHARE:FAKE_FSCAPS"/><div class="variablelist"><dl><dt/><dd><p>
	これはある種の、SPARSE_FILESビット(0x40)を設定しているかどうかを調べるために
	QFSINFOコールを行う、特別なアプリケーションをサポートするために必要である。
	もしもこのビットが設定されていない場合、特定のアプリケーションはSambaに
	対して動作できなくなる。
	<a class="link" href="smb.conf.5.html#SHARE:FAKE_FSCAPS" target="_top">share:fake_fscaps = 64</a>を使うと
	SPARSE_FILESファイルシステムケーパビリティフラグがセットされる。
	ビットマスクを指定する他の10進値はごまかす(fake)ために必要である。
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>share:fake_fscaps</code></em> = <code class="literal">0</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="share modes (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2571732"/>

share modes (S)
</h3></div></div></div><a class="indexterm" name="id2571734"/><a name="SHAREMODES"/><div class="variablelist"><dl><dt/><dd><p>このパラメータは、ファイルオープン中の <em class="parameter"><code>share modes</code></em> の制御を有効にするかどうかを設定する。
	このモードは、ファイルへの排他的な読み出し又は書き込みアクセスを得るために、クライアントによって利用されるものである。
	</p><p>以前のSambaとの互換性のために存在するが、次のメジャー
	アップグレードで廃止される予定である。
	</p><p>
	これらのモードは、UNIX では提供されていないため、
	共有メモリで疑似的に実現されている。
	</p><p>このパラメータによって、Windowsの標準的な共有モードが
	実現される。
	</p><p>このオプションは共有機能の互換性を保つため、
	デフォルトで有効になっている。</p><p>このパラメータは、
	<span class="emphasis"><em>絶対に</em></span> off にしてはならない。
	off にした場合、多くの Windows アプリケーションが誤動作するであろう。
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>share modes</code></em> = <code class="literal">yes</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="short preserve case (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2571823"/>

short preserve case (S)
</h3></div></div></div><a class="indexterm" name="id2571824"/><a name="SHORTPRESERVECASE"/><div class="variablelist"><dl><dt/><dd><p> この真偽値パラメータは、
	すべて大文字で適切な長さという 8.3 形式の条件を満たすファイル名を大文字のファイル名にして作成するか、
	<a class="link" href="smb.conf.5.html#DEFAULTCASE" target="_top">default case</a> パラメータに従って作成するかを指定する(訳注: 実際は、8+3 形式の名前において大文字小文字の混在を容認するか、規定値の文字指定に統一するかを制御する)。
	このオプションは、
	<a class="link" href="smb.conf.5.html#PRESERVECASE" target="_top">preserve case = yes</a>
	を用いて長いファイル名の大文字小文字の情報を保持している際に、
	短いファイル名における大文字小文字の情報を保持するために利用する。
	</p><p><a class="link" href="#NAMEMANGLINGSECT" title="名前の短縮(NAME MANGLING)">
	名前の短縮</a>セクションも参照のこと。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>short preserve case</code></em> = <code class="literal">yes</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="show add printer wizard (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2571918"/>

show add printer wizard (G)
</h3></div></div></div><a class="indexterm" name="id2571919"/><a name="SHOWADDPRINTERWIZARD"/><div class="variablelist"><dl><dt/><dd><p>Samba 2.2 での Windows NT/2000 クライアントに対する MS-RPC ベースのプリンタサポート機能のサポートによって、
	Samba ホスト上の共有一覧で「プリンタ」フォルダが表示されようになっている。
	通常、このフォルダにはプリンタの追加ウィザード
	(MS Add Printer Wizard (APW))のアイコンが存在している。
	しかし、接続したユーザの権限に関わらず、
	この機能を無効にすることも可能である。</p><p>通常の場合、Windows NT/2000 クライアントは
	Administrator 権限を持っているかどうかを確認するために、
	OpenPrinterEx() 関数により、プリンタサーバ上のハンドルをオープンしようとする。
	ユーザにプリンタサーバ上での管理者権限がない場合
	(root でなく、<em class="parameter"><code>printer admin</code></em> グループのメンバでもない)、
	OpenPrinterEx() の呼出は失敗して、 client は低い権限でも可能な別の関数呼出を行なう。
	これに成功しても、APW のアイコンは表示されない。</p><p><em class="parameter"><code>show add printer wizard</code></em>
	パラメータを無効にすることにより、サーバ上での
	OpenPrinterEx() 呼出が常に失敗するようになる。
	そのため、APW のアイコンは決して表示されなくなる。
    </p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>このパラメータは、ユーザが個々のプリンタの管理権限を持つことを制限するものではない。</p></div><p>既定値: <span class="emphasis"><em><em class="parameter"><code>show add printer wizard</code></em> = <code class="literal">yes</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="shutdown script (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2572020"/>

shutdown script (G)
</h3></div></div></div><a class="indexterm" name="id2572021"/><a name="SHUTDOWNSCRIPT"/><div class="variablelist"><dl><dt/><dd><p>
	このパラメータは、 <a class="citerefentry" href="smbd.8.html"><span class="citerefentry"><span class="refentrytitle">smbd</span>(8)</span></a> が呼び出すことで、
	シャットダウン処理を実行するスクリプトのフルパス名である。</p><p>サーバに接続しているユーザが <code class="constant">SeRemoteShutdownPrivilege</code> 権利を有している場合、
	このコマンドはroot権限で実行される。</p><p>%m %t %r %f パラメータは以下のように展開される:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p><em class="parameter"><code>%m</code></em> はサーバに送信されるシャットダウンメッセージに置換される。</p></li><li class="listitem"><p><em class="parameter"><code>%t</code></em> は実際にシャットダウン処理が開始されるまでに待機する時間(秒単位)に置換される。</p></li><li class="listitem"><p><em class="parameter"><code>%r</code></em> は <span class="emphasis"><em>-r</em></span> スイッチに置換される。これは NT の「シャットダウン後再起動」を意味する。</p></li><li class="listitem"><p><em class="parameter"><code>%f</code></em> は <span class="emphasis"><em>-f</em></span> スイッチに置換される。これは NT の「アプリケーションが応答しない場合でも強制的にシャットダウンする」を意味する。</p></li></ul></div><p>シャットダウンスクリプト例を以下に示す:
</p><pre class="programlisting">
#!/bin/bash
		
time=$2
let time="${time} / 60"
let time="${time} + 1"

/sbin/shutdown $3 $4 +$time $1 &amp;

</pre><p>
シャットダウン処理から復帰することはないので、この処理はバックグラウンドで実行する必要がある。
</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>shutdown script</code></em> = <code class="literal"/>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>shutdown script</code></em> = <code class="literal">/usr/local/samba/sbin/shutdown %m %t %r %f</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="smb encrypt (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2572196"/>

smb encrypt (S)
</h3></div></div></div><a class="indexterm" name="id2572197"/><a name="SMBENCRYPT"/><div class="variablelist"><dl><dt/><dd><p>これは、Samba3.2以降で導入された新機能である。この機能は、SMB/CIFS
        プロトコルを拡張し、UNIX拡張機能の一部としてネゴシエートされる。
	SMB暗号化は、SMBプロトコルストリーム中のすべてのリクエスト/レスポンス
	に対し、暗号化と署名を行うためにGSSAPI(Windows上のSSPI)を使う。

	SMB暗号化を有効にすると、SMB/CIFSの通信がセキュアな方式で実行される。
	これは、sshの保護されたセッションと似ているが、
	暗号化のネゴシエートとキーの署名のためにはSMB/CIFS認証が用いられる。

        現在、これは、Samba 3.2のsmbclientのみでサポートされているが、
        そのうちLinuxのCIFSFSとMacOS/Xクライアントで使えるようになるだろう。
        Windowsクライアントはこの機能をサポートしない。
    </p><p>
        この機能はサーバーが通信相手のクライアントに対してSMB暗号化を
	提供、あるいは要求するかどうかを制御する。
	利用できる値は、<span class="emphasis"><em>auto</em></span>, <span class="emphasis"><em>mandatory</em></span> 
	と<span class="emphasis"><em>disabled</em></span>である。これは、共有毎に設定できるが、
	クライアントはすべてのセッション全体を暗号化するかもしれないし、
	特定の共有へのトラフィックだけ暗号化を利用しないかもしれない。
	もしもこれが mandatory に設定された場合、その共有へ接続が行われると、
	その共有へのすべてのトラフィックは暗号化されなければ 
	<span class="emphasis"><em>ならない</em></span>。

	そのような共有に対して、暗号化されていないアクセスがあると、
	サーバーは「アクセス拒否」を返却する。
	トラフィックが暗号化されると、
	すべてのデータについて署名と暗号化のオーバヘッドが発生するだけでなく、
	小さいパケットサイズを用いる必要がある（UNIX形式の巨大なサイズでの読み取り/書き込みを用いることができない）ため、スループットが減少する。
    </p><p>SMB暗号化が用いられると、Windows形式のSMB署名(<a class="link" href="smb.conf.5.html#SERVERSIGNING" target="_top">server signing</a>
	を参照)はもはや必要でなくなり、GSSAPIフラグがデータの暗号化と署名と暗号化の両方で使われる。</p><p>パラメータの値をautoに設定すると、SMB暗号化が提供されるが、強制はされない。
	mandatoryに設定すると、SMB暗号化が要求される。disableに設定すると、
	SMB暗号化は利用できない。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>smb encrypt</code></em> = <code class="literal">auto</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="smb passwd file (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2572343"/>

smb passwd file (G)
</h3></div></div></div><a class="indexterm" name="id2572344"/><a name="SMBPASSWDFILE"/><div class="variablelist"><dl><dt/><dd><p> このオプションにより、暗号化された smbpasswd ファイルへのパスが設定される。
    デフォルトの smbpasswd ファイルへのパスは、 Samba のコンパイル時に設定される。</p><p>
    以下に設定例を示す:
</p><pre class="programlisting">
smb passwd file = /etc/samba/smbpasswd
</pre><p>
    </p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>smb passwd file</code></em> = <code class="literal">${prefix}/private/smbpasswd</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="smb ports (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2572402"/>

smb ports (G)
</h3></div></div></div><a class="indexterm" name="id2572403"/><a name="SMBPORTS"/><div class="variablelist"><dl><dt/><dd><p>サーバが SMB トラヒックを町受けるポートを設定する。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>smb ports</code></em> = <code class="literal">445 139</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="socket address (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2572444"/>

socket address (G)
</h3></div></div></div><a class="indexterm" name="id2572445"/><a name="SOCKETADDRESS"/><div class="variablelist"><dl><dt/><dd><p>このオプションは、
	Samba がどのアドレスで接続を listen するかを設定する。
	これは、サーバ上で複数の仮想インタフェースを用いる必要があり、
	各々のインタフェース上で 異なる構成の Samba を動作させる際に利用できる。
	</p><p>通常はnmbdは1つしか起動しないため、このオプションを指定する必要はない。</p><p>既定値では、Sambaは全てのアドレスへの接続を受け付ける。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>socket address</code></em> = <code class="literal"/>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>socket address</code></em> = <code class="literal">192.168.2.20</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="socket options (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2572522"/>

socket options (G)
</h3></div></div></div><a class="indexterm" name="id2572523"/><a name="SOCKETOPTIONS"/><div class="variablelist"><dl><dt/><dd><p>このオプションは、クライアントとの通信に利用されるソケットオプションを設定する。</p><p>ソケットオプションは、 OS のネットワーク層の接続に影響し、通信の最適化に利用されるものである。</p><p>このオプションは、各ネットワークにおける Samba サーバの性能の最適化に用いられることが多い。 Samba 自身がネットワークにおける最適のパラメータを知るすべはないので、このオプションは、自分自身で実験して設定しなければならない。設定を行なう前に、使用している OS の適切なドキュメント  (恐らく <code class="literal">man setsockopt</code> が役立つだろう) を読むことを強く推奨する。</p><p>システムによっては、このオプションを設定すると、 Samba が「Unknown socket option」というメッセージを返却するようになるかもしれない。この原因は、ミスタイプか、 includes.h に使用している OS の include ファイルを追加する必要があるかのいずれかであろう。後者の場合は、<a class="ulink" href="mailto:samba-technical@samba.org" target="_top"> samba-technical@samba.org</a> までパッチを送ってほしい。</p><p>サポートされているソケットオプションについては、 OS の制約がない限り、どれでもどのような組合せでも用いることができる。</p><p>以下に現在このオプションで設定可能なソケットオプションの一覧を示す:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>SO_KEEPALIVE</p></li><li class="listitem"><p>SO_REUSEADDR</p></li><li class="listitem"><p>SO_BROADCAST</p></li><li class="listitem"><p>TCP_NODELAY</p></li><li class="listitem"><p>IPTOS_LOWDELAY</p></li><li class="listitem"><p>IPTOS_THROUGHPUT</p></li><li class="listitem"><p>SO_SNDBUF *</p></li><li class="listitem"><p>SO_RCVBUF *</p></li><li class="listitem"><p>SO_SNDLOWAT *</p></li><li class="listitem"><p>SO_RCVLOWAT *</p></li></ul></div><p><span class="emphasis"><em>'*'</em></span> 印のあるオプションは、整数の引数を必要とする。それ以外のものは、 1 または 0 の引数で有効、無効を指定することもできるが、 1 または 0 を指定しない場合は、有効に設定される。</p><p>引数を指定する場合は、<code class="literal">SO_SNDBUF = 8192</code> のように、 SOME_OPTION = VALUE という形式で指定する。 = 記号の前後に空白を入れてはいけない。
		</p><p>ローカルネットワーク以外を考慮しなくても良い場合、</p><p><code class="literal">socket options = IPTOS_LOWDELAY</code></p><p>と設定するのがよいであろう。</p><p>ローカルネットワークが存在する場合は以下の設定を試してみるとよいであろう:</p><p><code class="literal">socket options = IPTOS_LOWDELAY TCP_NODELAY</code></p><p>WAN の場合は、 IPTOS_THROUGHPUT を設定してみるとよいかも知れない。</p><p>これらのオプションの中には、 Samba サーバを完全に停止させるものもあるかもしれない。オプションを設定する際には気をつけること。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>socket options</code></em> = <code class="literal">TCP_NODELAY</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>socket options</code></em> = <code class="literal">IPTOS_LOWDELAY</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="stat cache (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2572767"/>

stat cache (G)
</h3></div></div></div><a class="indexterm" name="id2572768"/><a name="STATCACHE"/><div class="variablelist"><dl><dt/><dd><p>このパラメータにより、
	<a class="citerefentry" href="smbd.8.html"><span class="citerefentry"><span class="refentrytitle">smbd</span>(8)</span></a> が、
	大文字小文字を区別しない名前のマップ操作を高速化するためにキャッシュを利用するかどうかが設定される。
	このパラメータを変更する必要はないであろう。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>stat cache</code></em> = <code class="literal">yes</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="state directory (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2572824"/>

state directory (G)
</h3></div></div></div><a class="indexterm" name="id2572825"/><a name="STATEDIRECTORY"/><div class="variablelist"><dl><dt/><dd><p>通常TDBファイルは<em class="parameter"><code>lock directory</code></em>
	  に格納される。Samba 3.4.0から、
	  <em class="parameter"><code>state directory</code></em>と
	  <em class="parameter"><code>cache directory</code></em>オプションを使うことで、
	  持続的データを持つTDBファイルと持続的データを持たないTDBファイルとを
	  区別することが出来る。
	</p><p>このオプションは、持続的なデータを含むTDBファイルを格納する
          ディレクトリを指定する。
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>state directory</code></em> = <code class="literal">${prefix}/var/locks</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>state directory</code></em> = <code class="literal">/var/run/samba/locks/state</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="store dos attributes (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2572912"/>

store dos attributes (S)
</h3></div></div></div><a class="indexterm" name="id2572913"/><a name="STOREDOSATTRIBUTES"/><div class="variablelist"><dl><dt/><dd><p>
	このパラメータが設定されると、Samba は DOS のファイル属性(システム、隠し、アーカイブ、読み取り専用)を、
	(<a class="link" href="smb.conf.5.html#MAPHIDDEN" target="_top">map hidden</a> や <a class="link" href="smb.conf.5.html#MAPREADONLY" target="_top">map readonly</a> パラメータにより制御される) UNIX のパーミッションビットからのマッピングを行なう前に、
	ファイルシステムの拡張属性から読み取ろうとする。
	このパラメータが設定されると、DOS のファイル属性は、UNIX ファイルシステム上で、各ファイルやディレクトリ毎に割り当てられた拡張属性の領域に格納される。
	これ以外のマッピング機構が動作しないようにするため、
	<a class="link" href="smb.conf.5.html#MAPHIDDEN" target="_top">map hidden</a>、
	<a class="link" href="smb.conf.5.html#MAPSYSTEM" target="_top">map system</a>、<a class="link" href="smb.conf.5.html#MAPARCHIVE" target="_top">map archive</a>、<a class="link" href="smb.conf.5.html#MAPREADONLY" target="_top">map  readonly</a> といったパラメータは無効にする必要がある。
	このパラメータは DOS のファイル属性を「user.DOSATTRIB」という名前の拡張属性に、
	文字列として書き込む。この拡張属性は、クライアントの拡張属性に関するリクエスト
	からは明示的に隠蔽されている。Linux において拡張属性を有効にするには、Linux
	カーネルで拡張属性がコンパイルされており、ファイルシステムが user_xattr
	オプションをつけてマウントされている必要がある。

	Samba 3.5.0以降では、「user.DOSATTRIB」という名前の拡張属性はDOSの属性と
	同じように、ファイルの作成時刻を格納するように拡張された。これは後方互換であり、
	Samba 3.5.0とそれ以降のもので作成されたファイルは、それ以前のバージョンのSamba
	により、引き続きこの拡張属性からDOSのファイル属性を読めるようにしている。しかし、
	ここに格納されたファイル作成時刻は読む事が出来ない。通常のファイルシステム
	メタデータから分離して作成時刻を格納することは、POSIXファイルシステムのトップ
	レベルにおいて、NTFSセマンティクスを正確に再現することが、Sambaに出来るようになる。
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>store dos attributes</code></em> = <code class="literal">no</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="strict allocate (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2573065"/>

strict allocate (S)
</h3></div></div></div><a class="indexterm" name="id2573066"/><a name="STRICTALLOCATE"/><div class="variablelist"><dl><dt/><dd><p>この真偽値パラメータは、サーバ上のディスク領域の割当を制御するものである。
		このパラメータが <code class="constant">yes</code> の場合、
		サーバは、ファイルが拡張されただけでは実際のディスク領域を割り当てない UNIX 流の動作をやめ、
		ファイルがあるサイズで作成されたり、拡張されたりした際に、
		実際にディスク領域を割り当てる Windows 流の動作を行なうようになる。
		これは、Samba がスパースファイルを作成しなくなることを意味する。
		これにより、システムによっては処理が遅くなる。100MB超のような大きな
		ファイルを扱っている場合、クライアントがタイムアウトになってしまうような
		問題に遭遇するかもしれない。</p><p>エクステントベースのファイルシステムを使っている場合、
		大量の空間を迅速に割り当てることがSambaで出来る、未書き込みのエクステントを
		使う事が出来、strict allocateによって引き起こされた何らかのタイムアウト
		問題が発生しなくなるだろう。strict allocateを使っているとき、
		quotaを使っている場合は、quotaからのより的確なメッセージが得られるだろう。
		この設定を有効にすることによる、その他の利点は、ファイルの断片化を
		減少する助けになるということである。</p><p>ファイルシステム上での注目する点を提供するために、この設定は、
		現時点でよいオプションであるかもしれない:Linux上でのXFS、ext4、btrfs、
		ocfs2と、AIX上でのjfsは、未書き込みのエクステントをサポートする。
		それらをサポートしないファイルシステム上では、事前割当は、おそらく、
		パフォーマンスが低下する負荷のかかる操作であり、巨大なファイルを作成
		するときにクライアントがタイムアウトになる危険性がある。例は、
		Ext3、ZFS、HFS+とその他のものであり、それらのファイルシステム上で
		この設定を有効にするときには気をつけること。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>strict allocate</code></em> = <code class="literal">no</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="strict locking (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2573183"/>

strict locking (S)
</h3></div></div></div><a class="indexterm" name="id2573184"/><a name="STRICTLOCKING"/><div class="variablelist"><dl><dt/><dd><p>これは、
	サーバ上でのロックの扱いを制御する列挙型の値のパラメータである。
	<code class="constant">yes</code> に設定された場合、
	サーバはすべての読み書きのアクセスについてファイルのロック状態を検査し、
	ロックされている場合はアクセスを拒否する。
	システムによっては、アクセス速度の低下につながるだろう。</p><p>
	strict locking が Auto (既定値)の場合、サーバは oplock が行なわれていないファイルについてのみ、ロック状態の検査を行なう。
	Windows のリダイレクタの多くは、oplock が行なわれているファイルについてはファイルロックのチェックをローカルで実施しているため、
	この設定は、パフォーマンス低下とのうまいトレードオフを実現している。
	</p><p>strict locking が無効の場合、
	サーバは、クライアントが明示的に要求したときに限って、
	ファイルのロック状態の確認を行なう。</p><p>
	行儀のよいクライアントは、
	重要な操作を行ない際には必ずロックの状態を問い合わせる。
	従って、大抵の場合は <code class="literal">strict locking = Auto</code> か <code class="literal">strict locking = no</code> がよい。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>strict locking</code></em> = <code class="literal">Auto</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="strict sync (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2573283"/>

strict sync (S)
</h3></div></div></div><a class="indexterm" name="id2573284"/><a name="STRICTSYNC"/><div class="variablelist"><dl><dt/><dd><p>(Windows 98 の Explorer を含む)多くの Windows アプリケーションは、
    バッファのデータをフラッシュする処理を、ディスクに対し、同期を行う処理と取り違えているようである。
    UNIX における同期処理は、カーネル内のディスクバッファに残っているデータが無事に記憶装置へ保存されたことをカーネルが確認するまで、プロセスを停止させる。
    この処理は非常に遅く、頻繁に行うべきではない。
    このパラメータを <code class="constant">no</code>(デフォルト)に設定すると、
    <a class="citerefentry" href="smbd.8.html"><span class="citerefentry"><span class="refentrytitle">smbd</span>(8)</span></a>
    は Windows アプリケーションからの同期処理要求を無視する。
    この場合でも、データが失われる可能性があるのは、 Samba が動作しているオペレーティングシステム自身がクラッシュしたときだけであるので、この設定による危険度は少ない。
    また、 Windows 98 の Explorer を使ったファイルコピーのパフォーマンス問題が報告されているが、こちらも改善される。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>strict sync</code></em> = <code class="literal">no</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="svcctl list (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2573357"/>

svcctl list (G)
</h3></div></div></div><a class="indexterm" name="id2573358"/><a name="SVCCTLLIST"/><div class="variablelist"><dl><dt/><dd><p>
    このパラメータにより、smbd が Win32 の ServiceControl API 経由で
    UNIX 側のサービスを起動、停止させる際に用いられる起動スクリプトの一覧を定義する。
    これにより、Windows の管理者が Microsoft Management Console 
    プラグインを用いて Samba サーバ上が動作する UNIX サービスを制御することが可能となる。</p><p>
    管理者は、Samba の $(libdir) 以下に <code class="filename">svcctl</code> というディレクトリを作成して、
    <code class="filename">/etc/init.d/</code> に存在する起動スクリプトのシンボリックリンクを作成しておく必要がある。
    シンボリックリンク名は、 <em class="parameter"><code>svcctl list</code></em>
    パラメータに記載した名称と同一にしておくこと。
    </p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>svcctl list</code></em> = <code class="literal"/>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>svcctl list</code></em> = <code class="literal">cups postfix portmap httpd</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="sync always (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2573456"/>

sync always (S)
</h3></div></div></div><a class="indexterm" name="id2573457"/><a name="SYNCALWAYS"/><div class="variablelist"><dl><dt/><dd><p>この真偽値パラメータは、書き込み時に不摘発性のストレージへの書き込みとの同期を常に行なうかどうかを制御する。
		<code class="constant">no</code> の場合、
		サーバは個々のクライアントからの書き込み要求に基づいて、同期を行なうかどうかを制御する
		(クライアントは個々の書き込みについて、同期要求ビットを設定することが可能である)。
		<code class="constant">yes</code> の場合、
		個々の書き込みに毎に、データを確実にディスクに書き込むため
		<code class="literal">fsync()</code> が呼び出される。
		このパラメータが機能するには、
		<em class="parameter"><code>strict sync</code></em>パラメータが<code class="constant">
		yes</code>に設定されている必要がある。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>sync always</code></em> = <code class="literal">no</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="syslog (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2573538"/>

syslog (G)
</h3></div></div></div><a class="indexterm" name="id2573539"/><a name="SYSLOG"/><div class="variablelist"><dl><dt/><dd><p>
	このパラメータは、 Samba のデバッグメッセージと
	syslog のプライオリティとの対応づけを行なう。
	Samba のデバッグレベル 0 は、 syslog の <code class="constant">LOG_ERR</code>に割り当てられ、以下、
	デバッグレベル 1 は <code class="constant">LOG_WARNING</code>、
	デバッグレベル 2 は <code class="constant">LOG_NOTICE</code>、
	デバッグレベル 3 は <code class="constant">LOG_INFO</code>、
	それ以上のデバッグレベルは <code class="constant">LOG_DEBUG</code> 
	にそれぞれ割り当てられている。</p><p>このパラメータは
	どのデバッグレベルまでのメッセージを 
	syslog に送るかのしきい値を設定する。
	この値未満の Samba のデバッグメッセージのみが
	syslog に送られる。
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>syslog</code></em> = <code class="literal">1</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="syslog only (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2573614"/>

syslog only (G)
</h3></div></div></div><a class="indexterm" name="id2573615"/><a name="SYSLOGONLY"/><div class="variablelist"><dl><dt/><dd><p>このパラメータが設定されると、 Samba のデバッグメッセージが
	システムの syslog にのみ記録されるようになり、
	デバッグログファイルに出力されなくなる。
      もしも、<span class="emphasis"><em>syslog only</em></span>が有効になっていたとしても、
      log.[sn]mbdへのロギングは引き続き行われる。
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>syslog only</code></em> = <code class="literal">no</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="template homedir (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2573664"/>

template homedir (G)
</h3></div></div></div><a class="indexterm" name="id2573665"/><a name="TEMPLATEHOMEDIR"/><div class="variablelist"><dl><dt/><dd><p>
	  NT ドメインのユーザに対応するユーザ情報を作成する際、 
	  <a class="citerefentry" href="winbindd.8.html"><span class="citerefentry"><span class="refentrytitle">winbindd</span>(8)</span></a> デーモンは、
	  このパラメータによってユーザのホームディレクトリの位置を設定する。
	  文字列中に <em class="parameter"><code>%D</code></em> があれば、
	  ユーザの所属する NT ドメイン名に置き換えられる。文字列中に 
	  <em class="parameter"><code>%U</code></em> があれば、
	  ユーザの NT ドメインにおけるユーザ名に置き換えられる。
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>template homedir</code></em> = <code class="literal">/home/%D/%U</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="template shell (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2573738"/>

template shell (G)
</h3></div></div></div><a class="indexterm" name="id2573739"/><a name="TEMPLATESHELL"/><div class="variablelist"><dl><dt/><dd><p>NT ドメインのユーザに対応するユーザ情報を作成する際、 
	  <a class="citerefentry" href="winbindd.8.html"><span class="citerefentry"><span class="refentrytitle">winbindd</span>(8)</span></a>デーモンは、
	  このパラメータによってユーザのログインシェルを設定する。</p><p><span class="emphasis"><em>既定値なし</em></span></p></dd></dl></div></div><div class="section" title="time offset (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2573779"/>

time offset (G)
</h3></div></div></div><a class="indexterm" name="id2573780"/><a name="TIMEOFFSET"/><div class="variablelist"><dl><dt/><dd><p>このパラメータは、GMT
	からローカル時間への変換時に追加する時間(分単位)を設定する。
	夏時間処理に問題があるPCを多数管理している際に有効である。
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>time offset</code></em> = <code class="literal">0</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>time offset</code></em> = <code class="literal">60</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="time server (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2573840"/>

time server (G)
</h3></div></div></div><a class="indexterm" name="id2573841"/><a name="TIMESERVER"/><div class="variablelist"><dl><dt/><dd><p>このパラメータにより、 <a class="citerefentry" href="nmbd.8.html"><span class="citerefentry"><span class="refentrytitle">nmbd</span>(8)</span></a> が、
    Windows クライアントに対して、自身をタイムサーバとしてアナウンスするかどうかが制御される。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>time server</code></em> = <code class="literal">no</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="unix charset (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2573894"/>

unix charset (G)
</h3></div></div></div><a class="indexterm" name="id2573895"/><a name="UNIXCHARSET"/><div class="variablelist"><dl><dt/><dd><p>Samba が動作する UNIX マシンで使われている文字コードを指定する。
    この情報は、Samba が SMB クライアントの使用している文字コードと文字列の変換を行なうために必要である。
	</p><p>
    ここで設定した文字コードは、Samba から実行するスクリプトの引数にも用いられる。
    </p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>unix charset</code></em> = <code class="literal">UTF8</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>unix charset</code></em> = <code class="literal">ASCII</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="unix extensions (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2573968"/>

unix extensions (G)
</h3></div></div></div><a class="indexterm" name="id2573969"/><a name="UNIXEXTENSIONS"/><div class="variablelist"><dl><dt/><dd><p>この真偽値パラメータは、Samba が 
    HP 社によって定義された CIFS の UNIX拡張を利用するかどうかを制御する。
    これらの拡張は、UNIX クライアントから UNIX サーバに対して接続する際に有用な CIFS を有効にし、
    シンボリックリンクやハードリンクなどを利用可能にする。
    これらの拡張により、Samba は UNIX の CIFS クライアントに対して、
    シンボリックリンクやハードリンクといった機能を提供することが可能となる。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>unix extensions</code></em> = <code class="literal">yes</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="unix password sync (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2574029"/>

unix password sync (G)
</h3></div></div></div><a class="indexterm" name="id2574030"/><a name="UNIXPASSWORDSYNC"/><div class="variablelist"><dl><dt/><dd><p> この真偽値パラメータにより、 smbpasswd ファイルの暗号化された SMBパスワードの更新時に、
    Samba が UNIX のパスワードを SMB パスワードと同期させるようになる。
    これを <code class="constant">yes</code> に設定した場合、
    (SMB パスワードの変更コードは古い平文パスワードを参照できず、新しいパスワードだけが渡されるため、)
    新しい UNIX パスワードを古いパスワードの情報なしで設定するため、
    <em class="parameter"><code>passwd program</code></em>
    パラメータで指定されたコマンドが
    <span class="emphasis"><em>ROOT権限で</em></span>呼び出される。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>unix password sync</code></em> = <code class="literal">no</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="update encrypted ()"><div class="titlepage"><div><div><h3 class="title"><a name="id2574102"/>

update encrypted ()
</h3></div></div></div><a class="indexterm" name="id2574103"/><a name="UPDATEENCRYPTED"/><div class="variablelist"><dl><dt/><dd><p> この真偽値パラメータにより、
    平文パスワードでログインしたユーザのログオン時に、
    そのユーザの暗号化(ハッシュ化)パスワードが自動的に smbpasswd ファイル中に格納されるようになる。
    このオプションにより、暗号化パスワード認証を有効にする際、
    ユーザに smbpasswd へのパスワード再入力を強制することなく、
    平文パスワード認証
    (平文パスワードによるユーザ認証情報がネットワーク上を流れて UNIX
    側のアカウントデータベースで照会される)から暗号化パスワード認証
    (SMB のチャレンジアンドレスポンス認証) への移行を行うことが可能になる。
    これは便利なオプションで、
    ある程度の時間をかけて徐々に暗号化パスワードへと移行することを可能にする。
    すべてのユーザが smbpasswd ファイルに暗号化パスワードを格納したら、
    このパラメータを <code class="constant">no</code> に設定すべきだろう。
    </p><p>
    </p><p>このパラメータは
    <a class="link" href="smb.conf.5.html#ENCRYPTPASSWORDS" target="_top">encrypt passwords</a>
    が <code class="constant">no</code> に設定されている時のみ動作する。</p><p>
    <a class="link" href="smb.conf.5.html#ENCRYPTPASSWORDS" target="_top">encrypt passwords = Yes</a> がデフォルトであるため、
    <a class="link" href="smb.conf.5.html#UPDATEENCRYPTED" target="_top">update encrypted</a> を動作させるには
    このパラメータを <code class="constant">no</code> に設定する必要があることに注意。
    </p><p> このパラメータが有効になっている場合であっても、
    <code class="literal">smbd</code> に接続するユーザは正しいパスワードを入力して、
    (smbpasswdファイル中の)暗号化されたパスワードを更新する必要がある。
    </p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>update encrypted</code></em> = <code class="literal">no</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="use client driver (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2574253"/>

use client driver (S)
</h3></div></div></div><a class="indexterm" name="id2574254"/><a name="USECLIENTDRIVER"/><div class="variablelist"><dl><dt/><dd><p>このパラメータは、Windows NT/2000 クライアントに対してのみ影響し、
	Windows 95/98/Me クライアントに対しては影響しない。
	Windows NT/2000 クライアントに対して、
	Samba ホスト上に適切なプリンタドライバをインストールせずに、プリンタ共有を提供する場合、		
	クライアント側ローカルにプリンタドライバをインストールする必要がある。
	このため、クライアントは、そのプリンタをローカルプリンタとして扱い、
	ネットワークプリンタとしては扱わなくなる。
	これは、<code class="literal">disable spoolss = yes</code>にしたときとほぼ同様の動作になる。
	</p><p> 違いが発生するのは、通常の環境下において、
	NT/2000 クライアントは MS-RPC を用いてネットワークプリンタをオープンしようとする点にある。
	クライアントはプリンタがローカルにあると判断しているため、
	ログオンしているユーザに割り当てられたアクセス権を要求して
	OpenPrinterEx() 呼出を発行してしまう点が問題となる。
	ユーザがローカルで管理者権限を持っているが、Samba ホスト上では root 権限を持っていない場合(これはよくあるケースになる)、
	OpenPrinterEx() 呼出は失敗する。
	その結果、(印刷ジョブが正常に印刷されているにも関わらず、)
	クライアント側のプリンタキューのウインドウには、
	「Access Denied; Unable to connect」というメッセージが表示される。</p><p> このパラメータが有効になっているプリンタに対しては、
	PRINTER_ACCESS_ADMINISTER 権限によるプリンタのオープンの試みはすべて、
	PRINTER_ACCESS_USE の権限で行なわれ、
	これにより、OpenPrinterEx() が成功することになる。
	<span class="emphasis"><em>適切なプリンタドライバがインストールされている 
	Samba サーバ上のプリンタ共有に対して、このパラメータを有効にしてはならない。</em></span></p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>use client driver</code></em> = <code class="literal">no</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="use mmap (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2574372"/>

use mmap (G)
</h3></div></div></div><a class="indexterm" name="id2574373"/><a name="USEMMAP"/><div class="variablelist"><dl><dt/><dd><p>このグローバルパラメータは、 Samba が内部的に利用する tdb の動作を、システムの mmap が正しく動作するかどうかに依存させるかどうかを制御する。
    Samba は一貫性の保たれた mmap (read-write system memory cache) を必要とする。
    現在、HPUX については、こうした一貫性のあるキャッシュが実装されていないため、 HPUX におけるこのパラメータのデフォルトは、<code class="constant">no</code> になっている。
    それ以外のシステムにおいては、このパラメータの値を変更すべきではない。
    このパラメータは、Samba 開発者の tdb の内部コードの問題解析を支援するために提供されている。
    </p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>use mmap</code></em> = <code class="literal">yes</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="user"><div class="titlepage"><div><div><h3 class="title"><a name="id2574441"/>

<a name="USER"/>user
</h3></div></div></div><a class="indexterm" name="id2574442"/><div class="variablelist"><dl><dt/><dd><p>このパラメータは右記のパラメータの別名である：<a class="link" href="#USERNAME">username</a>.</p></dd></dl></div></div><div class="section" title="users"><div class="titlepage"><div><div><h3 class="title"><a name="id2574474"/>

<a name="USERS"/>users
</h3></div></div></div><a class="indexterm" name="id2574475"/><div class="variablelist"><dl><dt/><dd><p>このパラメータは右記のパラメータの別名である：<a class="link" href="#USERNAME">username</a>.</p></dd></dl></div></div><div class="section" title="username (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2574506"/>

username (S)
</h3></div></div></div><a class="indexterm" name="id2574507"/><a name="USERNAME"/><div class="variablelist"><dl><dt/><dd><p>このパラメータに複数のユーザをコンマで区切ったリストで指定することにより、
    各ユーザ名に対して(左から右に)順番に入力したパスワードを用いた認証が行われる。
    </p><p> <em class="parameter"><code>username</code></em> パラメータは、
    PC 側からユーザ名が提供されない時にのみ必要である。
    これに該当するのは、COREPLUS プロトコルを用いているか、
    Windows for Workgroup において、ユーザ名が UNIX 側のユーザ名と異なっている場合である。
    どちらの場合も、このパラメータの代わりに \\server\share%user の記法を用いるのが好ましい。</p><p>Sambaは <em class="parameter"><code>username</code></em> パラメータで指定された各ユーザに対して、
    提供されたパスワードを用いて順番に認証を行っていくことになるため、
    <em class="parameter"><code>username</code></em>は最適の解決策とはいえない。
    これは遅い上、パスワードが重複しているユーザが多数存在しているような場合には困ったことになる。
    このパラメータを不用意に使うと、
    タイムアウトやセキュリティ上の問題などが発生するかも知れない。
    </p><p>Samba は、プラットフォームである UNIX のセキュリティ機構に依存している。
    このパラメータは、ログインできるユーザを制限するものではなく、
    提供されたパスワードを適用するユーザについての情報を Samba サーバに与えるものである。
    ユーザは自分が好むユーザとしてログインすることが可能であるが、
    telnet セッションよりは、被害を与えないだろう。
    デーモンはログインしたユーザの権限で動作するため、
    ユーザの権限で行えないことは何も行えない。</p><p>サービスへのアクセスを特定のユーザに制限したい場合は、
    <a class="link" href="smb.conf.5.html#VALIDUSERS" target="_top">valid users</a>
    パラメータを利用すること。</p><p>ユーザ名が '@' ではじまっている場合は、
    (Samba がネットグループをサポートするようにコンパイルされている場合)
    まず NIS のネットグループ、更に UNIX のグループデータベースにおいて、
    該当する名前のグループがないかが検索され、
    その名前のグループに所属する全てのユーザ名に展開される。</p><p>ユーザ名が '+' から始まっている場合は、
    UNIX のグループデータベースのみが検索され、
    その名前のグループに所属する全てのユーザ名に展開される。</p><p>ユーザ名が '&amp;' から始まっている場合は、
    (Samba がネットグループをサポートするようにコンパイルされている場合)
    NIS のネットグループのみが検索され、
    その名前のグループに所属する全てのユーザ名に展開される。</p><p>グループ名の検索には時間が掛かるため、
    クライアントによっては検索がタイムアウトしてしまう場合があることに注意。
    </p><p>このパラメータにより、サービスへのアクセスがどのように行われるかの詳細については
    <a class="link" href="#VALIDATIONSECT" title="ユーザ名とパスワード認証についての注意">NOTE ABOUT 
    ユーザ名とパスワード認証についての注意</a> のセクションを参照のこと。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>username</code></em> = <code class="literal">
# ゲストサービスの時は、
guest account で設定されたアカウント、それ以外の時は &lt;空文字列&gt;</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>username</code></em> = <code class="literal">fred, mary, jack, jane, @users, @pcgroup</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="username level (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2574728"/>

username level (G)
</h3></div></div></div><a class="indexterm" name="id2574729"/><a name="USERNAMELEVEL"/><div class="variablelist"><dl><dt/><dd><p>このオプションは、 DOS クライアントの多くが送信する大文字化されたユーザ名から、
    Samba が本当の UNIX のユーザ名を「推測」する際の手助けを行う。
    デフォルトの場合、 Samba は全て小文字のユーザ名、
    先頭の文字のみを大文字にしたユーザ名を順に試しても、
    UNIX マシン上に該当するユーザ名がない場合は処理を失敗させる。</p><p>このパラメータに 0 以外の値を指定することで、この処理を変更できる。
    このパラメータは、UNIX 側のユーザ名を確認する際に大文字が幾つ入ったユーザ名の組合せまで確認を行なうかを決定するものである。
    大きい数字を指定する程、多くの組合せが確認されるため、
    ユーザ名の確認作業は遅くなる。
    このパラメータは、UNIX マシン上に
    <code class="constant">AstrangeUser
    </code>といった名前が存在する際に使用すること。</p><p>このパラメータは、ユーザ名の大文字、小文字が区別される UNIX システムでのみ必要である。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>username level</code></em> = <code class="literal">0</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>username level</code></em> = <code class="literal">5</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="username map (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2574831"/>

username map (G)
</h3></div></div></div><a class="indexterm" name="id2574832"/><a name="USERNAMEMAP"/><div class="variablelist"><dl><dt/><dd><p>このオプションにより、クライアント上とサーバ上でのユーザ名のマッピング
    情報を格納したファイルが指定される。これは幾つかの目的で利用される。
    通常は DOS や Windows マシンでユーザが利用しているユーザ名を UNIX マシン上でのユーザ名にマッピングする為に用いられるが、
    複数のユーザを特定のユーザ名にマッピングすることで、
    ユーザ間でのファイル共有を簡単に行なえるようにするために用いることも可能である。</p><p>
    security パラメータが user もしくは share の場合、username map パラメータは
    ユーザの資格情報が検証されるたびに適用されることに注意。
    ドメインのメンバサーバ(domain もしくは ads)の場合、ドメインコントローラから認証を受けた後で username map パラメータが適用され、マッピングの際には、完全ユーザ名(例えば biddle = DOMAIN\foo) で記述する必要がある。
    </p><p>ファイルは各行ごとに評価される。各々の行は、左端に UNIX ユーザ名が
    あり、'=' を挟んでその右側にユーザ名のリストが続く形式をとる。
    右側のユーザ名のリストには、グループ内のすべての UNIX ユーザ名に一致させる
    @group という形式を含めることもできる。
    '*' はワイルドカードであり、任意の名前と一致する。
    ファイルの各行は最大 1023 文字まで記述可能である。</p><p>ファイルの評価は、
    提供されたユーザ名と '=' の右側の各ユーザ名とを各行毎に比較することにより行なわれる。
    提供されたユーザ名が右側のどれかに一致すると、
    提供されたユーザ名が一致したユーザ名に置き換わり、
    引続き以降の行の処理が行なわれていくことになる。</p><p>'#' や ';' で始まる行は無視される。</p><p>'!' ではじまる行があると、
    以降の行でユーザ名が一致した時点で比較処理は中止される。
    それ以外の場合、この比較処理はすべての行に対して継続される。
    ファイルの最後でワイルドカードによるマッピングを行なっている場合には、
     '!' を使うとかなり便利である。</p><p>たとえば、<code class="constant">admin</code> や
    <code class="constant">administrator</code> といった名前から UNIX の <code class="constant">root</code>
    へのマッピングを行ないたい場合は、以下のように記述する:
</p><pre class="programlisting">
<code class="literal">root = admin administrator</code>
</pre><p>
    また、UNIX の <code class="constant">system</code> グループに所属するユーザを
    <code class="constant">sys</code> という UNIX ユーザに置き換えるには、以下のように記述する:
</p><pre class="programlisting">
<code class="literal">sys = @system</code>
</pre><p>
    </p><p>username map のファイル中には幾つのマッピングの設定を行なっても構わない。</p><p>システムが NIS の NETGROUP オプションをサポートしている場合、
    グループ名の一致処理を行なう際には、 <code class="filename">/etc/group</code> データベースより先にネットグループのデータベースが調べられる。
    </p><p>空白を含む Windows のユーザ名は、
    ダブルクォートで両側を括って記述する。たとえば、
</p><pre class="programlisting">
<code class="literal">tridge = "Andrew Tridgell"</code>
</pre><p>
    は、Windows のユーザ名 "Andrew Tridgell" を
    UNIX のユーザ名 "tridge" に置き換える。</p><p> 以下の例は、 mary と fred を UNIX ユーザ sys に置き換え、
    そのほかのユーザを guest に置き換える。
    '!'を利用することで、一致した行以降の処理を抑止していることに注意。
</p><pre class="programlisting">
!sys = mary fred
guest = *
</pre><p>
    </p><p>ユーザ名が現われる箇所全てに置き換えの結果が適用されることに注意。
    例えば、\\server\fred に接続する場合、<code class="constant">
    fred</code> が <code class="constant">mary</code> に置き換えられる場合は、
    実際に接続する先は \\server\mary であり、パスワードも
    <code class="constant">fred</code> ではなく、<code class="constant">mary</code>
    のものを入力することが必要になる。この唯一の例外は、(設定している場合に)
    <a class="link" href="smb.conf.5.html#PASSWORDSERVER" target="_top">password server</a>
    に対してユーザ名を送出するときである。
    password server は、
    クライアントが提供したユーザ名を置換なしでそのまま受け取る。</p><p>逆のマッピングは行われないことにも注意。この影響が現われるのは印刷時である。
    Windows for Workgroup におけるプリントマネージャは、
    置き換えが行われたユーザが印刷ジョブを所有していないと判断するため、
    印刷ジョブ削除時にトラブルが発生する。</p><p>
    Samba 3.0.8 より前のバージョンでは、Kerberos ログインが行なわれる場合にのみ、
    完全ユーザ名(たとえば: <code class="literal">DOMAIN\user</code>)がサポートされていた。
    しかし、NTLM[SSP] によるユーザ認証の際には、ユーザ名部分のみがマッチングの対象と
    なっていた。このため、同一のサーバに対するアクセスで、結果が一致しないという事態
    が発生していた。
   </p><p>
    以下の機能は、Samba 3.0.8 以降のものである。
   </p><p>
    ローカル認証の場合、username map パラメータは、コネクションに対する認証が行なわれる際のユーザ名に対して適用される。
    </p><p>
    認証を外部のドメインコントローラに依存している場合、
    smbd は username map パラメータを、ユーザ認証が成功した場合にのみ、認証された完全ユーザ名(例: DOMAIN\user) に対して適用する。
    </p><p>
    以下に設定例を示す:
</p><pre class="programlisting">
username map = /usr/local/samba/lib/users.map
</pre><p>
    </p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>username map</code></em> = <code class="literal">
# no username map</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="username map script (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2575201"/>

username map script (G)
</h3></div></div></div><a class="indexterm" name="id2575202"/><a name="USERNAMEMAPSCRIPT"/><div class="variablelist"><dl><dt/><dd><p>
    このパラメータは <a class="link" href="smb.conf.5.html#USERNAMEMAP" target="_top">username map</a> パラメータと排他的な関係にある。
    このパラメータは、（認証要求で渡されたユーザ名を示す）コマンドライン引数を1つだけとり、
    標準出力に（マッピングされたアカウント名を示す）文字列を1行返却する
    外部プログラム、もしくはスクリプトを指定する。    
    これにより、ユーザ名のマッピング表を LDAP や NIS
    などのディレクトリサービス上に格納することが可能となる。
    </p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>username map script</code></em> = <code class="literal"/>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>username map script</code></em> = <code class="literal">/etc/samba/scripts/mapusers.sh</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="usershare allow guests (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2575281"/>

usershare allow guests (G)
</h3></div></div></div><a class="indexterm" name="id2575282"/><a name="USERSHAREALLOWGUESTS"/><div class="variablelist"><dl><dt/><dd><p>このパラメータは、ユーザ定義共有に認証されていないユーザのアクセスを許可するかどうかを制御する。
	これは、ユーザが共有の定義において
	<em class="parameter"><code>guest ok = yes</code></em>
	オプションを付与した共有を作成することの許可と同義である。
	セキュリティ上注意を要するため、既定値は無効となっている。
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>usershare allow guests</code></em> = <code class="literal">no</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="usershare max shares (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2575338"/>

usershare max shares (G)
</h3></div></div></div><a class="indexterm" name="id2575339"/><a name="USERSHAREMAXSHARES"/><div class="variablelist"><dl><dt/><dd><p>
	このパラメータは(訳注: usershare path パラメータで定義された) ユーザ定義共有ディレクトリの所有グループに所属するユーザによって作成可能なユーザ定義共有の最大数を設定する。
	0 (デフォルト) の場合、ユーザ定義共有は作成できない。
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>usershare max shares</code></em> = <code class="literal">0</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="usershare owner only (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2575390"/>

usershare owner only (G)
</h3></div></div></div><a class="indexterm" name="id2575391"/><a name="USERSHAREOWNERONLY"/><div class="variablelist"><dl><dt/><dd><p>
	このパラメータは、ユーザ定義共有として公開されるパスが、 ユーザ定義共有を作成しようとしているユーザの所有であることを必須とするかどうかを制御する。
	必須とした場合 (既定値) 、smbd は公開しようとしているディレクトリが、ユーザ定義共有の設定ファイルの所有者と同一であることを確認し、もし異なっていた倍は作成を拒否する。
	必須としなかった場合、こうした確認は行なわれず、誰が所有しているかに関わらず、ディレクトリの公開が可能となる。
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>usershare owner only</code></em> = <code class="literal">True</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="usershare path (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2575454"/>

usershare path (G)
</h3></div></div></div><a class="indexterm" name="id2575455"/><a name="USERSHAREPATH"/><div class="variablelist"><dl><dt/><dd><p>
	このパラメータにより、ユーザ定義共有の設定ファイルが格納されるファイルシステム上のディレクトリの絶対パスが指定される。
	このディレクトリは root の所有でなければならず、その他(other)がアクセス可能であってはならず、グループの所有者のみが書き込み可能となっている必要がある。
	加えて、ファイルの所有者による名前の変更と削除を制限するため、「sticky」ビットが設定されている必要がある (これは /tmp ディレクトリに対して通常行なわれる設定と同義である)。
	このディレクトリのグループ所有者が、ユーザ定義共有を作成可能なユーザとなる。
	このパラメータが設定されていない場合、誰もユーザ定義共有を作成できない。
	</p><p>
	一例として、ユーザ定義共有のディレクトリを /use/local/samba/lib/usershares
	に設定する場合、以下のようにする。
	</p><pre class="programlisting">
	ls -ld /usr/local/samba/lib/usershares/
	drwxrwx--T  2 root power_users 4096 2006-05-05 12:27 /usr/local/samba/lib/usershares/
	</pre><p>
	</p><p>
	この場合、「power_users」グループのメンバのみがユーザ定義共有を作成できる。
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>usershare path</code></em> = <code class="literal">NULL</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="usershare prefix allow list (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2575547"/>

usershare prefix allow list (G)
</h3></div></div></div><a class="indexterm" name="id2575548"/><a name="USERSHAREPREFIXALLOWLIST"/><div class="variablelist"><dl><dt/><dd><p>
	このパラメータには、ユーザ定義共有による共有を許可する絶対パス名のリストを指定する。
	共有しようとしているパス名の先頭がこのリストに指定されたパス名のいずれかと合致していない場合、公開は許可されない。
	これにより、Samba の管理者がユーザ定義共有による公開を可能とするディレクトリを制限することが可能となる。
	</p><p>
	「usershare prefix deny list」と「usershare prefix allow list」の両方が定義されている場合は、
	拒否リスト側が先に処理され、後から許可リストが処理される。
	これにより、拒否リストによる制限を優先している。
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>usershare prefix allow list</code></em> = <code class="literal">NULL</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>usershare prefix allow list</code></em> = <code class="literal">/home /data /space</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="usershare prefix deny list (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2575629"/>

usershare prefix deny list (G)
</h3></div></div></div><a class="indexterm" name="id2575630"/><a name="USERSHAREPREFIXDENYLIST"/><div class="variablelist"><dl><dt/><dd><p>
	このパラメータには、ユーザ定義共有による公開を拒否する絶対パス名のリストを指定する。
	公開しようとしているパス名の先頭がこのリストに指定されたパス名のいずれかと合致している場合、公開は許可されない。
	このリストに指定されたパス名のいずれとも合致していないパス名から始まるパス名は、ユーザ定義共有として公開を許可することができる。
	これにより、Samba の管理者がユーザ定義共有による公開を可能とするディレクトリを制限することが可能となる。
	</p><p>
	「usershare prefix deny list」と「usershare prefix allow list」の両方が定義されている場合は、
	拒否リスト側が先に処理され、後から許可リストが処理される。
	これにより、拒否リストによる制限を優先している。
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>usershare prefix deny list</code></em> = <code class="literal">NULL</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>usershare prefix deny list</code></em> = <code class="literal">/etc /dev /private</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="usershare template share (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2575723"/>

usershare template share (G)
</h3></div></div></div><a class="indexterm" name="id2575724"/><a name="USERSHARETEMPLATESHARE"/><div class="variablelist"><dl><dt/><dd><p>ユーザ定義共有では、path 、 guest ok といった幾つかのパラメータしか設定できないが、
	このパラメータにより、ユーザ定義共有を既存の共有から「複製」することが可能となる。
	「usershare template share」に既存の共有名が設定されていた場合、作成されるすべてのユーザ定義共有では、既定値としてこの共有に設定されたパラメータが用いられる。
	</p><p>
	対象となる共有には、「-valid = False」の設定をテンプレートの設定として行なっておくことで、実際のファイル共有として機能しないようにしておくことができる。
	これにより、ユーザ定義共有のテンプレートとして用いつつ、その共有が実際に公開されないようにできる。
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>usershare template share</code></em> = <code class="literal">NULL</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>usershare template share</code></em> = <code class="literal">template_share</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="use sendfile (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2575812"/>

use sendfile (S)
</h3></div></div></div><a class="indexterm" name="id2575813"/><a name="USESENDFILE"/><div class="variablelist"><dl><dt/><dd><p>このパラメータが <code class="constant">yes</code> であり、
    かつ Samba の動作する OS で <code class="constant">sendfile() </code> システムコールがサポートされている場合、いくつかの SMB read コール (主に ReadAndX と ReadRaw) において排他的 oplock が行なわれているファイルに対して効率的な sendfile システムコールが使用される。これにより、システムの CPU の効率的な使用が行なわれ、 Samba の動作も高速化するだろう。
    Samba は NT LM 0.12 未満のプロトコルを用いるクライアントや Windows 9x ( Linux から sendfile を用いると、これらのクライアントの処理が失敗する) に対しては、自動的にこのオプションを無効にする。
    </p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>use sendfile</code></em> = <code class="literal">false</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="use spnego (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2575885"/>

use spnego (G)
</h3></div></div></div><a class="indexterm" name="id2575886"/><a name="USESPNEGO"/><div class="variablelist"><dl><dt/><dd><p> このパラメータの値により、 Samba が Windows 2000 や Windows XP クライアントの間で行なわれる認証の際に
    Simple and Protected NEGOciation (RFC2478 で規定) の使用を試みるかどうかが制御される。
    </p><p>
    SPNEGO の実装に問題点が発見されない限り、
    これを無効にする必要性はない。
    </p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>use spnego</code></em> = <code class="literal">yes</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="utmp (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2575941"/>

utmp (G)
</h3></div></div></div><a class="indexterm" name="id2575942"/><a name="UTMP"/><div class="variablelist"><dl><dt/><dd><p>この真偽値パラメータは、
	Sambaが <code class="literal">--with-utmp</code> オプションで
	configure され、コンパイルされた時にのみに有効である。
	このパラメータを <code class="constant">yes</code> に設定することで、
	Sambaは utmp または utmpx レコード(UNIXシステムに依存)に、
	Sambaサーバへの接続時の情報を追加するようになる。
	このパラメータにより、
	Sambaの共有への接続を記録することが可能になる。
	</p><p>utmp レコードの仕様のため、接続する個々のユーザ毎に一意な識別子が生成されている必要がある。
	この、オプションを有効にすることで、 n^2 アルゴリズムを使ってその番号を検索する処理が発生する。
	大規模システムの場合、この処理がパフォーマンスに影響を与える場合も考えられる。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>utmp</code></em> = <code class="literal">no</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="utmp directory (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2576019"/>

utmp directory (G)
</h3></div></div></div><a class="indexterm" name="id2576020"/><a name="UTMPDIRECTORY"/><div class="variablelist"><dl><dt/><dd><p>このパラメータは、
	Sambaが <code class="literal">--with-utmp</code> オプションで
	configure され、コンパイルされた時にのみに有効である。
	このパラメータは、
	Sambaサーバへの接続を記録する utmp または utmpx ファイル
	(UNIXシステムに依存)が存在するディレクトリを指定する。
	デフォルトではこの値は設定されない。
	この場合、システムが利用している utmp ファイルが使われる
	(Linux の場合、通常 
	<code class="filename">/var/run/utmp</code> にある)。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>utmp directory</code></em> = <code class="literal">
# Determined automatically</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>utmp directory</code></em> = <code class="literal">/var/run/utmp</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="-valid (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2576102"/>

-valid (S)
</h3></div></div></div><a class="indexterm" name="id2576103"/><a name="-VALID"/><div class="variablelist"><dl><dt/><dd><p>このパラメータは、共有が有効であり、使用可能かどうかを制御する。
	このパラメータを false に設定した場合、いかなる方法を用いても、共有を表示したり、共有に対してアクセスしたりすることができなくなる。
	</p><p>
	このオプションは一般ユーザが利用すべきものではなく、開発者の利便性のために設けられている。
	Samba はこのオプションを内部的に用いて、共有が削除されたことを記録している。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>-valid</code></em> = <code class="literal">yes</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="valid users (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2576159"/>

valid users (S)
</h3></div></div></div><a class="indexterm" name="id2576160"/><a name="VALIDUSERS"/><div class="variablelist"><dl><dt/><dd><p>サービスにアクセスできるユーザのリストを指定する。
    '@'、'+'、'&amp;' からはじまる名前は、
    <em class="parameter"><code>invalid users</code></em> 
    パラメータで説明した規則にしたがって解釈される。</p><p>このパラメータが設定されていない場合(既定値)、どのようなユーザでもログインできる。このリストと
    <em class="parameter"><code>invalid users</code></em> 
    の両方に含まれるユーザのアクセスは拒否される。</p><p><em class="parameter"><code>%S</code></em> は、現在のサービス名に置き換えられる。
    これは [homes] セクションで用いると便利である。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>valid users</code></em> = <code class="literal">
# No valid users list (anyone can login) </code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>valid users</code></em> = <code class="literal">greg, @pcusers</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="veto files (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2576256"/>

veto files (S)
</h3></div></div></div><a class="indexterm" name="id2576257"/><a name="VETOFILES"/><div class="variablelist"><dl><dt/><dd><p>このパラメータは、
	一覧することもアクセスすることもできないファイルとディレクトリのリストを指定する。
	リストの各エントリは '/' で区切ること。これにより、
	エントリ中に空白文字を用いることが可能になっている。
	'*'と '?'は DOS のワイルドカードと同様、
	複数のファイルやディレクトリを指定するために利用できる。</p><p>各エントリはDOSの形式ではなく、
	UNIXでのパス形式である必要があり、
	UNIX のディレクトリ区切りである '/'を<span class="emphasis"><em>含めてはならない</em></span>。
		</p><p>
	<a class="link" href="smb.conf.5.html#CASESENSITIVE" target="_top">case sensitive</a> オプションが、この処理に影響することに注意。
	</p><p>veto files パラメータの利用に際して注意すべき重要な点が、
	ディレクトリ削除時の動作である。
	削除されるディレクトリに veto files パラメータに一致するファイルが存在する場合、
	<a class="link" href="smb.conf.5.html#DELETEVETOFILES" target="_top">delete veto files</a> パラメータが
	<em class="parameter"><code>yes</code></em> でない限り、削除は<span class="emphasis"><em>失敗</em></span>する。</p><p>このパラメータを設定した場合は、
	ファイルやディレクトリの一覧を取得する際、
	すべてのファイルとディレクトリについて、
	このパラメータのマッチング処理が行なわれるようになるため、
	Samba の性能に影響が発生する。</p><p>
	以下に設定例を記載する:
</p><pre class="programlisting">
; Veto any files containing the word Security,
; any ending in .tmp, and any directory containing the
; word root.
veto files = /*Security*/*.tmp/*root*/

; Veto the Apple specific files that a NetAtalk server
; creates.
veto files = /.AppleDouble/.bin/.AppleDesktop/Network Trash Folder/
</pre><p>
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>veto files</code></em> = <code class="literal">アクセスできないファイルやディレクトリはない</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="veto oplock files (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2576402"/>

veto oplock files (S)
</h3></div></div></div><a class="indexterm" name="id2576403"/><a name="VETOOPLOCKFILES"/><div class="variablelist"><dl><dt/><dd><p>このパラメータは、
	<a class="link" href="smb.conf.5.html#OPLOCKS" target="_top">oplocks</a>
	パラメータが有効になっている共有でのみ意味がある。
	Samba の管理者は、このパラメータを使って
	リストにマッチしたファイルに対する oplock を禁止することができる。
	リストは <a class="link" href="smb.conf.5.html#VETOFILES" target="_top">veto files</a> 
	パラメータで利用されているものと同様の形式である。</p><p>
	クライアントによるロック競合が激しいファイルに対して、
	このオプションを適用したいということがあるだろう。
	例としては NetBench SMB ベンチマーク・プログラムがある。
	このプログラムは <code class="filename">「.SEM」</code>
	で終わる名前のファイルに対して激しい競合を発生させる。
	これらのファイルに対する oplock を禁止するためには、
	以下の設定例のように指定する
	([global] セクションか、
	Net Bench 用の共有のいずれかにおいて)。</p><p>
	以下に設定例を示す。
</p><pre class="programlisting">
veto oplock files = /.*SEM/
</pre><p>
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>veto oplock files</code></em> = <code class="literal">
# oplock 取得を禁止されるファイルやディレクトリはない</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="vfs object"><div class="titlepage"><div><div><h3 class="title"><a name="id2576517"/>

<a name="VFSOBJECT"/>vfs object
</h3></div></div></div><a class="indexterm" name="id2576518"/><div class="variablelist"><dl><dt/><dd><p>このパラメータは右記のパラメータの別名である：<a class="link" href="#VFSOBJECTS">vfs objects</a>.</p></dd></dl></div></div><div class="section" title="vfs objects (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2576550"/>

vfs objects (S)
</h3></div></div></div><a class="indexterm" name="id2576551"/><a name="VFSOBJECTS"/><div class="variablelist"><dl><dt/><dd><p>このパラメータは、 Samba の VFS I/O 操作において用いられるバックエンド名を指定する。デフォルトでは通常のディスク I/O 操作が行なわれるが、 VFS オブジェクトによりこの操作を変更することが可能である。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>vfs objects</code></em> = <code class="literal"/>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>vfs objects</code></em> = <code class="literal">extd_audit recycle</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="volume (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2576611"/>

volume (S)
</h3></div></div></div><a class="indexterm" name="id2576612"/><a name="VOLUME"/><div class="variablelist"><dl><dt/><dd><p>このパラメータにより、共有のボリュームラベルの設定が可能になる。
	これは、特定のボリューム名が必要なインストールプログラムを格納した CD-ROM を共有する際に便利である。
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>volume</code></em> = <code class="literal">
# the name of the share</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="wide links (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2576656"/>

wide links (S)
</h3></div></div></div><a class="indexterm" name="id2576658"/><a name="WIDELINKS"/><div class="variablelist"><dl><dt/><dd><p>このパラメータは、
	UNIXファイルシステム上のリンクをサーバが追跡するかどうかを制御する。
	サーバが公開するディレクトリツリー内部へのリンクは、
	常に許可されている。このパラメータは、
	公開されているディレクトリツリー外部へのアクセスを制御する。</p><p>このパラメータを no に設定すると、
	リンク先のチェックを行なうための余分なシステムコールを実行する必要があるため、
	サーバのパフォーマンスに悪影響を及ぼすことに注意。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>wide links</code></em> = <code class="literal">yes</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="winbind cache time (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2576716"/>

winbind cache time (G)
</h3></div></div></div><a class="indexterm" name="id2576718"/><a name="WINBINDCACHETIME"/><div class="variablelist"><dl><dt/><dd><p>
	  このパラメータにより、 <a class="citerefentry" href="winbindd.8.html"><span class="citerefentry"><span class="refentrytitle">winbindd</span>(8)</span></a> デーモンが Windows NT Server 
	  に問い合わせを行なう代わりに、キャッシュしたユーザとグループの情報を
	  使用する時間を秒単位で指定する。
	</p><p>
	  この設定は認証要求には適用されない。認証要求は
	  <a class="link" href="smb.conf.5.html#WINBINDOFFLINELOGON" target="_top">winbind offline logon</a>オプションが有効に
	  されない限り、常にその度ごとに処理される。
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>winbind cache time</code></em> = <code class="literal">300</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="winbind enum groups (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2576795"/>

winbind enum groups (G)
</h3></div></div></div><a class="indexterm" name="id2576796"/><a name="WINBINDENUMGROUPS"/><div class="variablelist"><dl><dt/><dd><p>
	  非常に大規模な環境において、 <a class="citerefentry" href="winbindd.8.html"><span class="citerefentry"><span class="refentrytitle">winbindd</span>(8)</span></a> を使用する際には、 <code class="literal">setgrent()</code>、
	<code class="literal">getgrent()</code>、
	<code class="literal">endgrent()</code> といった
	システムコール群の呼び出しによるグループの一覧取得を抑止する
	必要があるかも知れない。
	<em class="parameter"><code>winbind enum groups</code></em>
	パラメータが <code class="constant">no</code> の場合、 <code class="literal">getgrent()</code>
	システムコールの呼び出しは、全くデータを返却しない。
	</p><div class="warning" title="Warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Warning</h3><p>グループ一覧(enumeration)を無効にするとプログラムによっては異常動作を引き起こす恐れがある。 </p></div><p>既定値: <span class="emphasis"><em><em class="parameter"><code>winbind enum groups</code></em> = <code class="literal">no</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="winbind enum users (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2576896"/>

winbind enum users (G)
</h3></div></div></div><a class="indexterm" name="id2576898"/><a name="WINBINDENUMUSERS"/><div class="variablelist"><dl><dt/><dd><p>
	  非常に大規模な環境において、 <a class="citerefentry" href="winbindd.8.html"><span class="citerefentry"><span class="refentrytitle">winbindd</span>(8)</span></a>を使用する際には、 
	  <code class="literal">setpwent()</code>、
	 <code class="literal">getpwent()</code> や
	 <code class="literal">endpwent()</code>
	 といったシステムコール群の呼び出しによるユーザの一覧取得を抑止する必要があるかも知れない。
	 <em class="parameter"><code>winbind enum users</code></em>パラメータが
	 <code class="constant">no</code> の場合、 <code class="literal">getpwent</code>
	 システムコールの呼び出しは、全くデータを返却しない。</p><div class="warning" title="Warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Warning</h3><p>
    ユーザ一覧(enumeration)を無効にするとプログラムによっては
    異常動作を引き起こす恐れがある。 
    例えば、finger プログラムは、全てのユーザの一覧にアクセスできる前提で、
    ユーザ名のマッチングを行なっている。 
</p></div><p>既定値: <span class="emphasis"><em><em class="parameter"><code>winbind enum users</code></em> = <code class="literal">no</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="winbind expand groups (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2577004"/>

winbind expand groups (G)
</h3></div></div></div><a class="indexterm" name="id2577005"/><a name="WINBINDEXPANDGROUPS"/><div class="variablelist"><dl><dt/><dd><p>
	  このオプションは Windows ドメイングループのネストされた
	  グループメンバーを展開する際に winbindd が探索を繰り返す
	  最大の階層を制御する。
	  これは ローカルグループのネスト化を Windows NT4 形式で実装している
	  <a class="link" href="smb.conf.5.html#WINBINDNESTEDGROUPS" target="_top">winbind nested groups</a> オプションとは
	  異なる。
	  "winbind expand groups" パラメーターはドメイングループの
	  メンバーシップを明確に適用する。</p><p>このパラメーターに高い値を設定することは、最上位の winbindd 
	   デーモンがグループの展開を処理しなければならず、その間、
	   NSSや認証要求に対する応答が不可能となるために、システムの
	   性能低下をもたらすことに注意しなさい。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>winbind expand groups</code></em> = <code class="literal">1</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="winbind nested groups (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2577088"/>

winbind nested groups (G)
</h3></div></div></div><a class="indexterm" name="id2577089"/><a name="WINBINDNESTEDGROUPS"/><div class="variablelist"><dl><dt/><dd><p>
	  このパラメータを yes にすると、グループの入れ子が可能になる。 
	  入れ子になるグループは、ローカルグループやエイリアスと呼ばれる。 
	  これは、Windows のローカルグループに対応するものである。 
	  入れ子になるグループは、各マシンローカルで定義され 
	  (ただしドメインコントローラ間では SAM を共有するため共有され)、 
	  信頼される任意の SAM で定義されたユーザやグローバルグループを
	  含めることができる。 
	  入れ子になるグループを用いるには、nss_winbind を有効にしておく
	  必要がある。 </p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>winbind nested groups</code></em> = <code class="literal">yes</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="winbind normalize names (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2577153"/>

winbind normalize names (G)
</h3></div></div></div><a class="indexterm" name="id2577154"/><a name="WINBINDNORMALIZENAMES"/><div class="variablelist"><dl><dt/><dd><p>
	  このパラメーターは、winbindd がユーザー名やグループ名に含まれる
	  空白をアンダースコア「_」に置き換えるかどうかを制御する。
	  例えば、"Space Kadet" という名前が、"space_kadet"
	  という文字列に置き換えられるべきかどうかということを意味する。
	  シェルの既定値のフィールドセパレーターが空白であるため、
	  Unixのシェルスクリプトは空白を含むユーザー名を扱うことが難しい。
	  もしあなたのドメインでアカウント名にアンダースコアを含む場合、
	  このオプションを有効にしてはならない(nss_infoプラグインで名前の
	  エイリアス機能がサポートされている場合を除く)。
	</p><p>この機能は、認証されていないドメインユーザとグループの名前の
	エイリアスを作成するAPIも提供する。特定の設定に関するidmapやnss
	プラグインの仕様についてはマニュアルページを参照のこと。エイリアス
	の設定は、前述の「空白文字の制御」と排他的な関係である。
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>winbind normalize names</code></em> = <code class="literal">no</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>winbind normalize names</code></em> = <code class="literal">yes</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="winbind nss info (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2577255"/>

winbind nss info (G)
</h3></div></div></div><a class="indexterm" name="id2577256"/><a name="WINBINDNSSINFO"/><div class="variablelist"><dl><dt/><dd><p>
    このパラメータは、Winbind が Name Service Information からユーザの
    ホームディレクトリやログインシェルの情報を取得する方法を指定する。 
    現在のところ、以下の値が利用できる:
	</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p><em class="parameter"><code>template</code></em> 
		    - 既定値であり、<em class="parameter"><code>template shell</code></em> および <em class="parameter"><code>template homedir</code></em>パラメータの値を用いる。
		  </p></li><li class="listitem"><p><em class="parameter"><code>&lt;sfu | rfc2307 &gt;</code></em>
		    - Samba が security = ads で実行されており、
		    Active Directory の DC が Microsoft Services for Unix (SFU)
		    の LDAP スキーマをサポートしている場合、Winbind 機構は
		    ログインシェルおよびホームディレクトリ属性を DC から
		    直接取得する。 
		    UID や GID 情報を DC から取得したい場合は、 
		    <em class="parameter"><code>idmap config DOMAIN:backend</code></em> = ad も設定すること。 
		  </p></li></ul></div><p>
</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>winbind nss info</code></em> = <code class="literal">template</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>winbind nss info</code></em> = <code class="literal">sfu</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="winbind offline logon (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2577380"/>

winbind offline logon (G)
</h3></div></div></div><a class="indexterm" name="id2577381"/><a name="WINBINDOFFLINELOGON"/><div class="variablelist"><dl><dt/><dd><p>
	  このパラメータは、Winbind 機構で <em class="parameter"><code>pam_winbind</code></em>
	  モジュールにキャッシュされた資格情報を用いたログインを可能に
	  するかどうかを指定する。 有効にした場合、winbindd は、ログインに
	  成功したユーザの資格情報を、暗号化してローカルのキャッシュに
	  格納する。 
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>winbind offline logon</code></em> = <code class="literal">false</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>winbind offline logon</code></em> = <code class="literal">true</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="winbind reconnect delay (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2577457"/>

winbind reconnect delay (G)
</h3></div></div></div><a class="indexterm" name="id2577458"/><a name="WINBINDRECONNECTDELAY"/><div class="variablelist"><dl><dt/><dd><p>このパラメータは<a class="citerefentry" href="winbindd.8.html"><span class="citerefentry"><span class="refentrytitle">winbindd</span>(8)</span></a>デーモンがドメインコントローラ
	に接続できない場合に再接続要求を行う間隔を秒単位で指定する。
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>winbind reconnect delay</code></em> = <code class="literal">30</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="winbind refresh tickets (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2577510"/>

winbind refresh tickets (G)
</h3></div></div></div><a class="indexterm" name="id2577511"/><a name="WINBINDREFRESHTICKETS"/><div class="variablelist"><dl><dt/><dd><p>
	  このパラメータは Winbind 機構が <em class="parameter"><code>pam_winbind</code></em>
	  モジュールから取得した Kerberos チケットをリフレッシュするかどうかを制御する。 
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>winbind refresh tickets</code></em> = <code class="literal">false</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>winbind refresh tickets</code></em> = <code class="literal">true</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="winbind rpc only (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2577580"/>

winbind rpc only (G)
</h3></div></div></div><a class="indexterm" name="id2577581"/><a name="WINBINDRPCONLY"/><div class="variablelist"><dl><dt/><dd><p>
	  このパラメーターを<code class="literal">yes</code>に
	  設定すると、winbindd がドメインコントローラーから情報を取得する際に、
	  LDAPの代わりにRPCを利用する。
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>winbind rpc only</code></em> = <code class="literal">no</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="winbind separator (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2577631"/>

winbind separator (G)
</h3></div></div></div><a class="indexterm" name="id2577632"/><a name="WINBINDSEPARATOR"/><div class="variablelist"><dl><dt/><dd><p>
    このパラメータは、 <em class="replaceable"><code>DOMAIN</code></em>\<em class="replaceable"><code>user</code></em>
    の形式でユーザ名を表示する際に使用される区切り文字を指定する。 
    このパラメータは UNIX のサービスが <code class="filename">pam_winbind.so</code>
    および <code class="filename">nss_winbind.so</code>モジュールを
    使用する時のみ適用される。
  </p><p>
    + 文字は NIS において /etc/group 中で特別な意味を持っているため、このパラメータを + に設定した場合、少なくとも glibc システムにおいては問題が発生する。
  </p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>winbind separator</code></em> = <code class="literal">'\'</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>winbind separator</code></em> = <code class="literal">+</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="winbind trusted domains only (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2577727"/>

winbind trusted domains only (G)
</h3></div></div></div><a class="indexterm" name="id2577728"/><a name="WINBINDTRUSTEDDOMAINSONLY"/><div class="variablelist"><dl><dt/><dd><p>
	  このパラメータは、Samba が管理するドメインの、他の Samba 
	  メンバーサーバに対して、NIS、rsync や LDAP で配布されている 
	  UNIX アカウントの uid を、プライマリドメインの winbindd ユーザの 
	  uid として使用するのを目的として設計された。
	  これにより、<code class="literal">DOMAIN\user1</code> というユーザは、
	  新しい uid が割り当てられる代わりに /etc/passwd の user1 
	  というアカウントに割り当てられる。 
	</p><p>
	  このパラメーターは現在では idmap_nss バックエンドによって不要となっている。
	  詳細は、<a class="citerefentry" href="idmap_nss.8.html"><span class="citerefentry"><span class="refentrytitle">idmap_nss</span>(8)</span></a> のマニュアルページを参照のこと。
	</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>winbind trusted domains only</code></em> = <code class="literal">no</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="winbind use default domain (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2577808"/>

winbind use default domain (G)
</h3></div></div></div><a class="indexterm" name="id2577809"/><a name="WINBINDUSEDEFAULTDOMAIN"/><div class="variablelist"><dl><dt/><dd><p>
    このパラメータにより、 
    <a class="citerefentry" href="winbindd.8.html"><span class="citerefentry"><span class="refentrytitle">winbindd</span>(8)</span></a>  デーモンが、ドメイン名が
    付加されていないユーザ名を扱う方式が指定される。
    ドメイン名が付加されていないユーザは、winbindd サーバのドメイン
    のものとして扱われる。 
    Windows ユーザにとっては、どちらでもよい話であるが、 SSH, FTP や 
    e-mail を利用する際に、 UNIX システム本来のやり方に近い方法で
    指定することが可能となる。
  </p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>winbind use default domain</code></em> = <code class="literal">no</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>winbind use default domain</code></em> = <code class="literal">yes</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="wins hook (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2577886"/>

wins hook (G)
</h3></div></div></div><a class="indexterm" name="id2577887"/><a name="WINSHOOK"/><div class="variablelist"><dl><dt/><dd><p>Samba が WINS サーバとして動いている場合、このオプションによって、 WINS データベースに対して変更が行なわれる度に外部のプログラムが起動されるようになる。このオプションの主な目的は、ダイナミック DNS のような外部の名前解決データベースの動的な更新を実現することである。</p><p>wins hook パラメータは、以下の形式で呼びだされるスクリプト又は実行形式のプログラムを指定する。</p><p><code class="literal">wins_hook operation name nametype ttl IP_list</code></p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>最初の引数は操作の指定であり、 "add", "delete", "refresh" のいずれかを取る。
			ほとんどの場合、残りのパラメータで提供される情報が不足している場合、操作は無視される(訳注: sufficient は insufficient の typo と思われる)。 "refresh" は名前がまだ追加されていない時点で呼び出されることがあるので注意。この場合操作は add として扱われる。</p></li><li class="listitem"><p>3番目の引数は NetBIOS名のタイプで、2桁の16進数である。</p></li><li class="listitem"><p>4番目の引数は 名前の TTL(生存時間) で秒数単位である。</p></li><li class="listitem"><p>5番目以降の引数は、その名前で現在登録されているIPアドレスである。リストが空の場合、名前は削除される。</p></li></ul></div><p>BIND の動的なDNS更新プログラムである <code class="literal">nsupdate</code> を呼び出すスクリプトのサンプルが、 Samba ソースコードの examples ディレクトリに格納されている。</p><p><span class="emphasis"><em>既定値なし</em></span></p></dd></dl></div></div><div class="section" title="wins proxy (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2578011"/>

wins proxy (G)
</h3></div></div></div><a class="indexterm" name="id2578012"/><a name="WINSPROXY"/><div class="variablelist"><dl><dt/><dd><p>この真偽値パラメータにより、 <a class="citerefentry" href="nmbd.8.html"><span class="citerefentry"><span class="refentrytitle">nmbd</span>(8)</span></a> が別のホストの代理としてブロードキャストによる名前問い合わせに応答するかどうかが設定される。古いクライアントの為に、このパラメータを <code class="constant">yes</code> にする必要があるかも知れない。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>wins proxy</code></em> = <code class="literal">no</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="wins server (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2578072"/>

wins server (G)
</h3></div></div></div><a class="indexterm" name="id2578073"/><a name="WINSSERVER"/><div class="variablelist"><dl><dt/><dd><p>このパラメータは、 <a class="citerefentry" href="nmbd.8.html"><span class="citerefentry"><span class="refentrytitle">nmbd</span>(8)</span></a> が名前を登録する WINS サーバの IP アドレス(もしくはDNS名: IPアドレスが望ましい)を指定する。ネットワークに WINS サーバが存在している場合は、このパラメータを WINS サーバの IP アドレスに設定すること。</p><p>複数サブネットからなるネットワークの場合は、このパラメータで WINS サーバを指定すべきである。</p><p>複数の名前空間が存在している場合、各々の WINS サーバに「タグ」をつけることが可能である。同じタグのついたサーバ内では 1 台の(動作中の)サーバに対してのみ、名前の問い合わせが行なわれる。タグはコロンによって IP アドレスと区切られる。
	</p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>複数のサブネットからなるネットワークで、サブネット越しのブラウジングを正しく機能させたい場合は、 Samba で WINS サーバの設定を行なう必要がある。</p></div><p>Samba3-HOWTO の Network Browsing 章を参照のこと。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>wins server</code></em> = <code class="literal"/>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>wins server</code></em> = <code class="literal">mary:192.9.200.1 fred:192.168.3.199 mary:192.168.2.61
	
# この例では、名前の問い合わせを行なう際に、 192.9.200.1 に最初に問い合わせが行なわれる。応答がなかった場合は、 192.168.2.61 に問い合わせが行なわれる。いずれのサーバからにも名前が存在しなかった場合、 192.168.3.199 に対して問い合わせが行なわれる。</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>wins server</code></em> = <code class="literal">192.9.200.1 192.168.2.61</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="wins support (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2578208"/>

wins support (G)
</h3></div></div></div><a class="indexterm" name="id2578209"/><a name="WINSSUPPORT"/><div class="variablelist"><dl><dt/><dd><p>この真偽値パラメータにより、 Samba の <a class="citerefentry" href="nmbd.8.html"><span class="citerefentry"><span class="refentrytitle">nmbd</span>(8)</span></a> プロセスを WINS サーバして機能させるかどうかが設定される。複数サブネットに及ぶネットワークを構築しており、いずれかの <code class="literal">nmbd</code> を WINS サーバとして機能させようとしない限り、このパラメータを <code class="constant">yes</code> にしないこと。</p><p>ネットワーク上の複数のマシンで、このパラメータを <code class="constant">yes</code> に設定することが<span class="emphasis"><em>絶対に</em></span>ないように注意すること。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>wins support</code></em> = <code class="literal">no</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="workgroup ()"><div class="titlepage"><div><div><h3 class="title"><a name="id2578289"/>

workgroup ()
</h3></div></div></div><a class="indexterm" name="id2578290"/><a name="WORKGROUP"/><div class="variablelist"><dl><dt/><dd><p>これは、クライアントが問い合わせを行なった際に、
    サーバが表示されるワークグループを設定する。
    このパラメータにより、 
    <a class="link" href="smb.conf.5.html#SECURITY" target="_top">security = domain</a>
    の設定におけるドメイン名も設定されることに注意。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>workgroup</code></em> = <code class="literal">WORKGROUP</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>workgroup</code></em> = <code class="literal">MYGROUP</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="writable"><div class="titlepage"><div><div><h3 class="title"><a name="id2578364"/>

<a name="WRITABLE"/>writable
</h3></div></div></div><a class="indexterm" name="id2578365"/><div class="variablelist"><dl><dt/><dd><p>このパラメータは右記のパラメータの別名である：<a class="link" href="#WRITEABLE">writeable</a>.</p></dd></dl></div></div><div class="section" title="writeable (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2578396"/>

writeable (S)
</h3></div></div></div><a class="indexterm" name="id2578397"/><a name="WRITEABLE"/><div class="variablelist"><dl><dt/><dd><p><a class="link" href="smb.conf.5.html#READONLY" target="_top">read only</a> の反意語である。</p><p><span class="emphasis"><em>既定値なし</em></span></p></dd></dl></div></div><div class="section" title="write cache size (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2578435"/>

write cache size (S)
</h3></div></div></div><a class="indexterm" name="id2578436"/><a name="WRITECACHESIZE"/><div class="variablelist"><dl><dt/><dd><p>この数値パラメータを 0 以外に設定すると、
    Sambaは oplock された各ファイルに対してメモリキャッシュを作成するようになる
   (oplock されないファイルに対しては <span class="emphasis"><em> 行なわれない </em></span>。
    クライアントがディスクへの書き出しを直接要求していない書き込みは全て、
    可能な限りこのキャッシュに蓄積される。
    キャッシュはキャッシュに適さない位置からの書き込みが行なわれた時か、
    ファイルがクライアントによってクローズされた時に書き出される。
    データがキャッシュ中に存在していれば、
    ファイルからの読み出しにキャッシュが使用される。</p><p> Sambaは、このキャッシュにより、
    RAID ディスクに対して適切な書き込みサイズでクライアントからの書き込みを処理できるようになり
   (例えば、書き込みサイズをRAIDのストライプサイズに合わせる)、
    ディスクサブシステムがボトルネックとなっているが、
    ユーザ空間のプログラム向けの空きメモリがあるシステムのパフォーマンスを向上させることができる。</p><p>この数値パラメータにより、(oplock を行なったファイル単位での) 
    キャッシュサイズがバイト単位で指定される。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>write cache size</code></em> = <code class="literal">0</code>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>write cache size</code></em> = <code class="literal">262144
#  1 ファイルあたり 256k のキャッシュサイズ</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="write list (S)"><div class="titlepage"><div><div><h3 class="title"><a name="id2578540"/>

write list (S)
</h3></div></div></div><a class="indexterm" name="id2578541"/><a name="WRITELIST"/><div class="variablelist"><dl><dt/><dd><p>これは、サービスに対して読みとりおよび書き込み権が与えられるユーザのリストである。
    接続したユーザがこのリストに存在している場合は、
    例え <a class="link" href="smb.conf.5.html#READONLY" target="_top">read only</a>
    オプションが no であっても書き込み権が与えられる。このリストには、
    @group という形式を用いることでグループ名を含めることもできる。</p><p>
    Samba 3.0 において、このパラメータは 
    <a class="link" href="smb.conf.5.html#SECURITY" target="_top">security = share</a> では動作しない。これは仕様である。
    </p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>write list</code></em> = <code class="literal"/>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>write list</code></em> = <code class="literal">admin, root, @staff</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="write raw (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2578636"/>

write raw (G)
</h3></div></div></div><a class="indexterm" name="id2578637"/><a name="WRITERAW"/><div class="variablelist"><dl><dt/><dd><p>このパラメータは、クライアントからのデータ転送時に、
    サーバ側で raw write SMB のサポートを行なうかどうかを制御する。
    このパラメータを変更する必要はないだろう。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>write raw</code></em> = <code class="literal">yes</code>
</em></span>
</p></dd></dl></div></div><div class="section" title="wtmp directory (G)"><div class="titlepage"><div><div><h3 class="title"><a name="id2578681"/>

wtmp directory (G)
</h3></div></div></div><a class="indexterm" name="id2578682"/><a name="WTMPDIRECTORY"/><div class="variablelist"><dl><dt/><dd><p>このパラメータは、
	Sambaが <code class="literal">--with-utmp</code> オプションで
	configure され、コンパイルされた時にのみに有効である。
	このパラメータは、Sambaサーバへの接続を記録する wtmp または wtmpx ファイル
	(UNIXシステムに依存)が存在するディレクトリを指定する。
	utmp directory との違いは、ユーザ情報がユーザのログオフ後も記録され続ける点である。</p><p>
	既定値ではこの値は設定されない。
	この場合、システムが利用している utmp ファイルが使われる
	(Linux の場合、通常 
	<code class="filename">/var/run/wtmp</code> にある)。</p><p>既定値: <span class="emphasis"><em><em class="parameter"><code>wtmp directory</code></em> = <code class="literal"/>
</em></span>
</p><p>例: <span class="emphasis"><em><em class="parameter"><code>wtmp directory</code></em> = <code class="literal">/var/log/wtmp</code>
</em></span>
</p></dd></dl></div></div></div></div><div class="refsect1" title="注意"><a name="id2578772"/><h2>注意</h2><p>設定ファイルでは、スペースを含むサービス名も利用できるが、
	クライアント側のソフトウェアで禁止されているかもしれない。
	文字列比較を行なう際にスペースは常に無視されるため、
	問題は発生しないはずであるが、可能性は考慮しておく必要がある。
	</p><p>同様の注意事項として、多くのクライアント、特に DOS
	クライアントでは、サービス名が最長8文字に制限されている。
	<a class="citerefentry" href="smbd.8.html"><span class="citerefentry"><span class="refentrytitle">smbd</span>(8)</span></a> にはそのような制限はなく、
	こうしたクライアントからの接続要求は、サービス名が切り捨てられてしまう
	ために失敗することになる。このため、サービス名の長さは、最大 8
	文字に制限すべきである。</p><p> <code class="literal">[homes]</code> および <code class="literal">[printers]</code> という特殊セクションにより、
	管理者の負担を軽減することができるが、デフォルトの設定の組合せ方に
	よっては、予期しない設定が行なわれる可能性もある。これらのセクションの
	設定を行なう際には、特に注意深く行なうこと。特にスプールディレクトリの
	パーミッションが適切であることを確認しておくこと。</p></div><div class="refsect1" title="バージョン"><a name="id2578842"/><h2>バージョン</h2><p>このマニュアルページは Samba 3.0 対応のものである。</p></div><div class="refsect1" title="関連項目"><a name="id2578853"/><h2>関連項目</h2><p>
	<a class="citerefentry" href="samba.7.html"><span class="citerefentry"><span class="refentrytitle">samba</span>(7)</span></a>, <a class="citerefentry" href="smbpasswd.8.html"><span class="citerefentry"><span class="refentrytitle">smbpasswd</span>(8)</span></a>, <a class="citerefentry" href="swat.8.html"><span class="citerefentry"><span class="refentrytitle">swat</span>(8)</span></a>, <a class="citerefentry" href="smbd.8.html"><span class="citerefentry"><span class="refentrytitle">smbd</span>(8)</span></a>, <a class="citerefentry" href="nmbd.8.html"><span class="citerefentry"><span class="refentrytitle">nmbd</span>(8)</span></a>, <a class="citerefentry" href="smbclient.1.html"><span class="citerefentry"><span class="refentrytitle">smbclient</span>(1)</span></a>, <a class="citerefentry" href="nmblookup.1.html"><span class="citerefentry"><span class="refentrytitle">nmblookup</span>(1)</span></a>, <a class="citerefentry" href="testparm.1.html"><span class="citerefentry"><span class="refentrytitle">testparm</span>(1)</span></a>, <a class="citerefentry" href="testprns.1.html"><span class="citerefentry"><span class="refentrytitle">testprns</span>(1)</span></a></p></div><div class="refsect1" title="著者"><a name="id2578932"/><h2>著者</h2><p>オリジナルの Samba ソフトウェアと関連するユーティリティは、
	Andrew Tridgell によって作成された。現在 Samba は Samba Team によって、
	Linux カーネルの開発と同様のオープンソースプロジェクトとして開発が
	行なわれている。</p><p>オリジナルの Samba マニュアルページは Karl Auer によって
	作成された。マニュアルページは YODL 形式 
	(<a class="ulink" href="ftp://ftp.icce.rug.nl/pub/unix/" target="_top">
	ftp://ftp.icce.rug.nl/pub/unix/</a>	で入手可能な優れた
	オープンソースソフトウェア) に変換され、Samba 2.0 リリースに伴い、
	Jeremy Allison によって更新された。Samba 2.2 における DocBook
	形式への変換は、Gerald Carter によって行なわれた。Samba 3.0 における
	DocBook XML 4.2 形式への変換は Alexander Bokovoy によって行われた。
	</p></div><div class="refsect1" title="日本語訳"><a name="id2578972"/><h2>日本語訳</h2><p>このマニュアルページは Samba 3.5.4 対応のものである。</p><p>Samba 3.0.23d 対応の翻訳は、たかはしもとのぶ (monyo@samba.gr.jp) によって行なわれた。</p><p>Samba 3.2.4-3.5.4 対応の翻訳は、
	  </p><div class="itemizedlist"><p>たかはしもとのぶ</p><p>堀田 倫英 </p><p>太田俊哉 (ribbon@samba.gr.jp)</p><p>山田 史朗</p><p>武田保真</p><p>海老澤</p><ul class="itemizedlist" type="disc"/></div><p>
	によって行なわれた。</p></div></div></body></html>
