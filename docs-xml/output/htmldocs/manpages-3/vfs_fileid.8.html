<?xml version="1.0" encoding="UTF-8"?>
<html><head><title>vfs_fileid</title><link rel="stylesheet" href="../samba.css" type="text/css"/><meta name="generator" content="DocBook XSL Stylesheets V1.75.2"/></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="refentry" title="vfs_fileid"><a name="vfs_fileid.8"/><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>vfs_fileid — クラスタ構成時で使えるように、
    ユニークなデバイス ID 値で file_if 構造体を生成する。
	</p></div><div class="refsynopsisdiv" title="Synopsis"><h2>Synopsis</h2><div class="cmdsynopsis"><p><code class="literal">vfs objects = fileid</code></p></div></div><div class="refsect1" title="説明"><a name="id2528776"/><h2>説明</h2><p>この VFS モジュールは
	<a class="citerefentry" href="samba.7.html"><span class="citerefentry"><span class="refentrytitle">samba</span>(7)</span></a>
	システムの一部である。</p><p>
    ファイルロックの際、Samba は file_id 構造体を使ってファイルを一意に
    特定する。デフォルトでは、file_id には <code class="literal">stat()</code>
    システムコールで返されたデバイスおよび inode 番号が格納されている。
    file_id はファイルの一意な識別子であるため、これはある特定のクラスタ
    構成のの中では、すべてのノードで同じ値である必要がある。
    このモジュールは <code class="literal">SMB_VFS_FILE_ID_CREATE()</code> の動作を
    オーバーライドし、設定されたアルゴリズム（ "fileid:algorithm"
    オプションを参照のこと）に従ってデバイス番号を生成する。
	</p></div><div class="refsect1" title="オプション"><a name="id2489185"/><h2>オプション</h2><div class="variablelist"><dl><dt><span class="term">fileid:algorithm = ALGORITHM</span></dt><dd><p>
        指定できるアルゴリズムは<code class="literal">fsname</code>と
        <code class="literal">fsid</code>である。デフォルト値は
        <code class="literal">fsname</code>である。
		</p><p><code class="literal">fsname</code> アルゴリズムでは、
        デバイス ID を カーネルのデバイス名から生成する。
		</p><p><code class="literal">fsid</code> アルゴリズムでは、デバイス ID を
        <code class="literal">statfs()</code>システムコールで返された
        <code class="literal">f_fsid</code>から生成する。
		</p></dd><dt><span class="term">fileid:mapping = ALGORITHM</span></dt><dd><p>このオプションは<code class="literal">fileid:algorithm</code>オプションの
        レガシーな（古い）バージョンである。これは Samba 3.0 のカスタム
        バージョンにおいて、フィールドマッピング機能に関する以前のバージョンで
        使われていた。
		</p></dd></dl></div></div><div class="refsect1" title="設定例"><a name="id2489394"/><h2>設定例</h2><p>
    <code class="literal">fsid</code> アルゴリズムを使って
    <code class="literal">fileid</code> モジュールを使う場合の例
	</p><pre class="programlisting">
        <em class="parameter"><code>[global]</code></em>
	<a class="link" href="smb.conf.5.html#VFSOBJECTS" target="_top">vfs objects = fileid</a>
	<a class="link" href="smb.conf.5.html#FILEID:ALGORITHM" target="_top">fileid:algorithm = fsid</a>
</pre></div><div class="refsect1" title="バージョン"><a name="id2489552"/><h2>バージョン</h2><p>このマニュアルページは Samba システムのバージョン 3.2(訳注:3.x?) 用である。
	</p></div><div class="refsect1" title="著者"><a name="id2489564"/><h2>著者</h2><p>
    オリジナルの Samba ソフトウェアと関連するユーティリティは、Andrew
    Tridgell によって作成された。現在 Samba は Samba Team に
    よって、Linuxカーネルの開発と同様のオープンソースプロジェクト
    として開発が行なわれている。
	</p></div><div class="refsect1" title="日本語訳"><a name="id2489584"/><h2>日本語訳</h2><p>このマニュアルページは Samba 3.2.8 - 3.5.6 対応のものである。</p><p>このドキュメントの Samba 3.2.8 - 3.5.6 対応の翻訳は
    </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>堀田 倫英(hotta@net-newbie.com)</p></li></ul></div><p>
    によって行なわれた。</p></div></div></body></html>
