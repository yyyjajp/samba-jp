<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>smbcquotas</title><link rel="stylesheet" href="../samba.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.75.2"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="refentry" title="smbcquotas"><a name="smbcquotas.1"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>smbcquotas — NTFS 5 共有の Quota 情報を取得・設定する</p></div><div class="refsynopsisdiv" title="Synopsis"><h2>Synopsis</h2><div class="cmdsynopsis"><p><code class="literal">smbcquotas</code> {//server/share} [-u user] [-L] [-F] [-S QUOTA_SET_COMMAND] [-n] [-t] [-v] [-d debuglevel] [-s configfile] [-l logdir] [-V] [-U username] [-N] [-k] [-A]</p></div></div><div class="refsect1" title="説明"><a name="id2489375"></a><h2>説明</h2><p>このプログラムは <a class="citerefentry" href="Samba.7.html"><span class="citerefentry"><span class="refentrytitle">Samba</span>(7)</span></a> システムの一部である.</p><p><code class="literal">smbcquotas</code> プログラムは SMB ファイル共有に対して	NT Quota の操作を行う。</p></div><div class="refsect1" title="オプション"><a name="id2489405"></a><h2>オプション</h2><p><code class="literal">smbcquotas</code> プログラムは下記のオプションを提供する	:</p><div class="variablelist"><dl><dt><span class="term">-u user</span></dt><dd><p> Quota の情報の取得や設定を行うユーザを指定する。		デフォルトでは、カレントユーザが使用される。</p></dd><dt><span class="term">-L</span></dt><dd><p>共有の Quota のレコードを全て表示する。		</p></dd><dt><span class="term">-F</span></dt><dd><p>共有の Quota のステータスとデフォルトの制限を表示する。		</p></dd><dt><span class="term">-S QUOTA_SET_COMMAND</span></dt><dd><p>このコマンドはユーザか共有の Quota の設定や変更を行う。		ユーザか共有かどちらに対して操作が行われるかは、後述される		QUOTA_SET_COMMAND により決まる。</p></dd><dt><span class="term">-n</span></dt><dd><p>このオプションは全ての Quota 情報を数値化した値で		表示する。デフォルトでは SID を名前に、Quota の上限を文字列に変換する。		</p></dd><dt><span class="term">-t</span></dt><dd><p>		実際に処理は行わず、指定した引数の正当性を検証する。		</p></dd><dt><span class="term">-v</span></dt><dd><p>		冗長モードにする。		</p></dd><dt><span class="term">-h|--help</span></dt><dd><p>コマンドラインオプションの要約を表示する。</p></dd><dt><span class="term">-d|--debuglevel=level</span></dt><dd><p><em class="replaceable"><code>level</code></em> は0から10までの整数値である。既定値の値は、パラメータが設定されていなければ0である。</p><p>この値を大きくするほど、サーバの動作に関するより詳細な情報がログファイルに記録される。レベル 0 では、致命的なエラーと重大な警告のみが記録される。レベル 1 は日々の運用に適しており、少量の稼働状況に関する情報を生成する。</p><p>1 より上のレベルは大量のログが生成されるので、問題解決の時にのみ使用すべきである。 3 より上のレベルは開発者だけが利用するように設計されており、莫大な量のログデータが生成される。そのほとんどは非常に謎めいた内容となっている</p><p>このパラメータの指定は、<code class="filename">smb.conf</code>ファイル中の、 <a class="link" href="smb.conf.5.html#" target="_top"></a> パラメータの指定よりも優先する。</p></dd><dt><span class="term">-V</span></dt><dd><p>プログラムのバージョン番号を表示する。</p></dd><dt><span class="term">-s <configuration file></span></dt><dd><p>サーバーが必要とする詳細な設定を含む設定ファイルを指定する。このファイルには、サーバーが提供するサービスに関する記述や、どの printcap ファイルを利用するかといった情報が含まれている。詳細は<code class="filename">smb.conf</code> を参照のこと。設定ファイルの名前の既定値は、コンパイル時に決定される。</p></dd><dt><span class="term">-l|--log-basename=logdirectory</span></dt><dd><p>ログ/デバッグファイルのファイル名。拡張子として<code class="constant">".progname"</code> が追加される(例えば log.smbclient,log.smbd,など)。ログファイルはクライアントによって削除されることはない。 </p></dd><dt><span class="term">-N</span></dt><dd><p>このオプションを指定すると、クライアントはユーザーへのパスワード入力要求をしなくなる。パスワードが必要ないサービスにアクセスするときに有用である。</p><p>コマンドラインにパスワードが指定されておらず、このオプションも指定されていないと、クライアントはパスワードを要求する。</p><p>もしも、パスワードがコマンドライン上で指定され、このオプションも定義されていた場合、コマンドライン上のパスワードは無視され、パスワードは使われない。</p></dd><dt><span class="term">-k</span></dt><dd><p>Kerberos による認証を試みる。アクティブディレクトリ環境でのみ有効である。</p></dd><dt><span class="term">-A|--authentication-file=filename</span></dt><dd><p>このオプションは、指定したファイルから、接続に使用するユーザー名とパスワードを読み込むために使用する。ファイルの形式は次の通り: </p><pre class="programlisting">username = <value>password = <value>domain   = <value></pre><p>ファイルのパーミッションを確認し、ほかのユーザーから参照されないように注意すること。</p></dd><dt><span class="term">-U|--user=username[%password]</span></dt><dd><p>SMB のユーザー名、またはユーザー名とパスワードを指定する。</p><p>もしも %password を指定しないと、ユーザーにパスワードの入力を求める。クライアントはまず初めに<code class="envar">USER</code>、<code class="envar">LOGNAME</code>の順に環境変数の存在を調べ、もしもどちらかが存在するならば、その文字列を大文字にする。環境変数が存在しない場合、ユーザ名として<code class="constant">GUEST</code>が用いられる。</p><p>このほかに、平文のユーザー名とパスワードを記述した認証ファイルを使用するオプションがある。このオプションは主にスクリプト向けに用意されており、認証情報をコマンドラインや環境変数に含めたくない場合に有用である。このオプションを利用するときは、ファイルのパーミッションを確認し、ほかのユーザーから参照されないように注意すること。詳細は<em class="parameter"><code>-A</code></em>オプションを参照のこと。</p><p>パスワードをスクリプトに含める場合は注意すること。多くのシステムでは、実行中のプロセスのコマンドラインは<code class="literal">ps</code>コマンドで参照することができてしまう。安全のため、必ず、<code class="literal">rpcclient</code>を使用して、パスワード入力を要求し、直接入力するようにしておくこと。</p></dd></dl></div></div><div class="refsect1" title="QUOTA_SET_COMAND"><a name="id2487576"></a><h2>QUOTA_SET_COMAND</h2><p>QUOTA_SET_COMMANDの形式は、その操作に固有の一連のパラメータが伴う	操作名である。	</p><p>	-u で指定されたユーザかカレントユーザ特有の Quota 制限を設定する :	</p><p><strong class="userinput"><code>	UQLIM:<username>:<softlimit>/<hardlimit>	</code></strong></p><p>	共有のデフォルトの Quota 制限を設定する :	</p><p><strong class="userinput"><code>	FSQLIM:<softlimit>/<hardlimit>	</code></strong></p><p>	共有の Quota 設定を変更する :	</p><p><strong class="userinput"><code>	FSQFLAGS:QUOTA_ENABLED/DENY_DISK/LOG_SOFTLIMIT/LOG_HARD_LIMIT	</code></strong></p><p>すべての制限はバイト数によって指定される。</p></div><div class="refsect1" title="終了ステータス"><a name="id2487634"></a><h2>終了ステータス</h2><p><code class="literal">smbcquotas</code> コマンドは操作の成功か、それ以外かにより	exit status をセットする。exit status は以下のうちのいずれかである :	</p><p>操作が成功した場合、smbcquotas は exit status として 0 を返す。	もし <code class="literal">smbcquotas</code> が指定されたサーバに接続できなかった場合や、	Quota の情報を取得やセットしようとしてエラーが出た場合、exit status の 1	が返される。もしコマンドラインの引数の構文解析に対してエラーがあった場合、	exit status の 2 が返される。</p></div><div class="refsect1" title="バージョン"><a name="id2487674"></a><h2>バージョン</h2><p>この man page は version 3 の Samba システム用である。</p></div><div class="refsect1" title="著者"><a name="id2487686"></a><h2>著者</h2><p>オリジナルの Samba ソフトウェアと関連ユーティリティは、Andrew	Tridgell によって作成された。現在 Samba は、Samba Team によって Linux	カーネルの開発と同様に、オープンソースプロジェクトとして開発されている。	</p><p><code class="literal">smbcquotas</code> は Stefan Metzmacher によって書かれた。	</p></div><div class="refsect1" title="日本語訳"><a name="id2487710"></a><h2>日本語訳</h2><p>このマニュアルページは Samba 3.2.4-3.3.11  対応のものである。</p><p>このドキュメントの Samba 3.2.4-3.3.11 対応の翻訳は	    </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>山田 史朗 (shiro@miraclelinux.com)</p></li><li class="listitem"><p>太田俊哉 (ribbon@samba.gr.jp)</p></li></ul></div><p>        によって行なわれた。</p></div></div></body></html>