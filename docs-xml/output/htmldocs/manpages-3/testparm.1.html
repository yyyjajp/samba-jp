<?xml version="1.0" encoding="UTF-8"?>
<html><head><title>testparm</title><link rel="stylesheet" href="../samba.css" type="text/css"/><meta name="generator" content="DocBook XSL Stylesheets V1.75.2"/></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="refentry" title="testparm"><a name="testparm.1"/><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>testparm — smb.conf ファイル内部の設定の正当性を検証</p></div><div class="refsynopsisdiv" title="Synopsis"><h2>Synopsis</h2><div class="cmdsynopsis"><p><code class="literal">testparm</code> [-s] [-h] [-v] [-L &lt;servername&gt;] [-t &lt;encoding&gt;] {config filename} [hostname hostIP]</p></div></div><div class="refsect1" title="説明"><a name="id2529843"/><h2>説明</h2><p>このプログラムは <a class="citerefentry" href="Samba.7.html"><span class="citerefentry"><span class="refentrytitle">Samba</span>(7)</span></a> システムの一部である。</p><p><code class="literal">testparm</code> は <a class="citerefentry" href="smbd&#10;&#9;.8.html"><span class="citerefentry"><span class="refentrytitle">smbd
	</span>(8)</span></a> 設定ファイル内部の
	正当性を検査するための非常に簡単なテストプログラムである。
	このプログラムが問題なしと報告した場合、<code class="literal">smbd</code>
	による設定ファイルのロードが成功することが確実な形で、
	設定ファイルを使用することができる。</p><p>ただし、設定ファイルに指定されたサービスが期待通りに動作するか、
	有効になるかということは保証<span class="emphasis"><em>されない</em></span>ことに注意されたい。</p><p> コマンドラインのオプションでホスト名と IP アドレスが指定されると、
	テストプログラムはサービスエントリに対して動作し、
	指定したホストが各サービスを利用する権利を持つかどうかを報告する。
	</p><p><code class="literal">testparm</code> は <code class="filename">smb.conf</code>
	にエラーを見つけると呼び出したプログラムに 1 を、エラーがなければ 0
	の終了コードを返す。これにより、シェル・スクリプトは <code class="literal">testparm
	</code> からの出力をテストできる。</p></div><div class="refsect1" title="オプション"><a name="id2488771"/><h2>オプション</h2><div class="variablelist"><dl><dt><span class="term">-s</span></dt><dd><p>このオプションが指定されない場合、<code class="literal">testparm
		</code> はサービス名を表示した後でプロンプトを表示し、
		リターンキーが押されると、サービスの定義をダンプする。
		</p></dd><dt><span class="term">-h|--help</span></dt><dd><p>コマンドラインオプションの要約を表示する。
</p></dd><dt><span class="term">-V</span></dt><dd><p>プログラムのバージョン番号を表示する。
</p></dd><dt><span class="term">-L servername</span></dt><dd><p>%L マクロの値を <em class="replaceable"><code>servername</code></em>
		に設定する。これは、%L マクロによって指定される include file
		を試験するのに有効である。</p></dd><dt><span class="term">-v</span></dt><dd><p>このオプションが指定されると、<a class="citerefentry" href="smb.conf.5.html"><span class="citerefentry"><span class="refentrytitle">smb.conf</span>(5)</span></a> の中で指定されていないパラメータのデフォルト値を
 		表示する。</p></dd><dt><span class="term">-t encoding</span></dt><dd><p>
		指定された encoding でデータを出力する。
		</p></dd><dt><span class="term">--parameter-name parametername</span></dt><dd><p>
		指定されたパラメータをダンプする。セクション名がしていされない場合、表示は
		既定値で、グローバルセクションに制限される。
		パラメータオプションをダンプすることも可能である。それゆえ、パラメータ名から、
		コロンによって、オプションは分離しなければならない。
		</p></dd><dt><span class="term">--section-name sectionname</span></dt><dd><p>
		指定されたセクションをダンプする。
		</p></dd><dt><span class="term">configfilename</span></dt><dd><p>これはチェックする設定ファイルの名前である。
		このパラメータを指定しないと、デフォルトの <a class="citerefentry" href="smb.conf.5.html"><span class="citerefentry"><span class="refentrytitle">smb.conf</span>(5)</span></a>	ファイルがチェックされる。
		</p></dd><dt><span class="term">hostname</span></dt><dd><p>このパラメータとそれに続くパラメータが指定されると、
		<code class="literal">testparm</code> は <a class="citerefentry" href="smb.conf&#10;&#9;&#9;.5.html"><span class="citerefentry"><span class="refentrytitle">smb.conf
		</span>(5)</span></a> 中の
		<em class="parameter"><code>hosts allow</code></em> と <em class="parameter"><code>hosts deny</code></em>
		パタメータを使って、指定された IP アドレス の hostname が <code class="literal">
		smbd</code> サーバにアクセス可能を許可されているかを判断する。
		このパラメータを指定した場合、次の hostIP パラメータも指定すること。
		</p></dd><dt><span class="term">hostIP</span></dt><dd><p>これは前のパラメータで指定したホストの IP
		アドレスである。このアドレスは、hostname パラメータを指定した場合
		必ず指定すること。</p></dd></dl></div></div><div class="refsect1" title="関連ファイル"><a name="id2489010"/><h2>関連ファイル</h2><div class="variablelist"><dl><dt><span class="term"><a class="citerefentry" href="smb.conf.5.html"><span class="citerefentry"><span class="refentrytitle">smb.conf</span>(5)</span></a></span></dt><dd><p>これは通常 <a class="citerefentry" href="smbd&#10;&#9;&#9;.8.html"><span class="citerefentry"><span class="refentrytitle">smbd
		</span>(8)</span></a>
		が使用する設定ファイルの名前である。 
		</p></dd></dl></div></div><div class="refsect1" title="診断"><a name="id2489045"/><h2>診断</h2><p>このプログラムは設定ファイルのロードが正常に完了したか否かを報告する。
	ファイルがロードされなかった場合、エラーと警告の出力が優先される。
	ファイルのロードが完了したら、プログラムは設定されているすべてのサービスの
	詳細を標準出力に出力する。</p></div><div class="refsect1" title="バージョン"><a name="id2489067"/><h2>バージョン</h2><p>このマニュアルページSambaバージョン3用である。</p></div><div class="refsect1" title="関連項目"><a name="id2489079"/><h2>関連項目</h2><p><a class="citerefentry" href="smb.conf.5.html"><span class="citerefentry"><span class="refentrytitle">smb.conf</span>(5)</span></a>, <a class="citerefentry" href="smbd.8.html"><span class="citerefentry"><span class="refentrytitle">smbd</span>(8)</span></a></p></div><div class="refsect1" title="著者"><a name="id2489104"/><h2>著者</h2><p>オリジナルの Samba ソフトウェアと関連ユーティリティは、Andrew
	Tridgell によって作成された。現在 Samba は、Samba Team によって Linux
	カーネルの開発と同様に、オープンソースプロジェクトとして開発されている。
	</p><p>オリジナルのSambaマニュアルは、Karl Auer によって執筆された。
	マニュアルのソースは Jeremy Allison によって YODL 形式に変換され、
	Samba 2.0 リリース用に更新された。(YODL はオープンソース・ソフトウエアの
	優れた作品である <a class="ulink" href="ftp://ftp.icce.rug.nl/pub/unix/" target="_top">
	ftp://ftp.icce.rug.nl/pub/unix/</a>より入手可能。) Samba 2.2 における
	DocBook 形式への変換は Gerald Carterによって 行なわれた。Samba 3.0 における
	DocBook XML 4.2 形式への変換は Alexander Bokovoy によって行われた。</p></div><div class="refsect1" title="日本語訳"><a name="id2489144"/><h2>日本語訳</h2><p>このマニュアルページは Samba 3.2.4 - 3.4.7 対応のものである。</p><p>このドキュメントの Samba 3.0.0 対応の翻訳は
	</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>はせがわようすけ</p></li><li class="listitem"><p>高橋 基信 (monyo@samba.gr.jp)</p></li><li class="listitem"><p>佐藤 文優</p></li><li class="listitem"><p>山田 史朗 (shiro@miraclelinux.com)</p></li></ul></div><p>	
	によって行なわれた。</p><p>このドキュメントの Samba 3.2.4 - 3.4.7 対応の翻訳は 太田俊哉(ribbon@samba.gr.jp)によって行われた。</p></div></div></body></html>
