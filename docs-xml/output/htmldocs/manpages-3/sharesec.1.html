<html><head><title>sharesec</title><link rel="stylesheet" href="../samba.css" type="text/css"/><meta name="generator" content="DocBook XSL Stylesheets V1.75.2"/></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="refentry" title="sharesec"><a name="sharesec.1"/><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>sharesec — 共有のACLに対する設定と取得</p></div><div class="refsynopsisdiv" title="Synopsis"><h2>Synopsis</h2><div class="cmdsynopsis"><p><code class="literal">sharesec</code> {sharename} [-r, --remove=ACL] [-m, --modify=ACL] [-a, --add=ACL] [-R, --replace=ACLs] [-D, --delete] [-v, --view] [-M, --machine-sid] [-F, --force] [-d, --debuglevel=DEBUGLEVEL] [-s, --configfile=CONFIGFILE] [-l, --log-basename=LOGFILEBASE] [-V, --version] [-?, --help] [--usage]</p></div></div><div class="refsect1" title="説明"><a name="id2490573"/><h2>説明</h2><p>このツールは<a class="citerefentry" href="samba.7.html"><span class="citerefentry"><span class="refentrytitle">samba</span>(7)</span></a>システムの一部である。</p><p><code class="literal">sharesec</code>プログラムは、SMBファイル共有上の共有のパーミッションを
	操作するプログラムである。</p></div><div class="refsect1" title="オプション"><a name="id2490602"/><h2>オプション</h2><p>以下のオプションは<code class="literal">sharesec</code>プログラムで有効である。ACLのフォーマットは、
	ACL FORMATセクションで説明されている。</p><div class="variablelist"><dl><dt><span class="term">-a|--add=ACL</span></dt><dd><p>指定されたACLリストにACEを追加する。
		</p></dd><dt><span class="term">-D|--delete</span></dt><dd><p>すべてのセキュリティディスクリプタを削除する。
		</p></dd><dt><span class="term">-F|--force</span></dt><dd><p>強制的にACLを格納する。
		</p></dd><dt><span class="term">-m|--modify=ACL</span></dt><dd><p>存在するACEを変更する。
		</p></dd><dt><span class="term">-M|--machine-sid</span></dt><dd><p>マシンのSIDを初期化する。
		</p></dd><dt><span class="term">-r|--remove=ACL</span></dt><dd><p>ACEを削除する。
		</p></dd><dt><span class="term">-R|--replace=ACLS</span></dt><dd><p>
		存在する共有パーミッションACLを上書きする。
		</p></dd><dt><span class="term">-h|--help</span></dt><dd><p>Print a summary of command line options.
</p></dd><dt><span class="term">-d|--debuglevel=level</span></dt><dd><p><em class="replaceable"><code>level</code></em> is an integer 
from 0 to 10. The default value if this parameter is 
not specified is 0.</p><p>The higher this value, the more detail will be 
logged to the log files about the activities of the 
server. At level 0, only critical errors and serious 
warnings will be logged. Level 1 is a reasonable level for
day-to-day running - it generates a small amount of 
information about operations carried out.</p><p>Levels above 1 will generate considerable 
amounts of log data, and should only be used when 
investigating a problem. Levels above 3 are designed for 
use only by developers and generate HUGE amounts of log
data, most of which is extremely cryptic.</p><p>Note that specifying this parameter here will 
override the <a class="link" href="smb.conf.5.html#" target="_top"/> parameter
in the <code class="filename">smb.conf</code> file.</p></dd><dt><span class="term">-V|--version</span></dt><dd><p>Prints the program version number.
</p></dd><dt><span class="term">-s|--configfile &lt;configuration file&gt;</span></dt><dd><p>The file specified contains the 
configuration details required by the server.  The 
information in this file includes server-specific
information such as what printcap file to use, as well 
as descriptions of all the services that the server is 
to provide. See <code class="filename">smb.conf</code> for more information.
The default configuration file name is determined at 
compile time.</p></dd><dt><span class="term">-l|--log-basename=logdirectory</span></dt><dd><p>Base directory name for log/debug files. The extension
<code class="constant">".progname"</code> will be appended (e.g. log.smbclient, 
log.smbd, etc...). The log file is never removed by the client.
</p></dd></dl></div></div><div class="refsect1" title="ACL FORMAT"><a name="id2531302"/><h2>ACL FORMAT</h2><p>ACLのフォーマットは、1つまたはそれ以上の、カンマ又は改行で分離された、ACL
	エントリである。1つのACLエントリは以下のうちのどれかである:</p><pre class="programlisting">
	REVISION:&lt;revision number&gt;
	OWNER:&lt;sid or name&gt;
	GROUP:&lt;sid or name&gt;
	ACL:&lt;sid or name&gt;:&lt;type&gt;/&lt;flags&gt;/&lt;mask&gt;
	</pre><p>
	ACLのリビジョンはセキュリティディスクリプタの　内部Windows NT ACL リビジョン
	を指定する。もしも指定されなければ既定値として1が取られる。1以外の値を使うこと
	は、奇妙な振る舞いを引き起こすかもしれない。</p><p>
	owner と group は、それぞれオブジェクトのためのownerとgroup SIDを指定する。
	もしもSIDがS-1-x-y-z形式で指定されれば、それが使われ、それ以外では、
	名前で指定されたと見なされ、対象のファイル又はディレクトリが存在するサーバ
	上でSIDに解決される。</p><p>
	ACLは、そのSIDに対するパーミッションを指定する。このSIDはS-1-x-y-z
	形式で指定されるが、そのファイル又はディレクトリが存在するサーバ上で
	名前解決が出来る場合には、名前で指定できる。type,flagsとmask値は、そのSIDに
	対して許可されるアクセス権の種類を決める。</p><p>
	typeはALLOWEDまたはDENIEDを、SIDに対するアクセスの許可/拒否として使う
	ことができる。flagの値は共有のACLに対しては通常ゼロである。
	</p><p>
	maskはSIDに対して許可されるアクセス権を表現する値である。これは、10進又は
	16進の値として与えられるか、同じ名前の、Windows NTにおけるアクセス許可の
	指定時に使用される、以下のテキスト文字列のどれか1つを使うことも出来る。
	</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p><span class="emphasis"><em>R</em></span> - 読み取りを許可</p></li><li class="listitem"><p><span class="emphasis"><em>W</em></span> - 書き込みを許可</p></li><li class="listitem"><p><span class="emphasis"><em>X</em></span> - オブジェクトの実行を許可</p></li><li class="listitem"><p><span class="emphasis"><em>D</em></span> - オブジェクトの削除</p></li><li class="listitem"><p><span class="emphasis"><em>P</em></span> - パーミッションの変更</p></li><li class="listitem"><p><span class="emphasis"><em>O</em></span> - 所有権の取得</p></li></ul></div><p>以下の組み合わせパーミッションも指定することができる:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p><span class="emphasis"><em>READ</em></span> -  'RX' と同等
		permissions</p></li><li class="listitem"><p><span class="emphasis"><em>CHANGE</em></span> - 'RXWD' パーミッションと同等
		</p></li><li class="listitem"><p><span class="emphasis"><em>FULL</em></span> - 'RWXDPO' パーミッションと同等</p></li></ul></div></div><div class="refsect1" title="終了ステータス"><a name="id2489629"/><h2>終了ステータス</h2><p>The <code class="literal">sharesec</code>プログラムは、操作が実行された時の成功、またはそれ以外の状態に
	応じて終了ステータスをセットする。終了ステータスは以下の値のうちのどれかである。</p><p>もしも操作が成功すれば、sharesecは終了ステータスを0にして戻る。もしも、
	<code class="literal">sharesec</code>が指定されたサーバに接続できないか、ACLの設定
	又は取得時にエラーが生じたならば、終了ステータスは1で戻る。もしもコマンド行
	引数の解釈時にエラーがあれば終了ステータスは2で戻る。</p></div><div class="refsect1" title="実行例"><a name="id2489664"/><h2>実行例</h2><p>SIDに対してフルアクセスを追加
	<em class="parameter"><code>S-1-5-21-1866488690-1365729215-3963860297-17724</code></em> on
	<em class="parameter"><code>share</code></em>:
	</p><pre class="programlisting">
	host:~ # sharesec share -a S-1-5-21-1866488690-1365729215-3963860297-17724:ALLOWED/0/FULL
	</pre><p><em class="parameter"><code>share</code></em>に対するすべてのACEを表示:
	</p><pre class="programlisting">
	host:~ # sharesec share -v
	REVISION:1
	OWNER:(NULL SID)
	GROUP:(NULL SID)
	ACL:S-1-1-0:ALLOWED/0/0x101f01ff
	ACL:S-1-5-21-1866488690-1365729215-3963860297-17724:ALLOWED/0/FULL
	</pre></div><div class="refsect1" title="バージョン"><a name="id2489713"/><h2>バージョン</h2><p>このマニュアルページは Samba バージョン 3用である。</p></div><div class="refsect1" title="著者"><a name="id2489724"/><h2>著者</h2><p>オリジナルの Samba ソフトウェアと関連するユーティリティは、Andrew
	Tridgell によって作成された。現在 Samba は Samba Team によって、Linux
	カーネルの開発と同様のオープンソースプロジェクトとして開発が行なわれている。
	</p></div><div class="refsect1" title="日本語訳"><a name="id2489740"/><h2>日本語訳</h2><p>このマニュアルページは Samba 3.3.6 - 3.4.15 対応のものである。</p><p>このドキュメントの Samba 3.3.6 - 3.4.15 対応の翻訳は
	</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>太田俊哉 (ribbon@samba.gr.jp)</p></li></ul></div><p>	
        によって行なわれた。</p></div></div></body></html>
