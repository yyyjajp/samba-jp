<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>sharesec</title><link rel="stylesheet" href="../samba.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.75.2"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="refentry" title="sharesec"><a name="sharesec.1"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>sharesec &#8212; &#20849;&#26377;&#12398;ACL&#12395;&#23550;&#12377;&#12427;&#35373;&#23450;&#12392;&#21462;&#24471;</p></div><div class="refsynopsisdiv" title="Synopsis"><h2>Synopsis</h2><div class="cmdsynopsis"><p><code class="literal">sharesec</code> {sharename} [-r, --remove=ACL] [-m, --modify=ACL] [-a, --add=ACL] [-R, --replace=ACLs] [-D, --delete] [-v, --view] [-M, --machine-sid] [-F, --force] [-d, --debuglevel=DEBUGLEVEL] [-s, --configfile=CONFIGFILE] [-l, --log-basename=LOGFILEBASE] [-V, --version] [-?, --help] [--usage]</p></div></div><div class="refsect1" title="&#35500;&#26126;"><a name="id2490582"></a><h2>&#35500;&#26126;</h2><p>&#12371;&#12398;&#12484;&#12540;&#12523;&#12399;<a class="citerefentry" href="samba.7.html"><span class="citerefentry"><span class="refentrytitle">samba</span>(7)</span></a>&#12471;&#12473;&#12486;&#12512;&#12398;&#19968;&#37096;&#12391;&#12354;&#12427;&#12290;</p><p><code class="literal">sharesec</code>&#12503;&#12525;&#12464;&#12521;&#12512;&#12399;&#12289;SMB&#12501;&#12449;&#12452;&#12523;&#20849;&#26377;&#19978;&#12398;&#20849;&#26377;&#12398;&#12497;&#12540;&#12511;&#12483;&#12471;&#12519;&#12531;&#12434;
	&#25805;&#20316;&#12377;&#12427;&#12503;&#12525;&#12464;&#12521;&#12512;&#12391;&#12354;&#12427;&#12290;</p></div><div class="refsect1" title="&#12458;&#12503;&#12471;&#12519;&#12531;"><a name="id2490610"></a><h2>&#12458;&#12503;&#12471;&#12519;&#12531;</h2><p>&#20197;&#19979;&#12398;&#12458;&#12503;&#12471;&#12519;&#12531;&#12399;<code class="literal">sharesec</code>&#12503;&#12525;&#12464;&#12521;&#12512;&#12391;&#26377;&#21177;&#12391;&#12354;&#12427;&#12290;ACL&#12398;&#12501;&#12457;&#12540;&#12510;&#12483;&#12488;&#12399;&#12289;
	ACL FORMAT&#12475;&#12463;&#12471;&#12519;&#12531;&#12391;&#35500;&#26126;&#12373;&#12428;&#12390;&#12356;&#12427;&#12290;</p><div class="variablelist"><dl><dt><span class="term">-a|--add=ACL</span></dt><dd><p>&#25351;&#23450;&#12373;&#12428;&#12383;ACL&#12522;&#12473;&#12488;&#12395;ACE&#12434;&#36861;&#21152;&#12377;&#12427;&#12290;
		</p></dd><dt><span class="term">-D|--delete</span></dt><dd><p>&#12377;&#12409;&#12390;&#12398;&#12475;&#12461;&#12517;&#12522;&#12486;&#12451;&#12487;&#12451;&#12473;&#12463;&#12522;&#12503;&#12479;&#12434;&#21066;&#38500;&#12377;&#12427;&#12290;
		</p></dd><dt><span class="term">-F|--force</span></dt><dd><p>&#24375;&#21046;&#30340;&#12395;ACL&#12434;&#26684;&#32013;&#12377;&#12427;&#12290;
		</p></dd><dt><span class="term">-m|--modify=ACL</span></dt><dd><p>&#23384;&#22312;&#12377;&#12427;ACE&#12434;&#22793;&#26356;&#12377;&#12427;&#12290;
		</p></dd><dt><span class="term">-M|--machine-sid</span></dt><dd><p>&#12510;&#12471;&#12531;&#12398;SID&#12434;&#21021;&#26399;&#21270;&#12377;&#12427;&#12290;
		</p></dd><dt><span class="term">-r|--remove=ACL</span></dt><dd><p>ACE&#12434;&#21066;&#38500;&#12377;&#12427;&#12290;
		</p></dd><dt><span class="term">-R|--replace=ACLS</span></dt><dd><p>
		&#23384;&#22312;&#12377;&#12427;&#20849;&#26377;&#12497;&#12540;&#12511;&#12483;&#12471;&#12519;&#12531;ACL&#12434;&#19978;&#26360;&#12365;&#12377;&#12427;&#12290;
		</p></dd><dt><span class="term">-h|--help</span></dt><dd><p>Print a summary of command line options.
</p></dd><dt><span class="term">-d|--debuglevel=level</span></dt><dd><p><em class="replaceable"><code>level</code></em> is an integer 
from 0 to 10. The default value if this parameter is 
not specified is 0.</p><p>The higher this value, the more detail will be 
logged to the log files about the activities of the 
server. At level 0, only critical errors and serious 
warnings will be logged. Level 1 is a reasonable level for
day-to-day running - it generates a small amount of 
information about operations carried out.</p><p>Levels above 1 will generate considerable 
amounts of log data, and should only be used when 
investigating a problem. Levels above 3 are designed for 
use only by developers and generate HUGE amounts of log
data, most of which is extremely cryptic.</p><p>Note that specifying this parameter here will 
override the <a class="link" href="smb.conf.5.html#" target="_top"></a> parameter
in the <code class="filename">smb.conf</code> file.</p></dd><dt><span class="term">-V|--version</span></dt><dd><p>Prints the program version number.
</p></dd><dt><span class="term">-s|--configfile &lt;configuration file&gt;</span></dt><dd><p>The file specified contains the 
configuration details required by the server.  The 
information in this file includes server-specific
information such as what printcap file to use, as well 
as descriptions of all the services that the server is 
to provide. See <code class="filename">smb.conf</code> for more information.
The default configuration file name is determined at 
compile time.</p></dd><dt><span class="term">-l|--log-basename=logdirectory</span></dt><dd><p>Base directory name for log/debug files. The extension
<code class="constant">".progname"</code> will be appended (e.g. log.smbclient, 
log.smbd, etc...). The log file is never removed by the client.
</p></dd></dl></div></div><div class="refsect1" title="ACL FORMAT"><a name="id2490934"></a><h2>ACL FORMAT</h2><p>ACL&#12398;&#12501;&#12457;&#12540;&#12510;&#12483;&#12488;&#12399;&#12289;1&#12388;&#12414;&#12383;&#12399;&#12381;&#12428;&#20197;&#19978;&#12398;&#12289;&#12459;&#12531;&#12510;&#21448;&#12399;&#25913;&#34892;&#12391;&#20998;&#38626;&#12373;&#12428;&#12383;&#12289;ACL
	&#12456;&#12531;&#12488;&#12522;&#12391;&#12354;&#12427;&#12290;1&#12388;&#12398;ACL&#12456;&#12531;&#12488;&#12522;&#12399;&#20197;&#19979;&#12398;&#12358;&#12385;&#12398;&#12393;&#12428;&#12363;&#12391;&#12354;&#12427;:</p><pre class="programlisting">
	REVISION:&lt;revision number&gt;
	OWNER:&lt;sid or name&gt;
	GROUP:&lt;sid or name&gt;
	ACL:&lt;sid or name&gt;:&lt;type&gt;/&lt;flags&gt;/&lt;mask&gt;
	</pre><p>
	ACL&#12398;&#12522;&#12499;&#12472;&#12519;&#12531;&#12399;&#12475;&#12461;&#12517;&#12522;&#12486;&#12451;&#12487;&#12451;&#12473;&#12463;&#12522;&#12503;&#12479;&#12398;&#12288;&#20869;&#37096;Windows NT ACL &#12522;&#12499;&#12472;&#12519;&#12531;
	&#12434;&#25351;&#23450;&#12377;&#12427;&#12290;&#12418;&#12375;&#12418;&#25351;&#23450;&#12373;&#12428;&#12394;&#12369;&#12428;&#12400;&#26082;&#23450;&#20516;&#12392;&#12375;&#12390;1&#12364;&#21462;&#12425;&#12428;&#12427;&#12290;1&#20197;&#22806;&#12398;&#20516;&#12434;&#20351;&#12358;&#12371;&#12392;
	&#12399;&#12289;&#22855;&#22937;&#12394;&#25391;&#12427;&#33310;&#12356;&#12434;&#24341;&#12365;&#36215;&#12371;&#12377;&#12363;&#12418;&#12375;&#12428;&#12394;&#12356;&#12290;</p><p>
	owner &#12392; group &#12399;&#12289;&#12381;&#12428;&#12382;&#12428;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12398;&#12383;&#12417;&#12398;owner&#12392;group SID&#12434;&#25351;&#23450;&#12377;&#12427;&#12290;
	&#12418;&#12375;&#12418;SID&#12364;S-1-x-y-z&#24418;&#24335;&#12391;&#25351;&#23450;&#12373;&#12428;&#12428;&#12400;&#12289;&#12381;&#12428;&#12364;&#20351;&#12431;&#12428;&#12289;&#12381;&#12428;&#20197;&#22806;&#12391;&#12399;&#12289;
	&#21517;&#21069;&#12391;&#25351;&#23450;&#12373;&#12428;&#12383;&#12392;&#35211;&#12394;&#12373;&#12428;&#12289;&#23550;&#35937;&#12398;&#12501;&#12449;&#12452;&#12523;&#21448;&#12399;&#12487;&#12451;&#12524;&#12463;&#12488;&#12522;&#12364;&#23384;&#22312;&#12377;&#12427;&#12469;&#12540;&#12496;
	&#19978;&#12391;SID&#12395;&#35299;&#27770;&#12373;&#12428;&#12427;&#12290;</p><p>
	ACL&#12399;&#12289;&#12381;&#12398;SID&#12395;&#23550;&#12377;&#12427;&#12497;&#12540;&#12511;&#12483;&#12471;&#12519;&#12531;&#12434;&#25351;&#23450;&#12377;&#12427;&#12290;&#12371;&#12398;SID&#12399;S-1-x-y-z
	&#24418;&#24335;&#12391;&#25351;&#23450;&#12373;&#12428;&#12427;&#12364;&#12289;&#12381;&#12398;&#12501;&#12449;&#12452;&#12523;&#21448;&#12399;&#12487;&#12451;&#12524;&#12463;&#12488;&#12522;&#12364;&#23384;&#22312;&#12377;&#12427;&#12469;&#12540;&#12496;&#19978;&#12391;
	&#21517;&#21069;&#35299;&#27770;&#12364;&#20986;&#26469;&#12427;&#22580;&#21512;&#12395;&#12399;&#12289;&#21517;&#21069;&#12391;&#25351;&#23450;&#12391;&#12365;&#12427;&#12290;type,flags&#12392;mask&#20516;&#12399;&#12289;&#12381;&#12398;SID&#12395;
	&#23550;&#12375;&#12390;&#35377;&#21487;&#12373;&#12428;&#12427;&#12450;&#12463;&#12475;&#12473;&#27177;&#12398;&#31278;&#39006;&#12434;&#27770;&#12417;&#12427;&#12290;</p><p>
	type&#12399;ALLOWED&#12414;&#12383;&#12399;DENIED&#12434;&#12289;SID&#12395;&#23550;&#12377;&#12427;&#12450;&#12463;&#12475;&#12473;&#12398;&#35377;&#21487;/&#25298;&#21542;&#12392;&#12375;&#12390;&#20351;&#12358;
	&#12371;&#12392;&#12364;&#12391;&#12365;&#12427;&#12290;flag&#12398;&#20516;&#12399;&#20849;&#26377;&#12398;ACL&#12395;&#23550;&#12375;&#12390;&#12399;&#36890;&#24120;&#12476;&#12525;&#12391;&#12354;&#12427;&#12290;
	</p><p>
	mask&#12399;SID&#12395;&#23550;&#12375;&#12390;&#35377;&#21487;&#12373;&#12428;&#12427;&#12450;&#12463;&#12475;&#12473;&#27177;&#12434;&#34920;&#29694;&#12377;&#12427;&#20516;&#12391;&#12354;&#12427;&#12290;&#12371;&#12428;&#12399;&#12289;10&#36914;&#21448;&#12399;
	16&#36914;&#12398;&#20516;&#12392;&#12375;&#12390;&#19982;&#12360;&#12425;&#12428;&#12427;&#12363;&#12289;&#21516;&#12376;&#21517;&#21069;&#12398;&#12289;Windows NT&#12395;&#12362;&#12369;&#12427;&#12450;&#12463;&#12475;&#12473;&#35377;&#21487;&#12398;
	&#25351;&#23450;&#26178;&#12395;&#20351;&#29992;&#12373;&#12428;&#12427;&#12289;&#20197;&#19979;&#12398;&#12486;&#12461;&#12473;&#12488;&#25991;&#23383;&#21015;&#12398;&#12393;&#12428;&#12363;1&#12388;&#12434;&#20351;&#12358;&#12371;&#12392;&#12418;&#20986;&#26469;&#12427;&#12290;
	</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p><span class="emphasis"><em>R</em></span> - &#35501;&#12415;&#21462;&#12426;&#12434;&#35377;&#21487;</p></li><li class="listitem"><p><span class="emphasis"><em>W</em></span> - &#26360;&#12365;&#36796;&#12415;&#12434;&#35377;&#21487;</p></li><li class="listitem"><p><span class="emphasis"><em>X</em></span> - &#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12398;&#23455;&#34892;&#12434;&#35377;&#21487;</p></li><li class="listitem"><p><span class="emphasis"><em>D</em></span> - &#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12398;&#21066;&#38500;</p></li><li class="listitem"><p><span class="emphasis"><em>P</em></span> - &#12497;&#12540;&#12511;&#12483;&#12471;&#12519;&#12531;&#12398;&#22793;&#26356;</p></li><li class="listitem"><p><span class="emphasis"><em>O</em></span> - &#25152;&#26377;&#27177;&#12398;&#21462;&#24471;</p></li></ul></div><p>&#20197;&#19979;&#12398;&#32068;&#12415;&#21512;&#12431;&#12379;&#12497;&#12540;&#12511;&#12483;&#12471;&#12519;&#12531;&#12418;&#25351;&#23450;&#12377;&#12427;&#12371;&#12392;&#12364;&#12391;&#12365;&#12427;:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p><span class="emphasis"><em>READ</em></span> -  'RX' &#12392;&#21516;&#31561;
		permissions</p></li><li class="listitem"><p><span class="emphasis"><em>CHANGE</em></span> - 'RXWD' &#12497;&#12540;&#12511;&#12483;&#12471;&#12519;&#12531;&#12392;&#21516;&#31561;
		</p></li><li class="listitem"><p><span class="emphasis"><em>FULL</em></span> - 'RWXDPO' &#12497;&#12540;&#12511;&#12483;&#12471;&#12519;&#12531;&#12392;&#21516;&#31561;</p></li></ul></div></div><div class="refsect1" title="&#32066;&#20102;&#12473;&#12486;&#12540;&#12479;&#12473;"><a name="id2491105"></a><h2>&#32066;&#20102;&#12473;&#12486;&#12540;&#12479;&#12473;</h2><p>The <code class="literal">sharesec</code>&#12503;&#12525;&#12464;&#12521;&#12512;&#12399;&#12289;&#25805;&#20316;&#12364;&#23455;&#34892;&#12373;&#12428;&#12383;&#26178;&#12398;&#25104;&#21151;&#12289;&#12414;&#12383;&#12399;&#12381;&#12428;&#20197;&#22806;&#12398;&#29366;&#24907;&#12395;
	&#24540;&#12376;&#12390;&#32066;&#20102;&#12473;&#12486;&#12540;&#12479;&#12473;&#12434;&#12475;&#12483;&#12488;&#12377;&#12427;&#12290;&#32066;&#20102;&#12473;&#12486;&#12540;&#12479;&#12473;&#12399;&#20197;&#19979;&#12398;&#20516;&#12398;&#12358;&#12385;&#12398;&#12393;&#12428;&#12363;&#12391;&#12354;&#12427;&#12290;</p><p>&#12418;&#12375;&#12418;&#25805;&#20316;&#12364;&#25104;&#21151;&#12377;&#12428;&#12400;&#12289;sharesec&#12399;&#32066;&#20102;&#12473;&#12486;&#12540;&#12479;&#12473;&#12434;0&#12395;&#12375;&#12390;&#25147;&#12427;&#12290;&#12418;&#12375;&#12418;&#12289;
	<code class="literal">sharesec</code>&#12364;&#25351;&#23450;&#12373;&#12428;&#12383;&#12469;&#12540;&#12496;&#12395;&#25509;&#32154;&#12391;&#12365;&#12394;&#12356;&#12363;&#12289;ACL&#12398;&#35373;&#23450;
	&#21448;&#12399;&#21462;&#24471;&#26178;&#12395;&#12456;&#12521;&#12540;&#12364;&#29983;&#12376;&#12383;&#12394;&#12425;&#12400;&#12289;&#32066;&#20102;&#12473;&#12486;&#12540;&#12479;&#12473;&#12399;1&#12391;&#25147;&#12427;&#12290;&#12418;&#12375;&#12418;&#12467;&#12510;&#12531;&#12489;&#34892;
	&#24341;&#25968;&#12398;&#35299;&#37320;&#26178;&#12395;&#12456;&#12521;&#12540;&#12364;&#12354;&#12428;&#12400;&#32066;&#20102;&#12473;&#12486;&#12540;&#12479;&#12473;&#12399;2&#12391;&#25147;&#12427;&#12290;</p></div><div class="refsect1" title="&#23455;&#34892;&#20363;"><a name="id2491140"></a><h2>&#23455;&#34892;&#20363;</h2><p>SID&#12395;&#23550;&#12375;&#12390;&#12501;&#12523;&#12450;&#12463;&#12475;&#12473;&#12434;&#36861;&#21152;
	<em class="parameter"><code>S-1-5-21-1866488690-1365729215-3963860297-17724</code></em> on
	<em class="parameter"><code>share</code></em>:
	</p><pre class="programlisting">
	host:~ # sharesec share -a S-1-5-21-1866488690-1365729215-3963860297-17724:ALLOWED/0/FULL
	</pre><p><em class="parameter"><code>share</code></em>&#12395;&#23550;&#12377;&#12427;&#12377;&#12409;&#12390;&#12398;ACE&#12434;&#34920;&#31034;:
	</p><pre class="programlisting">
	host:~ # sharesec share -v
	REVISION:1
	OWNER:(NULL SID)
	GROUP:(NULL SID)
	ACL:S-1-1-0:ALLOWED/0/0x101f01ff
	ACL:S-1-5-21-1866488690-1365729215-3963860297-17724:ALLOWED/0/FULL
	</pre></div><div class="refsect1" title="&#12496;&#12540;&#12472;&#12519;&#12531;"><a name="id2491189"></a><h2>&#12496;&#12540;&#12472;&#12519;&#12531;</h2><p>&#12371;&#12398;&#12510;&#12491;&#12517;&#12450;&#12523;&#12506;&#12540;&#12472;&#12399; Samba &#12496;&#12540;&#12472;&#12519;&#12531; 3&#29992;&#12391;&#12354;&#12427;&#12290;</p></div><div class="refsect1" title="&#33879;&#32773;"><a name="id2491200"></a><h2>&#33879;&#32773;</h2><p>&#12458;&#12522;&#12472;&#12490;&#12523;&#12398; Samba &#12477;&#12501;&#12488;&#12454;&#12455;&#12450;&#12392;&#38306;&#36899;&#12377;&#12427;&#12518;&#12540;&#12486;&#12451;&#12522;&#12486;&#12451;&#12399;&#12289;Andrew
	Tridgell &#12395;&#12424;&#12387;&#12390;&#20316;&#25104;&#12373;&#12428;&#12383;&#12290;&#29694;&#22312; Samba &#12399; Samba Team &#12395;&#12424;&#12387;&#12390;&#12289;Linux
	&#12459;&#12540;&#12493;&#12523;&#12398;&#38283;&#30330;&#12392;&#21516;&#27096;&#12398;&#12458;&#12540;&#12503;&#12531;&#12477;&#12540;&#12473;&#12503;&#12525;&#12472;&#12455;&#12463;&#12488;&#12392;&#12375;&#12390;&#38283;&#30330;&#12364;&#34892;&#12394;&#12431;&#12428;&#12390;&#12356;&#12427;&#12290;
	</p></div><div class="refsect1" title="&#26085;&#26412;&#35486;&#35379;"><a name="id2491216"></a><h2>&#26085;&#26412;&#35486;&#35379;</h2><p>&#12371;&#12398;&#12510;&#12491;&#12517;&#12450;&#12523;&#12506;&#12540;&#12472;&#12399; Samba 3.3.6 - 3.4.4 &#23550;&#24540;&#12398;&#12418;&#12398;&#12391;&#12354;&#12427;&#12290;</p><p>&#12371;&#12398;&#12489;&#12461;&#12517;&#12513;&#12531;&#12488;&#12398; Samba 3.3.6 - 3.4.4 &#23550;&#24540;&#12398;&#32763;&#35379;&#12399;
	</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>&#22826;&#30000;&#20426;&#21705; (ribbon@samba.gr.jp)</p></li></ul></div><p>	
        &#12395;&#12424;&#12387;&#12390;&#34892;&#12394;&#12431;&#12428;&#12383;&#12290;</p></div></div></body></html>
