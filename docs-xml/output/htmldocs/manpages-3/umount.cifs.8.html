<?xml version="1.0" encoding="UTF-8"?>
<html><head><title>umount.cifs</title><link rel="stylesheet" href="../samba.css" type="text/css"/><meta name="generator" content="DocBook XSL Stylesheets V1.75.2"/></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="refentry" title="umount.cifs"><a name="umount.cifs.8"/><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>umount.cifs — ルート権限のない一般ユーザが自身でマウントした Common Internet File System (CIFS) をアンマウントする。</p></div><div class="refsynopsisdiv" title="Synopsis"><h2>Synopsis</h2><div class="cmdsynopsis"><p><code class="literal">umount.cifs</code> {mount-point} [-nVvhfle]</p></div></div><div class="refsect1" title="説明"><a name="id2528795"/><h2>説明</h2><p>このツールは <a class="citerefentry" href="samba.7.html"><span class="citerefentry"><span class="refentrytitle">samba</span>(7)</span></a> システムの一部である。</p><p>umount.cifs は Linux の CIFS ファイルシステムをアンマウントする。
	実際には <a class="citerefentry" href="umount.8.html"><span class="citerefentry"><span class="refentrytitle">umount</span>(8)</span></a>
	コマンドが /sbin ディレクトリにある umount.cifs を間接的に起動している。
	但し、umount に -i オプションを指定した場合はこの限りではなく、
	その場合は umount.cifs のような umount 補助プログラムは実行されない。
	umount.cifs コマンドは Linux でのみ機能する。但し、カーネルが cifs ファイルシステムに対応している必要がある。
	CIFS プロトコルは、SMB プロトコルの後継で、
	よく知られた Open Source サーバである Samba 以外にも、殆どの Windows サーバや他の多くの商用サーバ、NAS 製品等で利用されている。
	</p><p>
	umount.cifs ユーティリティは、
	一致する UNC 名 (サーバ側のネットワーク資源) からローカルディレクトリ <span class="emphasis"><em>mount-point</em></span> を切り離し、
	関連づけられたカーネル資源を解放する。
	umount.cifs のファイルモードを setuid ルートに設定する (又はファイル /etc/permissions を同様の設定を行なう) ことで、
	書込み許可を持つディレクトリへの共有を非ルートユーザが umount 出来るようになる。
	ルートユーザに実行された
	ルートユーザのみがアンマウント可能であるかどうかや、
	/etc/fstab で明示的に指定されたエントリによってマウントやアンマウントを行なえるかどうかは、
	典型的に umount.cifs ユーティリティの必要とするところではない。
	詳細は <a class="citerefentry" href="fstab.5.html"><span class="citerefentry"><span class="refentrytitle">fstab</span>(5)</span></a>
	を参照のこと。</p></div><div class="refsect1" title="オプション"><a name="id2489358"/><h2>オプション</h2><div class="variablelist"><dl><dt><span class="term">--verbose</span></dt><dd><p>デバッグ情報も表示する</p></dd><dt><span class="term">--no-mtab</span></dt><dd><p>アンマウントが正しく完了した場合でも mtab を更新しない (/proc/mounts は正しい情報を表示し続ける)</p></dd></dl></div></div><div class="refsect1" title="備考"><a name="id2489393"/><h2>備考</h2><p>(ルートユーザは常にアンマウントを実行可能なので)
	このコマンドは通常 setuid を設定して使われることを意図されている。
	umount.cifs を使う代わりに、
	特定のユーザがマウントやアンマウント出来るように /etc/fstab に特定のエントリを追加しても構わない。</p></div><div class="refsect1" title="設定方法"><a name="id2489413"/><h2>設定方法</h2><p>
設定を変更したり、cifs vfs 用のデバッグ情報を読んだりする場合は、
基本的に Linux /proc ファイルシステム経由で行なう。
ディレクトリ <code class="filename">/proc/fs/cifs</code> には、
デバッグ情報を表示出来る様々な設定ファイルや擬似ファイルがある。
より詳細な情報は、
カーネルファイル <code class="filename">fs/cifs/README</code> を参照のこと。
</p></div><div class="refsect1" title="バグ"><a name="id2489447"/><h2>バグ</h2><p>現時点では、umount.cifs は umount ユーティリティと同一のロックを用いるマウントテーブルをロックしない。
	このため、異なるプロセスから複数のアンマウントを実行しようとしてはならない。
	(特に cifs マウントとそれ以外の種類のファイルシステムのマウントを同時にアンマウントしないように。)
	</p><p>同一のマウントポイントを cifs 複数回マウントした場合、
	umount.cifs は /etc/mtab の中でマッチするエントリのうち最後のものをマウントテーブルから削除するのではなく、
	マッチするエントリの全てを削除する。
	(実際には、umount.cifs は最後のものしかアンマウントしていない。)
	疑似ファイル /proc/mounts は正しい情報を表示するので、
	/etc/mtab にエントリが存在しなくても外のアンマウントを妨げることはない。
	</p><p>バグ報告への対応では、まず最新版で試してみることを提案することがよくある。
	それを試した後、
	バグ報告の際には関連するソフトウェアの使用中バージョンを必ず報告に含めることを強くお願いしたい。
	最低限、umount.cifs (umount.cifs -V を参照)、カーネル (/proc/version を参照)、
	及び接続したいサーバタイプは含めておいて欲しい。
	</p></div><div class="refsect1" title="バージョン"><a name="id2489512"/><h2>バージョン</h2><p>このマニュアルページは cifs vfs ファイルシステムバージョン 1.34 (Linux kernel 2.6.12 辺り) 用に書かれている。</p></div><div class="refsect1" title="関連項目"><a name="id2489524"/><h2>関連項目</h2><p>
	Linux カーネルソースツリーの Documentation/filesystems/cifs.txt 及び fs/cifs/README には、
	追加のオプションや情報が書かれている。
</p><p><a class="citerefentry" href="mount.cifs.8.html"><span class="citerefentry"><span class="refentrytitle">mount.cifs</span>(8)</span></a></p></div><div class="refsect1" title="著者"><a name="id2489549"/><h2>著者</h2><p>Steve French</p><p>文法は umount ユーティリティにほぼ準拠し、マニュアルページは mount.cifs.8 にほぼ準拠する。
	本マニュアルページは Steve French が作成した。</p><p>Linux cifs vfs 及びユーザ空間ツール <span class="emphasis"><em>umount.cifs</em></span> のメンテナは
		<a class="ulink" href="mailto:sfrench@samba.org" target="_top">Steve French</a> である。
		これらプログラムに関する問い合わせは、
		<a class="ulink" href="mailto:linux-cifs-client@lists.samba.org" target="_top">Linux CIFS メーリングリスト</a> まで。 
	</p></div><div class="refsect1" title="日本語訳"><a name="id2489590"/><h2>日本語訳</h2><p>このマニュアルページは Samba 3.2.4 - 3.4.11 対応のものである。</p><p>このドキュメントの Samba 3.2.4 - 3.4.11 対応の翻訳は
	</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>しらいたかし</p></li></ul></div><p>	
        によって行なわれた。</p></div></div></body></html>
