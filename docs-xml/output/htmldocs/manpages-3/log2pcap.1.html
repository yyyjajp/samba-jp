<?xml version="1.0" encoding="UTF-8"?>
<html><head><title>log2pcap</title><link rel="stylesheet" href="../samba.css" type="text/css"/><meta name="generator" content="DocBook XSL Stylesheets V1.75.2"/></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="refentry" title="log2pcap"><a name="log2pcap.1"/><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>log2pcap — Samba のログファイルからネットワークトレースを抽出する</p></div><div class="refsynopsisdiv" title="Synopsis"><h2>Synopsis</h2><div class="cmdsynopsis"><p><code class="literal">log2pcap</code> [-h] [-q] [logfile] [pcap_file]</p></div></div><div class="refsect1" title="説明"><a name="id2528810"/><h2>説明</h2><p>このツールは <a class="citerefentry" href="samba.7.html"><span class="citerefentry"><span class="refentrytitle">samba</span>(7)</span></a>システムの一部である。</p><p><code class="literal">log2pcap</code> samba のログファイルを読み込み、
	ログファイルに記録されているパケットダンプをもとに、pcap ファイル
	(ethereal や tcpdump に代表される殆どの sniffer で読み込み可能)
	を作成する。</p><p>SMB のヘッダーや値を正しく取得するためには、ログファイルの
	<em class="parameter"><code>log level</code></em> は最低 <code class="constant">5</code>
	は必要であり、パケットの最初の 512 データバイトを取得するには
	<code class="constant">10</code>、全てのパケット情報を取得するには
	<code class="constant">50</code> 必要である。
	</p></div><div class="refsect1" title="オプション"><a name="id2489224"/><h2>オプション</h2><div class="variablelist"><dl><dt><span class="term">-h</span></dt><dd><p>もしこのパラメータが指定された場合、
		出力は <span class="application">text2pcap</span> ユーティリティで
		読み込むことのできる HEX ダンプとなる。</p></dd><dt><span class="term">-q</span></dt><dd><p>サイレントモード。不完全なデータや無くなった
		データに対する警告メッセージを出さない。</p></dd><dt><span class="term">logfile</span></dt><dd><p>
		Samba のログファイル。もしログファイルが指定されなかった場合、
		log2pcap は stdin からログを読み込もうとする。
		</p></dd><dt><span class="term">pcap_file</span></dt><dd><p>
		pcap (もしくは hexdump) データを出力するファイル名。
		もしこの引数が指定されていない場合、結果は stdout に出力される。
		</p></dd><dt><span class="term">-h|--help</span></dt><dd><p>コマンドラインオプションの要約を表示する。
</p></dd></dl></div></div><div class="refsect1" title="使用例"><a name="id2489425"/><h2>使用例</h2><p>Samba の全てのログファイルから、全てのネットワークトラフィックを抽出する: </p><pre class="programlisting">
			<code class="prompt">$</code> log2pcap &lt; /var/log/* &gt; trace.pcap
	</pre><p>text2pcap を使用して pcap に変換する: </p><pre class="programlisting">
	<code class="prompt">$</code> log2pcap -h samba.log | text2pcap -T 139,139 - trace.pcap
	</pre></div><div class="refsect1" title="バージョン"><a name="id2489470"/><h2>バージョン</h2><p>このマニュアルページは Samba バージョン 3用である。</p></div><div class="refsect1" title="バグ"><a name="id2489482"/><h2>バグ</h2><p>SMB のデータだけが Samba のログより抽出され、LDAP や NetBIOS
	のルックアップなど、それ以外のデータは取得できない。</p><p>生成された TCP と IP のヘッダーは正しい checksum
	の値を保持していない。</p></div><div class="refsect1" title="関連項目"><a name="id2489502"/><h2>関連項目</h2><p><a class="citerefentry" href="text2pcap.1.html"><span class="citerefentry"><span class="refentrytitle">text2pcap</span>(1)</span></a>, <a class="citerefentry" href="ethereal.1.html"><span class="citerefentry"><span class="refentrytitle">ethereal</span>(1)</span></a></p></div><div class="refsect1" title="著者"><a name="id2489524"/><h2>著者</h2><p>オリジナルの Samba ソフトウェアと関連するユーティリティは、
	Andrew Tridgell によって作成された。現在 Samba は Samba Team によって、
	Linux カーネルの開発と同様の オープンソースプロジェクトとして
	開発が行なわれている。</p><p>このマニュアルページは Jelmer Vernooij によって書かれた。</p></div><div class="refsect1" title="日本語訳"><a name="id2489545"/><h2>日本語訳</h2><p>このマニュアルページは Samba 3.0.3 - 3.4.11 対応のものである。</p><p>このドキュメントの Samba 3.0.0 対応の翻訳は、山田 史朗
	(shiro@miraclelinux.com)によって行なわれた。</p><p>Samba 3.0.3 - 3.4.11 対応の翻訳は、たかはしもとのぶ (monyo@samba.gr.jp) によって行なわれた。</p></div></div></body></html>
