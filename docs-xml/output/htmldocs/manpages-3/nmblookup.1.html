<?xml version="1.0" encoding="UTF-8"?>
<html><head><title>nmblookup</title><link rel="stylesheet" href="../samba.css" type="text/css"/><meta name="generator" content="DocBook XSL Stylesheets V1.75.2"/></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="refentry" title="nmblookup"><a name="nmblookup"/><div class="titlepage"/><div class="refnamediv"><h2>Name</h2><p>nmblookup — NetBIOS 名を検索する NetBIOS over TCP/IP クライアント</p></div><div class="refsynopsisdiv" title="Synopsis"><h2>Synopsis</h2><div class="cmdsynopsis"><p><code class="literal">nmblookup</code> [-M] [-R] [-S] [-r] [-A] [-h] [-B &lt;broadcast address&gt;] [-U &lt;unicast address&gt;] [-d &lt;debug level&gt;] [-s &lt;smb config file&gt;] [-i &lt;NetBIOS scope&gt;] [-T] [-f] {name}</p></div></div><div class="refsect1" title="解説"><a name="id2488732"/><h2>解説</h2><p>このツールは <a class="citerefentry" href="samba.7.html"><span class="citerefentry"><span class="refentrytitle">samba</span>(7)</span></a> の一部である。</p><p><code class="literal">nmblookup</code> は、NetBIOS over TCP/IP
	が使われているネットワークにおいて、NetBIOS 名の問い合わせや、IP
	アドレスへの変換に使われる。オプションを設定することで、
	特定のブロードキャストアドレスや特定のマシンに対して名前の問い合わせを
	行なう事ができる。全ての問い合わせは、UDP を使って行なわれる。
	</p></div><div class="refsect1" title="オプション"><a name="id2488770"/><h2>オプション</h2><div class="variablelist"><dl><dt><span class="term">-M</span></dt><dd><p>タイプ <code class="constant">0x1d</code> の NetBIOS
		名、<em class="replaceable"><code>name</code></em> に問い合わせることで、
		マスタブラウザの検索をおこなう。<em class="replaceable"><code>name</code></em>
		が "-" の場合、特殊な名前である
		<code class="constant">__MSBROWSE__</code> の検索を行う。
		もし name に "-" を使用したいのなら、"-" が引数として扱われない
		ように注意しなければならない。使用例: 
		<strong class="userinput"><code>nmblookup -M -- -</code></strong></p></dd><dt><span class="term">-R</span></dt><dd><p>再帰検索を行なう為に、パケット中の
		再帰要求ビットを設定する。これは、WINS サーバが動作している
		マシンに対して問い合わせを行ない、WINS サーバに名前を
		問い合わせたいときに使用する。このビットが設定されていない場合、
		通常の(ブロードキャスト応答による) NetBIOS 名の応答処理が
		行われる。詳細は RFC1001 および RFC1002 を参照の事。
		</p></dd><dt><span class="term">-S</span></dt><dd><p>名前問い合わせで IP アドレスが返却された場合、
		ノードステータスの問い合わせも行なう。
		ノードステータスの問い合わせは、そのホストが登録している
		NetBIOS 名の一覧を返却する。
		</p></dd><dt><span class="term">-r</span></dt><dd><p>UDP のポート 137 を使って、UDP
		データグラムを送受信する。このオプションは、 Windows 95
		がパケットの送信元のポートを無視して UDPのポート 137
		にしか応答を返却しないというバグに対応する為のものである。
		しかし、ほとんどの UNIX システムで、このポートを使用するには
		root 権限が必要であり、更に、<a class="citerefentry" href="nmbd.8.html"><span class="citerefentry"><span class="refentrytitle">nmbd</span>(8)</span></a> デーモンが動作している場合、
		このポートを使用している。
		</p></dd><dt><span class="term">-A</span></dt><dd><p><em class="replaceable"><code>name</code></em> を IP
		アドレスとして解釈して、ノードステータスの問い合わせを
		このアドレスに行なう。</p></dd><dt><span class="term">-n &lt;primary NetBIOS name&gt;</span></dt><dd><p>Samba 自身の NetBIOS 名を指定する。このオプションは、
<code class="filename">smb.conf</code>中の、<a class="link" href="smb.conf.5.html#" target="_top"/> パラメータの設定に相当する。コマンドラインの指定は、
<code class="filename">smb.conf</code> 内の設定よりも優先される。 
</p></dd><dt><span class="term">-i &lt;scope&gt;</span></dt><dd><p><code class="literal">nmblookup</code>が、通信用のNetBIOS名
を生成する時に使うNetBIOS スコープを指定する。NetBIOS スコープの詳細な
利用方法については、 RFC 1001 と RFC 1002 を参照のこと。NetBIOSスコープ
は<span class="emphasis"><em>ごく稀にしか</em></span>利用されない。NetBIOS システム
全体を運営している管理者が、そのシステム内の相手と通信する場合にのみ、
このパラメータを設定する。
</p></dd><dt><span class="term">-W|--workgroup=domain</span></dt><dd><p>ユーザー名の SMB ドメインを指定する。このオプションは、
smb.conf 内のデフォルトのドメイン設定よりも優先される。ドメイン名として
サーバーの NetBIOS 名を指定すると、クライアントは (ドメインの SAM では
なく) サーバーのローカル SAM を使用してログオンを試みる。
</p></dd><dt><span class="term">-O socket options</span></dt><dd><p>クライアントのソケットに設定する TCP のソケットオプ
ション。有効なオプションの一覧については、<code class="filename">smb.conf</code> マニュアルページ
中の socket options パラメータを参照のこと。</p></dd><dt><span class="term">-h|--help</span></dt><dd><p>コマンドラインオプションの要約を表示する。
</p></dd><dt><span class="term">-B &lt;broadcast address&gt;</span></dt><dd><p>指定されたブロードキャストアドレスに対し
		問い合わせを送信する。このオプションを指定しない場合の
		nmblookup のデフォルト動作は、問い合わせを
		ネットワークインタフェースのブロードキャストアドレスに送信する。
		ネットワークインタフェースのブロードキャストアドレスは、
		自動検出に任せるか <a class="citerefentry" href="smb.conf.5.html"><span class="citerefentry"><span class="refentrytitle">smb.conf</span>(5)
		の </span></a><a class="ulink" href="smb.conf.5.html#INTERFACES" target="_top">
		<em class="parameter"><code>interfaces</code></em></a> パラメータで指定する。		
		</p></dd><dt><span class="term">-U &lt;unicast address&gt;</span></dt><dd><p>指定されたアドレスもしくは 
		<em class="replaceable"><code>unicast address</code></em> で指定したホストに
		対して、ユニキャストの問い合わせを行なう。このオプションは、
		(<em class="parameter"><code>-R</code></em> オプションと共に) WINS
		サーバに問い合わせを行なう時には必須である。</p></dd><dt><span class="term">-d|--debuglevel=level</span></dt><dd><p><em class="replaceable"><code>level</code></em> は0から10までの整数値である。
既定値の値は、パラメータが設定されていなければ0である。</p><p>この値を大きくするほど、サーバの動作に関するより詳細な情報が
ログファイルに記録される。レベル 0 では、致命的なエラーと重大な警告
のみが記録される。レベル 1 は日々の運用に適しており、少量の稼働状況
に関する情報を生成する。</p><p>1 より上のレベルは大量のログが生成されるので、問題解決の時にのみ
使用すべきである。 3 より上のレベルは開発者だけが利用するように設計されて
おり、莫大な量のログデータが生成される。そのほとんどは非常に謎めいた内容
となっている</p><p>このパラメータの指定は、<code class="filename">smb.conf</code>ファイル中の、 <a class="link" href="smb.conf.5.html#" target="_top"/> パラメータの
指定よりも優先する。</p></dd><dt><span class="term">-V</span></dt><dd><p>プログラムのバージョン番号を表示する。
</p></dd><dt><span class="term">-s &lt;configuration file&gt;</span></dt><dd><p>サーバーが必要とする詳細な設定を含む設定ファイルを
指定する。このファイルには、サーバーが提供するサービスに関する記述や、
どの printcap ファイルを利用するかといった情報が含まれている。詳細は
<code class="filename">smb.conf</code> を参照のこと。設定ファイルの名前の既定値は、コンパイル時
に決定される。
</p></dd><dt><span class="term">-l|--log-basename=logdirectory</span></dt><dd><p>ログ/デバッグファイルのファイル名。拡張子として
<code class="constant">".progname"</code> が追加される(例えば log.smbclient,
log.smbd,など)。ログファイルはクライアントによって削除されることはない。 
</p></dd><dt><span class="term">-T</span></dt><dd><p>このパラメータは、問い合わせ中に発見した
		あらゆる IP アドレスについて DNS の逆引きを行うことで、
		DNS 名を取得し、標準的な表示である</p><p><span class="emphasis"><em>IPアドレス .... NetBIOS名</em></span></p><p>の組の前に表示する。</p></dd><dt><span class="term">-f</span></dt><dd><p>
		検索した名前に適用されているフラグを表示させる。
		フラグには Response(レスポンス)、
		Authoritative(権威がある)、Recursion_Desired、
		Recursive_available、Broadcast(ブロードキャスト)などがある。
		</p></dd><dt><span class="term">name</span></dt><dd><p>これは問合せ対象の NetBIOS 名である。
		オプションの指定によっては、NetBIOS 名の場合もあれば、IP
		アドレスの場合もある。NetBIOS 名の場合は、名前の最後に
		'#&lt;type&gt;' を追加する事で名前のタイプを指定する事ができる。
		名前として「*」を指定することもでき、その場合はブロードキャストの範囲内に登録されている全ての名前が返却される。
		</p></dd></dl></div></div><div class="refsect1" title="使用例"><a name="id2489417"/><h2>使用例</h2><p><code class="literal">nmblookup</code> は、
		(<code class="literal">nslookup</code>  が DNS サーバに対して
		問い合わせるのと同様に) WINSサーバに対して問い合わせを
		行うことができる。WINS サーバに問い合わせを行なう際は、
		<code class="literal">nmblookup</code> を以下のようにして実行する
		必要がある:</p><p><code class="literal">nmblookup -U server -R 'name'</code></p><p>たとえば、以下のように実行する:</p><p><code class="literal">nmblookup -U samba.org -R 'IRIX#1B'</code></p><p>これは、samba.org の WINSサーバに対して、IRIX
		ワークグループのドメインマスタブラウザ (タイプ1B)
		を問い合わせる。</p></div><div class="refsect1" title="バージョン"><a name="id2489476"/><h2>バージョン</h2><p>このマニュアルページは Samba 3 対応のものである。</p></div><div class="refsect1" title="関連項目"><a name="id2489487"/><h2>関連項目</h2><p><a class="citerefentry" href="nmbd.8.html"><span class="citerefentry"><span class="refentrytitle">nmbd</span>(8)</span></a> 、 <a class="citerefentry" href="samba.7.html"><span class="citerefentry"><span class="refentrytitle">samba</span>(7)</span></a> 、 <a class="citerefentry" href="smb.conf.5.html"><span class="citerefentry"><span class="refentrytitle">smb.conf</span>(5)</span></a></p></div><div class="refsect1" title="著者"><a name="id2489519"/><h2>著者</h2><p>オリジナルの Samba ソフトウェアと関連ユーティリティは、
	Andrew Tridgellによって作成された。 現在 Samba は、Samba Team によって
	Linux カーネルの 開発と同様に、オープンソースプロジェクトとして
	開発されている。</p><p>オリジナルのSambaマニュアルは、Karl Auer によって執筆された。
	マニュアルのソースは Jeremy Allison によって YODL 形式に変換され、
	Samba 2.0 リリース用に更新された。
	(YODL はオープンソース・ソフトウエアの優れた作品である 
	<a class="ulink" href="ftp://ftp.icce.rug.nl/pub/unix/" target="_top">
	ftp://ftp.icce.rug.nl/pub/unix/</a> より入手可能。)
	Samba 2.2 における DocBook形式への変換は Gerald Carter
	によって行なわれた。Samba 3.0 における DocBook XML 4.2 形式への変換は
	Alexander Bokovoy によって行われた。</p></div><div class="refsect1" title="日本語訳"><a name="id2489563"/><h2>日本語訳</h2><p>このマニュアルページは Samba 3.0.3 - Samba 3.3.12  対応のものである。</p><p>このドキュメントの Samba 3.0.0 対応の翻訳は
	</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>たかはしもとのぶ (monyo@samba.gr.jp)</p></li><li class="listitem"><p>はせがわ ようすけ</p></li><li class="listitem"><p>山田 史朗 (shiro@miraclelinux.com)</p></li></ul></div><p>	
	</p><p>Samba 3.0.3 - Samba 3.0.24 対応の翻訳は、たかはしもとのぶ (monyo@samba.gr.jp) によって行なわれた。</p><p>
	</p><p>Samba 3.2.4-3.3.12 対応の翻訳は、太田俊哉 (ribbon@samba.gr.jp) によって行なわれた。</p><p>
</p></div></div></body></html>
