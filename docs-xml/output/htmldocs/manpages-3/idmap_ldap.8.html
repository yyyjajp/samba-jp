<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>idmap_ldap</title><link rel="stylesheet" href="../samba.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.75.2"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="refentry" title="idmap_ldap"><a name="idmap_ldap.8"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>idmap_ldap — SambaのWinbind用idmap_ldapバックエンド</p></div><div class="refsynopsisdiv" title="説明"><h2>説明</h2><p>idmap_ldap プラグインは、 LDAP ディレクトリサービスにある	SID/uid/gid のマッピングテーブルに対して、 Winbind から格納／	呼び出しを行う手段を提供する。このモジュールは "idmap"	と "idmap alloc" API の両方を実装している。	</p></div><div class="refsect1" title="IDMAP オプション"><a name="id2529780"></a><h2>IDMAP オプション</h2><div class="variablelist"><dl><dt><span class="term">ldap_base_dn = DN</span></dt><dd><p>			SID/uid/gid マッピングエントリの検索を行う際に使用する、			ディレクトリの base suffix を定義する。定義されていない場合、			idmap_ldap はデフォルトで smb.conf の "ldap idmap suffix"			オプションの値を使用する。		</p></dd><dt><span class="term">ldap_user_dn = DN</span></dt><dd><p>			認証の際に使用する user DN を定義する。			未定義の場合は匿名バインドが実行される。		</p></dd><dt><span class="term">ldap_url = ldap://server/</span></dt><dd><p>			既存の SID/uid/gid マップのエントリを検索する際に使用する LDAP 			サーバーを指定する。未定義の場合、 ldap://localhost/ が使われる。		</p></dd><dt><span class="term">range = low - high</span></dt><dd><p>			バックエンドが権威を持つと規定されている、 uid と gid の利用可能な			マッチング範囲を定義する。事実上同じバックエンドが SID/uid/gid			マッピングのエントリを格納／呼び出しするため、通常その範囲は			割り当て範囲と同じになる。指定がない場合 Winbind はフェイル			オーバーして、 smb.conf の "idmap uid" と			"idmap gid" オプションを使用する。                </p></dd></dl></div></div><div class="refsect1" title="IDMAP ALLOC オプション"><a name="id2490557"></a><h2>IDMAP ALLOC オプション</h2><div class="variablelist"><dl><dt><span class="term">ldap_base_dn = DN</span></dt><dd><p>			そのディレクトリの中で、新しい SID/uid/gid マッピングのエントリを			格納するべき base suffix を定義する。指定がない場合、 idmap_ldap は			デフォルトとして smb.conf の "ldap idmap suffix"			オプションを使用する。		</p></dd><dt><span class="term">ldap_user_dn = DN</span></dt><dd><p>			認証の際に使用するuser DNを定義する。			未定義の場合は匿名バインドが実行される。		</p></dd><dt><span class="term">ldap_url = ldap://server/</span></dt><dd><p>			modify/add/delete リクエストを送信する宛先としての LDAP サーバー			を指定する。未定義の場合 ldap://localhost/ が使われる。		</p></dd><dt><span class="term">range = low - high</span></dt><dd><p>			winbindd からユーザとグループに対して割り当てができる uid と			 gid の利用可能範囲を定義する。指定がない場合 Winbind はフェイル			オーバーして、 smb.conf の "idmap uid" と			"idmap gid" オプションを使用する。                </p></dd></dl></div></div><div class="refsect1" title="使用例"><a name="id2490641"></a><h2>使用例</h2><p>	以下の LDAP 設定の例は、SID/gid/uid マッピングを高速に検索するために	localhost 上で動作しているスレーブサーバーのものであり、紹介(referral)	の設定が正しくなされていることを暗に示している。	idmap 割当て用バックエンドは直接マスターを指しており、紹介（とそれに	続くマスターへの再接続）はスキップされる。これにより、スレーブは	割り当て要求の結果としてマスター側で書き込まれたものを返してくれる。	</p><pre class="programlisting">	[global]	    idmap domains = ALLDOMAINS	    idmap config ALLDOMAINS:default      = yes	    idmap config ALLDOMAINS:backend      = ldap	    idmap config ALLDOMAINS:ldap_base_dn = ou=idmap,dc=example,dc=com	    idmap config ALLDOMAINS:ldap_url     = ldap://localhost/	    idmap config ALLDOMAINS:range        = 10000 - 50000	    idmap alloc backend = ldap	    idmap alloc config:ldap_base_dn = ou=idmap,dc=example,dc=com	    idmap alloc config:ldap_url     = ldap://master.example.com/	    idmap alloc config:range        = 10000 - 50000	</pre></div><div class="refsynopsisdiv" title="備考"><h2>備考</h2><p>LDAP サーバーに対して認証を使用するには DN とパスワードを	指定する必要があるだろう。設定ファイル中に平文で指定された	パスワードが晒されてしまうことを防ぐために、これらはセキュリティ	ストアの中に格納される。特定の idmap ドメインにおいて、指定された	DN に対する秘密のパスワードを格納するには "net idmap " 	コマンドを使用する。	</p></div><div class="refsect1" title="著者"><a name="id2490695"></a><h2>著者</h2><p>	オリジナルの Samba ソフトウェアとそれに関連するユーティリティーは、	Andrew Tridgell によって作られた。Samba は現在、Linux カーネル開発と	同様の方法で、Samba Team によりオープンソースプロジェクトとして	開発されている。	</p></div><div class="refsect1" title="日本語訳"><a name="id2490715"></a><h2>日本語訳</h2><p>このマニュアルページは Samba 3.2.4-3.4.4  対応のものである。</p><p>このドキュメントの Samba 3.2.4-3.4.4 対応の翻訳は	</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>堀田 倫英(hotta@net-newbie.com)</p></li></ul></div><p>			によって行なわれた。</p></div></div></body></html>