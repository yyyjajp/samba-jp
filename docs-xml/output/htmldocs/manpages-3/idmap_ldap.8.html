<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>idmap_ldap</title><link rel="stylesheet" href="../samba.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.75.2"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="refentry" title="idmap_ldap"><a name="idmap_ldap.8"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>idmap_ldap &#8212; Samba&#12398;Winbind&#29992;idmap_ldap&#12496;&#12483;&#12463;&#12456;&#12531;&#12489;</p></div><div class="refsynopsisdiv" title="&#35500;&#26126;"><h2>&#35500;&#26126;</h2><p>idmap_ldap &#12503;&#12521;&#12464;&#12452;&#12531;&#12399;&#12289; LDAP &#12487;&#12451;&#12524;&#12463;&#12488;&#12522;&#12469;&#12540;&#12499;&#12473;&#12395;&#12354;&#12427;
	SID/uid/gid &#12398;&#12510;&#12483;&#12500;&#12531;&#12464;&#12486;&#12540;&#12502;&#12523;&#12395;&#23550;&#12375;&#12390;&#12289; Winbind &#12363;&#12425;&#26684;&#32013;&#65295;
	&#21628;&#12403;&#20986;&#12375;&#12434;&#34892;&#12358;&#25163;&#27573;&#12434;&#25552;&#20379;&#12377;&#12427;&#12290;&#12371;&#12398;&#12514;&#12472;&#12517;&#12540;&#12523;&#12399; "idmap"
	&#12392; "idmap alloc" API &#12398;&#20001;&#26041;&#12434;&#23455;&#35013;&#12375;&#12390;&#12356;&#12427;&#12290;
	</p></div><div class="refsect1" title="IDMAP &#12458;&#12503;&#12471;&#12519;&#12531;"><a name="id2529780"></a><h2>IDMAP &#12458;&#12503;&#12471;&#12519;&#12531;</h2><div class="variablelist"><dl><dt><span class="term">ldap_base_dn = DN</span></dt><dd><p>
			SID/uid/gid &#12510;&#12483;&#12500;&#12531;&#12464;&#12456;&#12531;&#12488;&#12522;&#12398;&#26908;&#32034;&#12434;&#34892;&#12358;&#38555;&#12395;&#20351;&#29992;&#12377;&#12427;&#12289;
			&#12487;&#12451;&#12524;&#12463;&#12488;&#12522;&#12398; base suffix &#12434;&#23450;&#32681;&#12377;&#12427;&#12290;&#23450;&#32681;&#12373;&#12428;&#12390;&#12356;&#12394;&#12356;&#22580;&#21512;&#12289;
			idmap_ldap &#12399;&#12487;&#12501;&#12457;&#12523;&#12488;&#12391; smb.conf &#12398; "ldap idmap suffix"
			&#12458;&#12503;&#12471;&#12519;&#12531;&#12398;&#20516;&#12434;&#20351;&#29992;&#12377;&#12427;&#12290;
		</p></dd><dt><span class="term">ldap_user_dn = DN</span></dt><dd><p>
			&#35469;&#35388;&#12398;&#38555;&#12395;&#20351;&#29992;&#12377;&#12427; user DN &#12434;&#23450;&#32681;&#12377;&#12427;&#12290;
			&#26410;&#23450;&#32681;&#12398;&#22580;&#21512;&#12399;&#21311;&#21517;&#12496;&#12452;&#12531;&#12489;&#12364;&#23455;&#34892;&#12373;&#12428;&#12427;&#12290;
		</p></dd><dt><span class="term">ldap_url = ldap://server/</span></dt><dd><p>
			&#26082;&#23384;&#12398; SID/uid/gid &#12510;&#12483;&#12503;&#12398;&#12456;&#12531;&#12488;&#12522;&#12434;&#26908;&#32034;&#12377;&#12427;&#38555;&#12395;&#20351;&#29992;&#12377;&#12427; LDAP 
			&#12469;&#12540;&#12496;&#12540;&#12434;&#25351;&#23450;&#12377;&#12427;&#12290;&#26410;&#23450;&#32681;&#12398;&#22580;&#21512;&#12289; ldap://localhost/ &#12364;&#20351;&#12431;&#12428;&#12427;&#12290;
		</p></dd><dt><span class="term">range = low - high</span></dt><dd><p>
			&#12496;&#12483;&#12463;&#12456;&#12531;&#12489;&#12364;&#27177;&#23041;&#12434;&#25345;&#12388;&#12392;&#35215;&#23450;&#12373;&#12428;&#12390;&#12356;&#12427;&#12289; uid &#12392; gid &#12398;&#21033;&#29992;&#21487;&#33021;&#12394;
			&#12510;&#12483;&#12481;&#12531;&#12464;&#31684;&#22258;&#12434;&#23450;&#32681;&#12377;&#12427;&#12290;&#20107;&#23455;&#19978;&#21516;&#12376;&#12496;&#12483;&#12463;&#12456;&#12531;&#12489;&#12364; SID/uid/gid
			&#12510;&#12483;&#12500;&#12531;&#12464;&#12398;&#12456;&#12531;&#12488;&#12522;&#12434;&#26684;&#32013;&#65295;&#21628;&#12403;&#20986;&#12375;&#12377;&#12427;&#12383;&#12417;&#12289;&#36890;&#24120;&#12381;&#12398;&#31684;&#22258;&#12399;
			&#21106;&#12426;&#24403;&#12390;&#31684;&#22258;&#12392;&#21516;&#12376;&#12395;&#12394;&#12427;&#12290;&#25351;&#23450;&#12364;&#12394;&#12356;&#22580;&#21512; Winbind &#12399;&#12501;&#12455;&#12452;&#12523;
			&#12458;&#12540;&#12496;&#12540;&#12375;&#12390;&#12289; smb.conf &#12398; "idmap uid" &#12392;
			"idmap gid" &#12458;&#12503;&#12471;&#12519;&#12531;&#12434;&#20351;&#29992;&#12377;&#12427;&#12290;
                </p></dd></dl></div></div><div class="refsect1" title="IDMAP ALLOC &#12458;&#12503;&#12471;&#12519;&#12531;"><a name="id2490558"></a><h2>IDMAP ALLOC &#12458;&#12503;&#12471;&#12519;&#12531;</h2><div class="variablelist"><dl><dt><span class="term">ldap_base_dn = DN</span></dt><dd><p>
			&#12381;&#12398;&#12487;&#12451;&#12524;&#12463;&#12488;&#12522;&#12398;&#20013;&#12391;&#12289;&#26032;&#12375;&#12356; SID/uid/gid &#12510;&#12483;&#12500;&#12531;&#12464;&#12398;&#12456;&#12531;&#12488;&#12522;&#12434;
			&#26684;&#32013;&#12377;&#12427;&#12409;&#12365; base suffix &#12434;&#23450;&#32681;&#12377;&#12427;&#12290;&#25351;&#23450;&#12364;&#12394;&#12356;&#22580;&#21512;&#12289; idmap_ldap &#12399;
			&#12487;&#12501;&#12457;&#12523;&#12488;&#12392;&#12375;&#12390; smb.conf &#12398; "ldap idmap suffix"
			&#12458;&#12503;&#12471;&#12519;&#12531;&#12434;&#20351;&#29992;&#12377;&#12427;&#12290;
		</p></dd><dt><span class="term">ldap_user_dn = DN</span></dt><dd><p>
			&#35469;&#35388;&#12398;&#38555;&#12395;&#20351;&#29992;&#12377;&#12427;user DN&#12434;&#23450;&#32681;&#12377;&#12427;&#12290;
			&#26410;&#23450;&#32681;&#12398;&#22580;&#21512;&#12399;&#21311;&#21517;&#12496;&#12452;&#12531;&#12489;&#12364;&#23455;&#34892;&#12373;&#12428;&#12427;&#12290;
		</p></dd><dt><span class="term">ldap_url = ldap://server/</span></dt><dd><p>
			modify/add/delete &#12522;&#12463;&#12456;&#12473;&#12488;&#12434;&#36865;&#20449;&#12377;&#12427;&#23451;&#20808;&#12392;&#12375;&#12390;&#12398; LDAP &#12469;&#12540;&#12496;&#12540;
			&#12434;&#25351;&#23450;&#12377;&#12427;&#12290;&#26410;&#23450;&#32681;&#12398;&#22580;&#21512; ldap://localhost/ &#12364;&#20351;&#12431;&#12428;&#12427;&#12290;
		</p></dd><dt><span class="term">range = low - high</span></dt><dd><p>
			winbindd &#12363;&#12425;&#12518;&#12540;&#12470;&#12392;&#12464;&#12523;&#12540;&#12503;&#12395;&#23550;&#12375;&#12390;&#21106;&#12426;&#24403;&#12390;&#12364;&#12391;&#12365;&#12427; uid &#12392;
			 gid &#12398;&#21033;&#29992;&#21487;&#33021;&#31684;&#22258;&#12434;&#23450;&#32681;&#12377;&#12427;&#12290;&#25351;&#23450;&#12364;&#12394;&#12356;&#22580;&#21512; Winbind &#12399;&#12501;&#12455;&#12452;&#12523;
			&#12458;&#12540;&#12496;&#12540;&#12375;&#12390;&#12289; smb.conf &#12398; "idmap uid" &#12392;
			"idmap gid" &#12458;&#12503;&#12471;&#12519;&#12531;&#12434;&#20351;&#29992;&#12377;&#12427;&#12290;
                </p></dd></dl></div></div><div class="refsect1" title="&#20351;&#29992;&#20363;"><a name="id2490642"></a><h2>&#20351;&#29992;&#20363;</h2><p>
	&#20197;&#19979;&#12398; LDAP &#35373;&#23450;&#12398;&#20363;&#12399;&#12289;SID/gid/uid &#12510;&#12483;&#12500;&#12531;&#12464;&#12434;&#39640;&#36895;&#12395;&#26908;&#32034;&#12377;&#12427;&#12383;&#12417;&#12395;
	localhost &#19978;&#12391;&#21205;&#20316;&#12375;&#12390;&#12356;&#12427;&#12473;&#12524;&#12540;&#12502;&#12469;&#12540;&#12496;&#12540;&#12398;&#12418;&#12398;&#12391;&#12354;&#12426;&#12289;&#32057;&#20171;(referral)
	&#12398;&#35373;&#23450;&#12364;&#27491;&#12375;&#12367;&#12394;&#12373;&#12428;&#12390;&#12356;&#12427;&#12371;&#12392;&#12434;&#26263;&#12395;&#31034;&#12375;&#12390;&#12356;&#12427;&#12290;
	idmap &#21106;&#24403;&#12390;&#29992;&#12496;&#12483;&#12463;&#12456;&#12531;&#12489;&#12399;&#30452;&#25509;&#12510;&#12473;&#12479;&#12540;&#12434;&#25351;&#12375;&#12390;&#12362;&#12426;&#12289;&#32057;&#20171;&#65288;&#12392;&#12381;&#12428;&#12395;
	&#32154;&#12367;&#12510;&#12473;&#12479;&#12540;&#12408;&#12398;&#20877;&#25509;&#32154;&#65289;&#12399;&#12473;&#12461;&#12483;&#12503;&#12373;&#12428;&#12427;&#12290;&#12371;&#12428;&#12395;&#12424;&#12426;&#12289;&#12473;&#12524;&#12540;&#12502;&#12399;
	&#21106;&#12426;&#24403;&#12390;&#35201;&#27714;&#12398;&#32080;&#26524;&#12392;&#12375;&#12390;&#12510;&#12473;&#12479;&#12540;&#20596;&#12391;&#26360;&#12365;&#36796;&#12414;&#12428;&#12383;&#12418;&#12398;&#12434;&#36820;&#12375;&#12390;&#12367;&#12428;&#12427;&#12290;
	</p><pre class="programlisting">
	[global]
	    idmap domains = ALLDOMAINS
	    idmap config ALLDOMAINS:default      = yes
	    idmap config ALLDOMAINS:backend      = ldap
	    idmap config ALLDOMAINS:ldap_base_dn = ou=idmap,dc=example,dc=com
	    idmap config ALLDOMAINS:ldap_url     = ldap://localhost/
	    idmap config ALLDOMAINS:range        = 10000 - 50000

	    idmap alloc backend = ldap
	    idmap alloc config:ldap_base_dn = ou=idmap,dc=example,dc=com
	    idmap alloc config:ldap_url     = ldap://master.example.com/
	    idmap alloc config:range        = 10000 - 50000
	</pre></div><div class="refsynopsisdiv" title="&#20633;&#32771;"><h2>&#20633;&#32771;</h2><p>LDAP &#12469;&#12540;&#12496;&#12540;&#12395;&#23550;&#12375;&#12390;&#35469;&#35388;&#12434;&#20351;&#29992;&#12377;&#12427;&#12395;&#12399; DN &#12392;&#12497;&#12473;&#12527;&#12540;&#12489;&#12434;
	&#25351;&#23450;&#12377;&#12427;&#24517;&#35201;&#12364;&#12354;&#12427;&#12384;&#12429;&#12358;&#12290;&#35373;&#23450;&#12501;&#12449;&#12452;&#12523;&#20013;&#12395;&#24179;&#25991;&#12391;&#25351;&#23450;&#12373;&#12428;&#12383;
	&#12497;&#12473;&#12527;&#12540;&#12489;&#12364;&#26194;&#12373;&#12428;&#12390;&#12375;&#12414;&#12358;&#12371;&#12392;&#12434;&#38450;&#12368;&#12383;&#12417;&#12395;&#12289;&#12371;&#12428;&#12425;&#12399;&#12475;&#12461;&#12517;&#12522;&#12486;&#12451;
	&#12473;&#12488;&#12450;&#12398;&#20013;&#12395;&#26684;&#32013;&#12373;&#12428;&#12427;&#12290;&#29305;&#23450;&#12398; idmap &#12489;&#12513;&#12452;&#12531;&#12395;&#12362;&#12356;&#12390;&#12289;&#25351;&#23450;&#12373;&#12428;&#12383;
	DN &#12395;&#23550;&#12377;&#12427;&#31192;&#23494;&#12398;&#12497;&#12473;&#12527;&#12540;&#12489;&#12434;&#26684;&#32013;&#12377;&#12427;&#12395;&#12399; "net idmap " 
	&#12467;&#12510;&#12531;&#12489;&#12434;&#20351;&#29992;&#12377;&#12427;&#12290;
	</p></div><div class="refsect1" title="&#33879;&#32773;"><a name="id2490696"></a><h2>&#33879;&#32773;</h2><p>
	&#12458;&#12522;&#12472;&#12490;&#12523;&#12398; Samba &#12477;&#12501;&#12488;&#12454;&#12455;&#12450;&#12392;&#12381;&#12428;&#12395;&#38306;&#36899;&#12377;&#12427;&#12518;&#12540;&#12486;&#12451;&#12522;&#12486;&#12451;&#12540;&#12399;&#12289;
	Andrew Tridgell &#12395;&#12424;&#12387;&#12390;&#20316;&#12425;&#12428;&#12383;&#12290;Samba &#12399;&#29694;&#22312;&#12289;Linux &#12459;&#12540;&#12493;&#12523;&#38283;&#30330;&#12392;
	&#21516;&#27096;&#12398;&#26041;&#27861;&#12391;&#12289;Samba Team &#12395;&#12424;&#12426;&#12458;&#12540;&#12503;&#12531;&#12477;&#12540;&#12473;&#12503;&#12525;&#12472;&#12455;&#12463;&#12488;&#12392;&#12375;&#12390;
	&#38283;&#30330;&#12373;&#12428;&#12390;&#12356;&#12427;&#12290;
	</p></div><div class="refsect1" title="&#26085;&#26412;&#35486;&#35379;"><a name="id2490716"></a><h2>&#26085;&#26412;&#35486;&#35379;</h2><p>&#12371;&#12398;&#12510;&#12491;&#12517;&#12450;&#12523;&#12506;&#12540;&#12472;&#12399; Samba 3.2.4-3.3.10  &#23550;&#24540;&#12398;&#12418;&#12398;&#12391;&#12354;&#12427;&#12290;</p><p>&#12371;&#12398;&#12489;&#12461;&#12517;&#12513;&#12531;&#12488;&#12398; Samba 3.2.4-3.3.10 &#23550;&#24540;&#12398;&#32763;&#35379;&#12399;
	</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>&#22528;&#30000; &#20523;&#33521;(hotta@net-newbie.com)</p></li></ul></div><p>	
		&#12395;&#12424;&#12387;&#12390;&#34892;&#12394;&#12431;&#12428;&#12383;&#12290;</p></div></div></body></html>
