<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>smbcontrol</title><link rel="stylesheet" href="../samba.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.75.2"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="refentry" title="smbcontrol"><a name="smbcontrol.1"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>smbcontrol — smbd、nmbd または winbindd のプロセスにメッセージを送信する	</p></div><div class="refsynopsisdiv" title="Synopsis"><h2>Synopsis</h2><div class="cmdsynopsis"><p><code class="literal">smbcontrol</code> [-i] [-s]</p></div><div class="cmdsynopsis"><p><code class="literal">smbcontrol</code> [destination] [message-type] [parameter]</p></div></div><div class="refsect1" title="説明"><a name="id2529823"></a><h2>説明</h2><p>このツールは <a class="citerefentry" href="Samba.7.html"><span class="citerefentry"><span class="refentrytitle">Samba</span>(7)</span></a>システムの一部である。</p><p><code class="literal">smbcontrol</code> は動作中の <a class="citerefentry" href="smbd.8.html"><span class="citerefentry"><span class="refentrytitle">smbd</span>(8)</span></a>、<a class="citerefentry" href="nmbd.8.html"><span class="citerefentry"><span class="refentrytitle">nmbd</span>(8)</span></a> や <a class="citerefentry" href="winbindd.8.html"><span class="citerefentry"><span class="refentrytitle">winbindd</span>(8)</span></a> デーモンにメッセージを送る、	とても小さなプログラムである。</p></div><div class="refsect1" title="オプション"><a name="id2490571"></a><h2>オプション</h2><div class="variablelist"><dl><dt><span class="term">-h|--help</span></dt><dd><p>Print a summary of command line options.</p></dd><dt><span class="term">-s|--configfile <configuration file></span></dt><dd><p>The file specified contains the configuration details required by the server.  The information in this file includes server-specificinformation such as what printcap file to use, as well as descriptions of all the services that the server is to provide. See <code class="filename">smb.conf</code> for more information.The default configuration file name is determined at compile time.</p></dd><dt><span class="term">-i</span></dt><dd><p>対話的に動作する。それぞれのコマンドの		destination、message-type、parameter は標準入力より入力できる。		空のコマンドラインまたは "q" でプログラムは終了する。		</p></dd><dt><span class="term">destination</span></dt><dd><p><em class="parameter"><code>nmbd</code></em>、		<em class="parameter"><code>smbd</code></em> かプロセス ID のどれか。</p><p>distinationに <em class="parameter"><code>all</code></em>を指定すると、		nmbdとwinbindを含む、動いているデーモンすべてに、"ブロードキャスト"		で、メッセージを送る。これは、Samba 3.3から変更になり、それ以前		では、smbdがこのパラメータを使う。</p><p>destination に <em class="parameter"><code>smbd</code></em> を指定すると		<code class="filename">smbd.pid</code>ファイルで指定されたsmbdデーモンに		メッセージが送られる。		</p><p>destination に <em class="parameter"><code>nmbd</code></em> を指定すると		<code class="filename">nmbd.pid</code> ファイルで指定されている nmbd		デーモンに対してメッセージが送られる。</p><p>destination に <em class="parameter"><code>winbindd</code></em> を指定すると		<code class="filename">winbindd.pid</code> ファイルで指定されている winbindd		デーモンに対してメッセージが送られる。</p><p>もし単一のプロセス ID が与えられたときは、メッセージは		その 1 つのプロセスにのみ送られる。</p></dd><dt><span class="term">message-type</span></dt><dd><p>メッセージの種類を指定する。詳細は		<code class="constant">MESSAGE-TYPES</code> を参照のこと。		</p></dd><dt><span class="term">parameters</span></dt><dd><p>メッセージの種類によって必要なパラメータ。		</p></dd></dl></div></div><div class="refsect1" title="MESSAGE-TYPES"><a name="id2490762"></a><h2>MESSAGE-TYPES</h2><p>使用可能なメッセージの種類:</p><div class="variablelist"><dl><dt><span class="term">close-share</span></dt><dd><p>smbd に対し、指名した共有に接続しているクライアントの	接続を閉じるように命令する。これはクライアントの他の共有への接続には	影響を与えないことに注意。このメッセージタイプはクライアント接続を	閉じたい共有名か、全ての開いてある共有を切断する "*" を引数として	受け取る。これは、共有のアクセスコントロールを変更したときに便利である。	このメッセージは <code class="constant">smbd</code> にのみ送ることができる。	</p></dd><dt><span class="term">debug</span></dt><dd><p>メッセージはデバッグレベルを parameter	で指定された値に設定する。このメッセージはどの destination	に対しても送信できる。</p></dd><dt><span class="term">force-election</span></dt><dd><p>このメッセージは <code class="literal">nmbd</code>	デーモンに新たにマスタブラウザの選定を始めさせる。</p></dd><dt><span class="term">ping</span></dt><dd><p>メッセージは parameter で指定された数だけの "ping"	メッセージを送信し、同じ数だけの "pong" メッセージの応答を待つ。	このメッセージはどの destination に対しても 送信できる。</p></dd><dt><span class="term">profile</span></dt><dd><p>メッセージはデーモンに parameter に基づいた profile	の設定に変更するメッセージを送信する。 parameter に "on" を指定すると	profile stats の収集が有効となり、"off" を指定すると profile stats	の収集が無効となり、"count" を指定すると count stats の収集のみが	有効となり (time stats は無効)、また、"flush" を指定したときは現在の	profile stats をゼロにする。 このメッセージはどの smbd および nmbd にも送信できる。</p></dd><dt><span class="term">debuglevel</span></dt><dd><p>メッセージはデーモンの "debuglevel" を問い合わせる	メッセージを送信し、それを STDOUT に書き込む。このメッセージはどの	destination に対しても送信できる。</p></dd><dt><span class="term">profilelevel</span></dt><dd><p>	メッセージはデーモンの "profile" を問い合わせる	メッセージを送信し、それを STDOUT に書き込む。このメッセージはどの	smbd および nmbd のデーモンに対しても送信することができる。	</p></dd><dt><span class="term">printnotify</span></dt><dd><p>メッセージはプリンタに接続しているすべての Windows NT	クライアントへ printer notify message を送信する。このメッセージには	以下の引数を渡すことができる:	</p><div class="variablelist"><dl><dt><span class="term">queuepause printername</span></dt><dd><p>指定したプリンタに対し、queue pause change notify	    メッセージを送信する。</p></dd><dt><span class="term">queueresume printername</span></dt><dd><p>指定したプリンタに対し、queue resume change notify	    メッセージを送信する。</p></dd><dt><span class="term">jobpause printername unixjobid</span></dt><dd><p>指定したプリンタと UNIX の jobid に対し、job pause	    change notify メッセージを送信する。</p></dd><dt><span class="term">jobresume printername unixjobid</span></dt><dd><p>指定したプリンタと UNIX の jobid に対し、job resume	    change notify メッセージを送信する。</p></dd><dt><span class="term">jobdelete printername unixjobid</span></dt><dd><p>指定したプリンタと UNIX の jobid に対し、job delete	    change notify メッセージを送信する。</p></dd></dl></div><p>このメッセージはイベントが起こったと通知するだけである。	実際にイベントを起こすわけではない。	</p><p>このメッセージは <code class="constant">smbd</code> に対してのみ	送信できる。</p></dd><dt><span class="term">samsync</span></dt><dd><p>smbd に対して、PDC の sam database と同期をとるように	命令する (BDC になるように命令)。<code class="constant">smbd</code>	に対してのみ送信できる。</p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>現在未実装。</p></div></dd><dt><span class="term">samrepl</span></dt><dd><p>sam の replication メッセージを順次送信する。	<code class="constant">smbd</code> に対してのみ送信できる。	手動で使用してはいけない。</p></dd><dt><span class="term">dmalloc-mark</span></dt><dd><p>dmalloc のマークをセットする。smbd と nmbd	の両方に対して送信することができる。Samba の dmalloc	サポートが有効になった状態でビルドされた場合にのみ使用できる。	</p></dd><dt><span class="term">dmalloc-log-changed</span></dt><dd><p>	dmalloc-mark によってマークされた時点以降で、変更のあったポインタを	ダンプする。smbd と nmbd の両方に対して送信することができる。	Samba の dmalloc サポートが有効になった状態でビルドされた場合にのみ	使用できる。</p></dd><dt><span class="term">shutdown</span></dt><dd><p>指定されたデーモンを落とすことができる。	smbd と nmbd の両方に対して送信することができる。</p></dd><dt><span class="term">pool-usage</span></dt><dd><p>指定されたデーモン/プロセスの talloc(pool) memory	usage を、人間に読み取り可能な状態で表示する。smbd と nmbd の両方に	対して使用できる。</p></dd><dt><span class="term">drvupgrade</span></dt><dd><p>特定のドライバを使用しているプリンタのクライアントに	対し、ローカルのドライバをアップデートするように強制する。	smbd に対してのみ送信することができる。</p></dd><dt><span class="term">reload-config</span></dt><dd><p>デーモンに smb.conf 設定ファイルの再読み込みを	強制させる。<code class="constant">smbd</code>、<code class="constant">nmbd</code> か	<code class="constant">winbindd</code> に対して送信することができる。	</p></dd></dl></div></div><div class="refsect1" title="バージョン"><a name="id2491168"></a><h2>バージョン</h2><p>このマニュアルページは Samba 3 用である。</p></div><div class="refsect1" title="関連項目"><a name="id2491179"></a><h2>関連項目</h2><p><a class="citerefentry" href="nmbd.8.html"><span class="citerefentry"><span class="refentrytitle">nmbd</span>(8)</span></a> and <a class="citerefentry" href="smbd.8.html"><span class="citerefentry"><span class="refentrytitle">smbd</span>(8)</span></a>.</p></div><div class="refsect1" title="著者"><a name="id2491203"></a><h2>著者</h2><p>オリジナルの Samba ソフトウェアと関連ユーティリティは、	Andrew Tridgellによって作成された。 現在 Samba は、Samba Team によって	Linux カーネルの 開発と同様に、オープンソースプロジェクトとして	開発されている。</p><p>オリジナルのSambaマニュアルは、Karl Auer によって執筆された。	マニュアルのソースは Jeremy Allison によって YODL 形式に変換され、	Samba 2.0 リリース用に更新された。	(YODL はオープンソース・ソフトウエアの優れた作品である 	<a class="ulink" href="ftp://ftp.icce.rug.nl/pub/unix/" target="_top">	ftp://ftp.icce.rug.nl/pub/unix/</a> より入手可能。)	Samba 2.2 における DocBook形式への変換は Gerald Carter	によって行なわれた。Samba 3.0 における DocBook XML 4.2 形式への変換は	Alexander Bokovoy によって行われた。</p></div><div class="refsect1" title="日本語訳"><a name="id2491245"></a><h2>日本語訳</h2><p>このマニュアルページは Samba 3.3.6 - 3.4.4 対応のものである。</p><p>このドキュメントの Samba 3.2.4 - 3.4.4 対応の翻訳は	</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>太田俊哉 (ribbon@samba.gr.jp)</p></li><li class="listitem"><p>はせがわ ようすけ</p></li><li class="listitem"><p>山田 史朗 (shiro@miraclelinux.com)</p></li></ul></div><p>	        によって行なわれた。</p></div></div></body></html>