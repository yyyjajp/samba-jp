<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>vfs_shadow_copy</title><link rel="stylesheet" href="../samba.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.75.2"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="refentry" title="vfs_shadow_copy"><a name="vfs_shadow_copy.8"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>vfs_shadow_copy — Samba の共有を指定した時間帯に read only とする(訳注: これはコピペミスであり、実際は「シャドウコピー機能を実現する。」などとすべきである。)</p></div><div class="refsynopsisdiv" title="Synopsis"><h2>Synopsis</h2><div class="cmdsynopsis"><p><code class="literal">vfs objects = shadow_copy</code></p></div></div><div class="refsect1" title="説明"><a name="id2528767"></a><h2>説明</h2><p>この VFS モジュールは	<a class="citerefentry" href="samba.7.html"><span class="citerefentry"><span class="refentrytitle">samba</span>(7)</span></a>システムの一部である。</p><p><code class="literal">vfs_shadow_copy</code> VFS モジュールは	Microsoft のシャドウコピーサービスと似た機能を提供する。	適切に設定された場合、このモジュールにより Microsoft 	シャドウコピークライアントから Samba の共有上にある "シャドウコピー"		を参照することが可能となる。	</p><p>このモジュールはスタック可能である。</p></div><div class="refsect1" title="設定"><a name="id2489174"></a><h2>設定</h2><p><code class="literal">vfs_shadow_copy</code> はファイルシステムのスナップショットの実装が必要である。	一般的なファイルシステムの多くが標準でこれをサポートしている。		</p><p>ファイルシステムのシャドウコピーを	<code class="literal"> vfs_shadow_copy</code> が認識するためには、	特定の名称のディレクトリにマウントされる必要がある。	スナップショットのマウントポイントは共有ディレクトリの直下である必要がある。	</p><p>スナップショットの名前形式は @GMT-YYYY.MM.DD-hh.mm.ss である必要がある。       	</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p><code class="literal">YYYY</code> には4桁で年を指定する</p></li><li class="listitem"><p><code class="literal">MM</code> は2桁で月を指定する</p></li><li class="listitem"><p><code class="literal">DD</code> は2桁で日を指定するis the 2 digit day</p></li><li class="listitem"><p><code class="literal">hh</code> は2桁で時間を指定する</p></li><li class="listitem"><p><code class="literal">mm</code> は2桁で分を指定する</p></li><li class="listitem"><p><code class="literal">ss</code> は2桁で秒を指定する</p></li></ul></div><p>	</p><p> <code class="literal">vfs_shadow_copy</code> のスナップショットの名前形式は、	<a class="citerefentry" href="date.1.html"><span class="citerefentry"><span class="refentrytitle">date</span>(1)</span></a> コマンドを用いて生成できる:	</p><pre class="programlisting">	TZ=GMT date +@GMT-%Y.%m.%d-%H.%M.%S	</pre></div><div class="refsect1" title="設定例"><a name="id2489430"></a><h2>設定例</h2><p>ユーザーのホームディレクトリでシャドウコピーをサポートするには以下の設定を行なう:</p><pre class="programlisting">        <em class="parameter"><code>[homes]</code></em>	<a class="link" href="smb.conf.5.html#VFSOBJECTS" target="_top">vfs objects = shadow_copy</a></pre></div><div class="refsect1" title="警告"><a name="id2489566"></a><h2>警告</h2><p>これはバックアップ、アーカイブ、バージョン管理のための機能ではないことに注意。	</p><p> Samba と Windows 双方とも	<code class="literal">vfs_shadow_copy</code> はエンドユーザのための機能として設計されている。	これはバックアップやアーカイ機能を代替、もしくは拡張するものではなく、	そのような認識をしてはならない。	バージョン管理機能が必要な場合は、バージョン管理機能を実装する必要がある。	</p></div><div class="refsect1" title="バージョン"><a name="id2489598"></a><h2>バージョン</h2><p>このマニュアルページは Samba 3.0.25 用(訳注:3.x?)のものである。	</p></div><div class="refsect1" title="著者"><a name="id2489610"></a><h2>著者</h2><p>オリジナルの Samba ソフトウェアと関連するユーティリティは、Andrew	Tridgell によって作成された。現在 Samba は Samba Team に	よって、Linuxカーネルの開発と同様のオープンソースプロジェクト	として開発が行なわれている。</p></div><div class="refsect1" title="日本語訳"><a name="id2489625"></a><h2>日本語訳</h2><p>このマニュアルページは Samba 3.2.4 - 3.4.6 対応のものである。</p><p>このドキュメントの Samba 3.2.4 - 3.4.6 対応の翻訳は	</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>たかはしもとのぶ (monyo@samba.gr.jp)</p></li></ul></div><p>	        によって行なわれた。</p></div></div></body></html>