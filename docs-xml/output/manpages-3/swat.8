.\"     Title: swat
.\"    Author: 
.\" Generator: DocBook XSL Stylesheets v1.73.2 <http://docbook.sf.net/>
.\"      Date: 02/22/2009
.\"    Manual: システム管理ツール
.\"    Source: Samba 3.2
.\"
.TH "SWAT" "8" "02/22/2009" "Samba 3\.2" "システム管理ツール"
.\" disable hyphenation
.nh
.\" disable justification (adjust text to left margin only)
.ad l
.SH "NAME"
swat - Samba Web 管理ツール
.SH "SYNOPSIS"
.HP 1
swat [\-s\ <Samba\ 設定ファイル>] [\-a] [\-P]
.SH "説明"
.PP
このツールは
\fBSamba\fR(7)システムの一部である。
.PP
swat
は、Samba 管理者が Web ブラウザを使って複雑な
\fBsmb.conf \fR(5)
の設定を行うことを可能にする。それに加え、swat
の設定ページには、\fIsmb\.conf\fR
中で設定可能な全てのオプションへのリンクがあり、 管理者が設定変更の影響を簡単に調べられるようになっている。
.PP
swat
は
inetd
から実行される。
.SH "オプション"
.PP
\-s smb configuration file
.RS 4
デフォルトの設定ファイルのパスは、 コンパイル時に設定される。設定されたファイルには、
\fBsmbd\fR(8)
サーバに必要な詳細な設定が記述される。このファイルが
swat
によって修正されるファイルである。 ファイルには、そのサーバが提供する全てのサービスの記述に加え、 printcap ファイルの位置のようなサーバ固有の情報も含まれる。 詳細情報については、\fIsmb\.conf\fR
を参照のこと。
.RE
.PP
\-a
.RS 4
このオプションは、認証機能を無効にし、swat
をデモモードにする。 このモードでは、誰でも
\fIsmb\.conf\fR
ファイルを修正する事ができてしまう。
.sp
\fI警告: 運用中のサーバでは、 このオプションを絶対に有効にしないこと。 \fR
.RE
.PP
\-P
.RS 4
このオプションは、リードオンリユーザを、パスワード管理ページに制限する。
swatは次に、"View"と"Status"メニューボタンを見せることなしに ユーザのパスワードを変更することが出来る。
.RE
.PP
\-d|\-\-debuglevel=level
.RS 4
\fIlevel\fR
is an integer from 0 to 10\. The default value if this parameter is not specified is 0\.
.sp
The higher this value, the more detail will be logged to the log files about the activities of the server\. At level 0, only critical errors and serious warnings will be logged\. Level 1 is a reasonable level for day\-to\-day running \- it generates a small amount of information about operations carried out\.
.sp
Levels above 1 will generate considerable amounts of log data, and should only be used when investigating a problem\. Levels above 3 are designed for use only by developers and generate HUGE amounts of log data, most of which is extremely cryptic\.
.sp
Note that specifying this parameter here will override the
\fIlog level\fR
parameter in the
\fIsmb\.conf\fR
file\.
.RE
.PP
\-V
.RS 4
Prints the program version number\.
.RE
.PP
\-s <configuration file>
.RS 4
The file specified contains the configuration details required by the server\. The information in this file includes server\-specific information such as what printcap file to use, as well as descriptions of all the services that the server is to provide\. See
\fIsmb\.conf\fR
for more information\. The default configuration file name is determined at compile time\.
.RE
.PP
\-l|\-\-log\-basename=logdirectory
.RS 4
Base directory name for log/debug files\. The extension
\fB"\.progname"\fR
will be appended (e\.g\. log\.smbclient, log\.smbd, etc\.\.\.)\. The log file is never removed by the client\.
.RE
.PP
\-h|\-\-help
.RS 4
Print a summary of command line options\.
.RE
.SH "インストール"
.PP
Swat は、ほとんどのディストリビューションのバイナリパッケージに 含まれている。 その場合パッケージマネージャがインストールと設定を行う。 このセクションは一から swat をコンパイルした人のみを対象としている。
.PP
SWAT をコンパイルした後、make install
を実行して
swat
バイナリといろいろなヘルプとイメージ ファイルをインストールする必要がある。 デフォルトのインストールでは以下のものが入れられる:
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
/usr/local/samba/bin/swat
.RE
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
/usr/local/samba/swat/images/*
.RE
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
/usr/local/samba/swat/help/*
.sp
.RE
.SS "Inetd Installation"
.PP
inetd
から SWAT を起動するには、
\fI/etc/inetd\.conf\fR
と
\fI/etc/services\fR
を修正する必要がある。
.PP
\fI/etc/services\fR
には、 以下の一行を加える:
.PP
swat 901/tcp
.PP
NIS/YP および LDAP ユーザへの注意: ローカルな
\fI/etc/services\fR
ファイルの代わりに、NIS サービスマップを再構築する必要があるかも知れない。
.PP
ポート番号は、1024 より小さい番号のポートで現在使用中でないもので あればなんでも良い (1024 より大きいポートを用いる事は、
inetd
デーモンの実装内容によっては、 セキュリティホールを提供してしまう)。
.PP
\fI/etc/inetd\.conf\fR
については、 以下のような行を追加すること:
.PP
swat stream tcp nowait\.400 root /usr/local/samba/bin/swat swat
.PP
\fI/etc/services\fR
と
\fI/etc/inetd\.conf\fR
を編集したら、inetd に HUP シグナルを送ること。それには
kill \-1 PID
のように入力する。 ここでPIDは inetd デーモンのプロセスIDを示す。
.SH "起動"
.PP
SWAT を起動するには、 お好みのWebブラウザを起動して、 "http://localhost:901/" を開く。
.PP
IP 的に接続可能なマシンから SWAT を起動することも可能であるが、 パスワードは伝送路上を平文で送られているため、別マシンからの接続を 行なうとパスワードを盗聴される可能性があることに注意。
.SH "関連ファイル"
.PP
\fI/etc/inetd\.conf\fR
.RS 4
このファイルには、メタデーモンのための適切な 起動情報が含まれている。
.RE
.PP
\fI/etc/services\fR
.RS 4
このファイルには、サービス名 (例: SWAT) とサービスポート (例: 901)、そのプロトコルの種類 (例: tcp) のマッピングに関する情報が含まれている。
.RE
.PP
\fI/usr/local/samba/lib/smb\.conf\fR
.RS 4
これは swat が編集する
\fBsmb.conf\fR(5)
サーバ設定ファイルのデフォルトの位置である。 他によくあるインストール先としては
\fI/usr/samba/lib/smb\.conf\fR
や
\fI/etc/smb\.conf\fR
がある。 このファイルにはサーバがクライアントに提供する全てのサービスに ついての記述がある。
.RE
.SH "警告"
.PP
swat
は
\fB smb.conf\fR(5)
ファイルを書き換えてしまう。エントリは再配置され、コメントや
\fIinclude=\fR、\fIcopy=\fR
オプションは削除されてしまう。 既に念入りに手をかけて作成した
\fIsmb\.conf\fR
を持っている場合は、事前にバックアップしておくか、swat を使わないこと!
.SH "バージョン"
.PP
このマニュアルページは Samba バージョン 3用である。
.SH "関連項目"
.PP
inetd(5),
\fBsmbd\fR(8),
\fBsmb.conf\fR(5)
.SH "作者"
.PP
オリジナルの Samba ソフトウェアと関連するユーティリティは、 Andrew Tridgell によって作成された。現在 Samba は Samba Team によって、 Linux カーネルの開発と同様の オープンソースプロジェクトとして開発が 行なわれている。
.PP
オリジナルの Samba マニュアルページは Karl Auer によって作成された。マニュアルページは YODL 形式 (ftp://ftp\.icce\.rug\.nl/pub/unix/
で入手可能な優れたオープンソースソフトウェア) に変換され、 Samba 2\.0 リリースに伴い、Jeremy Allison によって更新された。 Samba 2\.2 における DocBook 形式への変換は、Gerald Carter によって行なわれた。 Samba 3\.0 における DocBook XML 4\.2 への変換は Alexander Bokovoy によって行われた。
.SH "日本語訳"
.PP
このマニュアルページは Samba 3\.2\.4\-3\.2\.8 対応のものである。
.PP
このドキュメントの Samba 3\.0\.0 対応の翻訳は
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
たかはし もとのぶ(monyo@samba\.gr\.jp)
.RE
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
山田 史朗 (shiro@miraclelinux\.com)
.sp
.RE
によって行なわれた。
.PP
このドキュメントの Samba 3\.2\.4\-3\.2\.8 対応の翻訳は 太田俊哉(ribbon@samba\.gr\.jp)によって行われた。
