.\"     Title: smbcquotas
.\"    Author: 
.\" Generator: DocBook XSL Stylesheets v1.73.2 <http://docbook.sf.net/>
.\"      Date: 01/04/2009
.\"    Manual: ユーザコマンド
.\"    Source: Samba 3.2
.\"
.TH "SMBCQUOTAS" "1" "01/04/2009" "Samba 3\.2" "ユーザコマンド"
.\" disable hyphenation
.nh
.\" disable justification (adjust text to left margin only)
.ad l
.SH "NAME"
smbcquotas - NTFS 5 共有の Quota 情報を取得・設定する
.SH "SYNOPSIS"
.HP 1
smbcquotas {//server/share} [\-u\ user] [\-L] [\-F] [\-S\ QUOTA_SET_COMMAND] [\-n] [\-t] [\-v] [\-d\ debuglevel] [\-s\ configfile] [\-l\ logdir] [\-V] [\-U\ username] [\-N] [\-k] [\-A]
.SH "説明"
.PP
このプログラムは
\fBSamba\fR(7)
システムの一部である\.
.PP
smbcquotas
プログラムは SMB ファイル共有に対して NT Quota の操作を行う。
.SH "オプション"
.PP
smbcquotas
プログラムは下記のオプションを提供する :
.PP
\-u user
.RS 4
Quota の情報の取得や設定を行うユーザを指定する。 デフォルトでは、カレントユーザが使用される。
.RE
.PP
\-L
.RS 4
共有の Quota のレコードを全て表示する。
.RE
.PP
\-F
.RS 4
共有の Quota のステータスとデフォルトの制限を表示する。
.RE
.PP
\-S QUOTA_SET_COMMAND
.RS 4
このコマンドはユーザか共有の Quota の設定や変更を行う。 ユーザか共有かどちらに対して操作が行われるかは、後述される QUOTA_SET_COMMAND により決まる。
.RE
.PP
\-n
.RS 4
このオプションは全ての Quota 情報を数値化した値で 表示する。デフォルトでは SID を名前に、Quota の上限を文字列に変換する。
.RE
.PP
\-t
.RS 4
実際に処理は行わず、指定した引数の正当性を検証する。
.RE
.PP
\-v
.RS 4
冗長モードにする。
.RE
.PP
\-h|\-\-help
.RS 4
Print a summary of command line options\.
.RE
.PP
\-d|\-\-debuglevel=level
.RS 4
\fIlevel\fR
is an integer from 0 to 10\. The default value if this parameter is not specified is 0\.
.sp
The higher this value, the more detail will be logged to the log files about the activities of the server\. At level 0, only critical errors and serious warnings will be logged\. Level 1 is a reasonable level for day\-to\-day running \- it generates a small amount of information about operations carried out\.
.sp
Levels above 1 will generate considerable amounts of log data, and should only be used when investigating a problem\. Levels above 3 are designed for use only by developers and generate HUGE amounts of log data, most of which is extremely cryptic\.
.sp
Note that specifying this parameter here will override the
\fIlog level\fR
parameter in the
\fIsmb\.conf\fR
file\.
.RE
.PP
\-V
.RS 4
Prints the program version number\.
.RE
.PP
\-s <configuration file>
.RS 4
The file specified contains the configuration details required by the server\. The information in this file includes server\-specific information such as what printcap file to use, as well as descriptions of all the services that the server is to provide\. See
\fIsmb\.conf\fR
for more information\. The default configuration file name is determined at compile time\.
.RE
.PP
\-l|\-\-log\-basename=logdirectory
.RS 4
Base directory name for log/debug files\. The extension
\fB"\.progname"\fR
will be appended (e\.g\. log\.smbclient, log\.smbd, etc\.\.\.)\. The log file is never removed by the client\.
.RE
.PP
\-N
.RS 4
If specified, this parameter suppresses the normal password prompt from the client to the user\. This is useful when accessing a service that does not require a password\.
.sp
Unless a password is specified on the command line or this parameter is specified, the client will request a password\.
.sp
If a password is specified on the command line and this option is also defined the password on the command line will be silently ingnored and no password will be used\.
.RE
.PP
\-k
.RS 4
Try to authenticate with kerberos\. Only useful in an Active Directory environment\.
.RE
.PP
\-A|\-\-authentication\-file=filename
.RS 4
This option allows you to specify a file from which to read the username and password used in the connection\. The format of the file is
.sp
.sp
.RS 4
.nf
username = <value>
password = <value>
domain   = <value>
.fi
.RE
.sp
Make certain that the permissions on the file restrict access from unwanted users\.
.RE
.PP
\-U|\-\-user=username[%password]
.RS 4
Sets the SMB username or username and password\.
.sp
If %password is not specified, the user will be prompted\. The client will first check the
\fBUSER\fR
environment variable, then the
\fBLOGNAME\fR
variable and if either exists, the string is uppercased\. If these environmental variables are not found, the username
\fBGUEST\fR
is used\.
.sp
A third option is to use a credentials file which contains the plaintext of the username and password\. This option is mainly provided for scripts where the admin does not wish to pass the credentials on the command line or via environment variables\. If this method is used, make certain that the permissions on the file restrict access from unwanted users\. See the
\fI\-A\fR
for more details\.
.sp
Be cautious about including passwords in scripts\. Also, on many systems the command line of a running process may be seen via the
ps
command\. To be safe always allow
rpcclient
to prompt for a password and type it in directly\.
.RE
.SH "QUOTA_SET_COMAND"
.PP
QUOTA_SET_COMMANDの形式は、その操作に固有の一連のパラメータが伴う 操作名である。
.PP
\-u で指定されたユーザかカレントユーザ特有の Quota 制限を設定する :
.PP
\fB UQLIM:<username>:<softlimit>/<hardlimit> \fR
.PP
共有のデフォルトの Quota 制限を設定する :
.PP
\fB FSQLIM:<softlimit>/<hardlimit> \fR
.PP
共有の Quota 設定を変更する :
.PP
\fB FSQFLAGS:QUOTA_ENABLED/DENY_DISK/LOG_SOFTLIMIT/LOG_HARD_LIMIT \fR
.PP
すべての制限はバイト数によって指定される。
.SH "終了ステータス"
.PP
smbcquotas
コマンドは操作の成功か、それ以外かにより exit status をセットする。exit status は以下のうちのいずれかである :
.PP
操作が成功した場合、smbcquotas は exit status として 0 を返す。 もし
smbcquotas
が指定されたサーバに接続できなかった場合や、 Quota の情報を取得やセットしようとしてエラーが出た場合、exit status の 1 が返される。もしコマンドラインの引数の構文解析に対してエラーがあった場合、 exit status の 2 が返される。
.SH "バージョン"
.PP
この man page は version 3 の Samba システム用である。
.SH "作者"
.PP
オリジナルの Samba ソフトウェアと関連ユーティリティは、Andrew Tridgell によって作成された。現在 Samba は、Samba Team によって Linux カーネルの開発と同様に、オープンソースプロジェクトとして開発されている。
.PP
smbcquotas
は Stefan Metzmacher によって書かれた。
.SH "日本語訳"
.PP
このマニュアルページは Samba 3\.2\.4\-3\.2\.6 対応のものである。
.PP
このドキュメントの Samba 3\.2\.4\-3\.2\.6 対応の翻訳は
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
山田 史朗 (shiro@miraclelinux\.com)
.RE
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
太田俊哉 (ribbon@samba\.gr\.jp)
.sp
.RE
によって行なわれた。
