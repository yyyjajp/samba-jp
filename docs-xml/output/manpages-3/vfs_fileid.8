'\" t
.\"     Title: vfs_fileid
.\"    Author: [FIXME: author] [see http://docbook.sf.net/el/author]
.\" Generator: DocBook XSL Stylesheets v1.75.2 <http://docbook.sf.net/>
.\"      Date: 02/25/2010
.\"    Manual: システム管理ツール
.\"    Source: Samba 3.4
.\"  Language: English
.\"
.TH "VFS_FILEID" "8" "02/25/2010" "Samba 3\&.4" "システム管理ツール"
.\" -----------------------------------------------------------------
.\" * set default formatting
.\" -----------------------------------------------------------------
.\" disable hyphenation
.nh
.\" disable justification (adjust text to left margin only)
.ad l
.\" -----------------------------------------------------------------
.\" * MAIN CONTENT STARTS HERE *
.\" -----------------------------------------------------------------
.SH "NAME"
vfs_fileid \- クラスタ構成時にえるように、 ユニークなデバイス ID 値で file_if 構造体を生成する。
.SH "SYNOPSIS"
.HP \w'\ 'u
vfs objects = fileid
.SH "説明"
.PP
この VFS モジュールは
\fBsamba\fR(7)
システムの一部である。
.PP
ファイルロックの際、Samba は file_id 構造体を使ってファイルを一意に 特定する。デフォルトでは、file_id には
stat()
システムコールで返されたデバイスおよび inode 番号が格納されている。 file_id はファイルの一意な識別子であるため、これはある特定のクラスタ 構成のの中では、すべてのノードで同じ値である必要がある。 このモジュールは
SMB_VFS_FILE_ID_CREATE()
の動作を オーバーライドし、設定されたアルゴリズム（ "fileid:algorithm" オプションを参照のこと）に従ってデバイス番号を生成する。
.SH "オプション"
.PP
fileid:algorithm = ALGORITHM
.RS 4
指定できるアルゴリズムはfsnameと
fsidである。デフォルト値は
fsnameである。
.sp
fsname
アルゴリズムでは、 デバイス ID を カーネルのデバイス名から生成する。
.sp
fsid
アルゴリズムでは、デバイス ID を
statfs()システムコールで返された
f_fsidから生成する。
.RE
.PP
fileid:mapping = ALGORITHM
.RS 4
このオプションはfileid:algorithmオプションの レガシーな（古い）バージョンである。これは Samba 3\&.0 のカスタム バージョンにおいて、フィールドマッピング機能に関する以前のバージョンで 使われていた。
.RE
.SH "設定例"
.PP

fsid
アルゴリズムを使って
fileid
モジュールを使う場合の例
.sp
.if n \{\
.RS 4
.\}
.nf
        \fI[global]\fR
	\m[blue]\fBvfs objects = fileid\fR\m[]
	\m[blue]\fBfileid:algorithm = fsid\fR\m[]
.fi
.if n \{\
.RE
.\}
.SH "バージョン"
.PP
このマニュアルページは Samba システムのバージョン 3\&.2(訳注:3\&.x?) 用である。
.SH "著者"
.PP
オリジナルの Samba ソフトウェアと関連するユーティリティは、Andrew Tridgell によって作成された。現在 Samba は Samba Team に よって、Linuxカーネルの開発と同様のオープンソースプロジェクト として開発が行なわれている。
.SH "日本語訳"
.PP
このマニュアルページは Samba 3\&.2\&.8 \- 3\&.4\&.6 対応のものである。
.PP
このドキュメントの Samba 3\&.2\&.8 \- 3\&.4\&.6 対応の翻訳は
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
堀田 倫英(hotta@net\-newbie\&.com)
.sp
.RE
によって行なわれた。
