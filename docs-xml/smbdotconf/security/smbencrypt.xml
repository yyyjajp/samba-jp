<samba:parameter name="smb encrypt"
                 context="S"
				 type="enum"
                 basic="1"
		 xmlns:samba="http://www.samba.org/samba/DTD/samba-doc">
<description>
  <para>
    このパラメータは、リモートクライアントを許可するか、SMB暗号化を要求するかを
    制御する。これはSMB1またはSMB2以降の接続を使うかによって動作が異なる:
      </para>

        <itemizedlist>
        <listitem>
                <para>
		もしも接続がSMB1ならば、このオプションは、Unix拡張を使用する、
		Samba 3.2で導入された、Samba固有のSMBプロトコルの使用を制御する。
               </para>
        </listitem>

        <listitem>
               <para>
	       もしも、接続がSMB2以降であれば、このオプションは、SMBバージョン3
	       以降でサポートされる、Windows8以降で有効となっている、SMBレベルの
	       暗号化の使用を制御する。
                </para>
        </listitem>
       </itemizedlist>

       <para>
	 このパラメータはグローバルおよび共有単位で設定できる。設定可能な
	 値は以下の通り。
	 <emphasis>off</emphasis> (または <emphasis>disabled</emphasis>),
	 <emphasis>enabled</emphasis> (または <emphasis>auto</emphasis>, または
	 <emphasis>if_required</emphasis>),
	 <emphasis>desired</emphasis>,
	 と
	 <emphasis>required</emphasis>
	 (または <emphasis>mandatory</emphasis>).
	 特別な値 <emphasis>default</emphasis> は、既定値として
	 <emphasis>enabled</emphasis>に設定されている。
       </para>

       <variablelist>
	 <varlistentry>
	 <term><emphasis>SMB1における影響</emphasis></term>
	 <listitem>
	 <para>
	 SMB1におけるSamba固有の暗号化接続は、UNIX拡張の一部として
	 ネゴシエーションされる、SMBプロトコルの拡張である。SMB暗号化は
	 SMBプロトコルストリーム中で、リクエスト/応答を毎回暗号化および
	 署名する機能を持つGSSAPI(Windows上のSSPI)を使う。有効にすると、
	 sshで保護されたセッションのように、SMB/CIFS通信をセキュアにする
	 機能を提供するが、暗号化のネゴシエーションおよびキーの署名には
	 SMB/CIFSの認証を使う。現在これはSamba 3.2以降の smbclient のみ
	 でサポートされていて、そのうちLinuxのCIFSFSとMacOS/Xでサポート
	 されるかもしれない。Windowsクライアントはこの機能をサポートしない。
	 </para>

         <para>
	 これは共有単位で設定出来るが、クライアントは、指定された共有に対して
	 トラフィックではなく、全セッションを暗号化することを選べる。
	 もしも、これを mandatory に設定すると、共有へのすべてのトラフィックは
	 共有に対する接続がなされた後は、<emphasis>必ず</emphasis>
	 暗号化されなければならない。サーバは、そのような共有に対する、
	 暗号化されていないすべての要求には "access denied" を返す。
	 暗号化されたトラフィックを選ぶと、すべてのデータに対する暗号化および署名
	 を暗号化する時のオーバヘッドと同様、より小さなパケットサイズが使われるため
	 (巨大なUNIX系の読み/書き操作が許可されないため)、トラフィックが減少する。
	 </para>
	 <para>
	   This may be set on a per-share
	 basis, but clients may chose to encrypt the entire session, not
	 just traffic to a specific share. If this is set to mandatory
	 then all traffic to a share <emphasis>must</emphasis>
	 be encrypted once the connection has been made to the share.
	 The server would return "access denied" to all non-encrypted
	 requests on such a share. Selecting encrypted traffic reduces
	 throughput as smaller packet sizes must be used (no huge UNIX
	 style read/writes allowed) as well as the overhead of encrypting
	 and signing all the data.
	 </para>

	 <para>
	   もしも、SMB暗号化が選択された場合、
	   GSSAPIフラグが、データの署名とsealing両方を選択するのに使うように、
	   Windows形式のSMB署名
	   (<smbconfoption name="server signing"/>オプションを参照)は、
	   もはや必要ない。
	 </para>
	 <para>
	   If SMB encryption is selected, Windows style SMB signing (see
	   the <smbconfoption name="server signing"/> option) is no longer
	   necessary, as the GSSAPI flags use select both signing and
	   sealing of the data.
	 </para>

         <para>
	   auto または 既定値を設定すると、SMB暗号化機能は提供されるが、
	   強制はされない。mandatoryに設定すると、SMB暗号化が要求され、
	   disable を設定すると、SMB暗号化はネゴシエーション出来ない。
	 </para>
	 </listitem>
	 </varlistentry>
	 
	 
	 
</description>

<value type="default">auto</value>
</samba:parameter>
