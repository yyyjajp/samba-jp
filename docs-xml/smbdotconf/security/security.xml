<samba:parameter name="security"
                 context="G"
				 type="enum"
                 basic="1" advanced="1" wizard="1" developer="1"
		 xmlns:samba="http://www.samba.org/samba/DTD/samba-doc">
		 <when_value value="security">
		 <requires option="encrypted passwords">/(yes|true)/</requires>
		 </when_value>
<description>
  <para>
    このパラメーターは、クライアントが Samba に応答する方式に影響し、
    <filename moreinfo="none">smb.conf</filename> 中でもっとも重要な設定の一つである。
  </para>
  <para>
    デフォルトは <command moreinfo="none">security = user</command> であり、
    これは、スタンドアロンのファイルサーバーやドメインコントローラーで
    使用される、もっとも一般的な設定である。
  </para>

  <para>
    これ以外の値には Samba の Windows ドメイン参加をサポートする
    <command moreinfo="none">security = ads</command> と
    <command moreinfo="none">security = domain</command> がある。
  </para>

  <para>
    パスワードなしの共有 (ゲスト共有) の作成が主目的である場合は、
    <command moreinfo="none">security = user</command> と、
    <smbconfoption name="map to guest"/> を使用すること。
    この設定は、共有プリンターサーバーで使用することが多い。
  </para>

  <para>
    以下、それ以外の設定について説明する。
  </para>

  <para><anchor id="SECURITYEQUALSAUTO"/><emphasis>SECURITY = AUTO</emphasis></para>

  <para>
    これはデフォルトの値であり、 Samba はセキュリティモードを決定する際に、
    (設定されていれば) <smbconfoption name="server role"/> パラメーターを
    参照する。
  </para>

  <para><anchor id="SECURITYEQUALSUSER"/><emphasis>SECURITY = USER</emphasis></para>

  <para>
    <smbconfoption name="server role"/> が指定されていない場合、これが
    デフォルトの値である。ユーザーレベルのセキュリティでは、クライアントは
    最初に有効なユーザー名 (<smbconfoption name="username map"/> により、
    別のユーザー名からマッピング可能) とパスワードによって「ログオン」する
    ことが求められる。このセキュリティモードでは、暗号化パスワード 
    (<smbconfoption name="encrypted passwords"/> パラメーターを参照) も
    使用できる。 <smbconfoption name="user"/> や
    <smbconfoption name="guest only"/> といったパラメーターを設定する
    ことで、コネクションで使用する UNIX ユーザーを変更することもできるが、
    この処理はユーザーが適切に認証された後に行われる。
  </para>

  <para>
    <emphasis>注意</emphasis>:
    要求するリソース名は、サーバーによるクライアントの認証が成功するまで
    サーバーに<emphasis>送信されない</emphasis> 。ユーザーレベルの
    セキュリティにおけるゲスト共有は、サーバーが不明なユーザーを
    <smbconfoption name="guest account"/> に自動的にマッピングするように
    しないと動作しないのは、このためである。動作の
    詳細については、 <smbconfoption name="map to guest"/> を参照のこと。
  </para>

    <para><anchor id="SECURITYEQUALSDOMAIN"/><emphasis>SECURITY = DOMAIN</emphasis></para>

  <para>
    このモードは、 <citerefentry><refentrytitle>net</refentrytitle>
    <manvolnum>8</manvolnum></citerefentry> によって、サーバーが Windows 
    NT ドメインに参加しない限り適切に動作しない。併せて、
    <smbconfoption name="encrypted passwords"/> パラメーターが
    <constant>yes</constant> に設定されている必要がある。
    このモードの Samba は、 Windows NT サーバーと全く同じ方式で、
    Windows NT のプライマリドメインコントローラー、あるいはバックアップ
    ドメインコントローラーにユーザー名とパスワードを送信することで、
    認証を試行する。
  </para>

  <para>
    <emphasis>注意</emphasis>: 
    Samba はファイルにアクセスする際に有効な UNIX ユーザーを必要と
    するため、ドメインコントローラー上のアカウントだけではなく、
    有効な UNIX ユーザーも依然として必要である。
  </para>

  <para>
    <emphasis>注意</emphasis>: 
    クライアントから見ると、
    <command moreinfo="none">security = domain</command> も
    <command moreinfo="none">security = user</command> も同じである。
    この違いが影響するのは、認証処理をサーバーがどのように行うかだけで
    あり、クライアントとのやりとりには何ら影響しない。
  </para>

  <para>
    <emphasis>注意</emphasis>:
    要求するリソース名は、サーバーによるクライアントの認証が成功するまで
    サーバーに<emphasis>送信されない</emphasis> 。ユーザーレベルの
    セキュリティにおけるゲスト共有は、サーバーが不明なユーザーを
    <smbconfoption name="guest account"/> に自動的にマッピングするように
    しないと動作しないのは、このためである。動作の
    詳細については、 <smbconfoption name="map to guest"/> を参照のこと。
  </para>

  <para>
    <smbconfoption name="password server"/> パラメーターと
    <smbconfoption name="encrypted passwords"/> パラメーターも参照のこと。
  </para>

    <para><anchor id="SECURITYEQUALSADS"/><emphasis>SECURITY = ADS</emphasis></para>

  <para>
    このモードの Samba は、 AD のドメインメンバーとして動作する。
    このモードで動作させるためには、 Samba が動作しているサーバーで
    Kerberos がインストールされて構成されている必要があり、 Samba は
    net コマンドを使用して AD に参加する必要がある。
  </para>

  <para>
    このモードは、 Samba を Active Ditectory のドメインコントローラー
    として動作させるものではないことに注意。
  </para>
	
  <para>詳細については、 HOWTO の Domain Membership を参照のこと。</para>
</description>
<related>realm</related>
<related>encrypt passwords</related>
<value type="default">USER</value>
<value type="example">DOMAIN</value>
</samba:parameter>
