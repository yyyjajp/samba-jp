<samba:parameter name="ctdb locktime warn threshold"
                 context="G"
		 type="integer"
                 advanced="1"
                 xmlns:samba="http://www.samba.org/samba/DTD/samba-doc">
<description>

	<para>
	 Sambaとctdbを使う クラスタ環境において、locking.tdbのような
	 中心にある、ctdbでホスティングされたデータベース上でのロックは
	 長時間保持されないことは非常に重大である。現在のSambaアーキテクチャ
	 において、Sambaがロックを行い、ロックをし続けている間、
	 ロックは共有クラスタファイルシステム中にファイルシステムコールを
	 行うことが起きる。このオプションはSambaに、もしも、指定された
	 ミリセカンド秒の間でそれがロックを保持したことを検出させることを警告する。
	 もしもこれが起きた場合、<emphasis>smbd</emphasis>はデバッグレベル0
	 メッセージを、自身のログと場合によってはsyslogに記録する。
	 このようなログメッセージが出る最もよくある例は、Sambaがエクスポートした
	 クラスタファイルシステムが期待したよりも長く処理がかかっている場合である。
	 このメッセージはクラスタにおける潜在的な問題のデバッグ手法として
	 意味がある。
	In a cluster environment using Samba and ctdb it is critical
	that locks on central ctdb-hosted databases like locking.tdb
	are not held for long. With the current Samba architecture
	it happens that Samba takes a lock and while holding that
	lock makes file system calls into the shared cluster file
	system. This option makes Samba warn if it detects that it
	has held locks for the specified number of milliseconds. If
	this happens, <emphasis>smbd</emphasis> will emit a debug level 0
	message into its logs and potentially into syslog. The most likely
	reason for such a log message is that an operation of the cluster
	file system Samba exports is taking longer than expected.
	The messages are meant as a debugging aid for potential
	cluster problems.
	</para>

	<para>既定値は0で、このログ出力を抑止する。</para>

</description>
<value type="default">0</value>
</samba:parameter>
