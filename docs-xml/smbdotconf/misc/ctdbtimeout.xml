<samba:parameter name="ctdb timeout"
                 context="G"
				 type="integer"
                 advanced="1"
                 xmlns:samba="http://www.samba.org/samba/DTD/samba-doc">
<description>
  <para>
    このパラメーターは、 Samba と ctdb 間の接続のタイムアウト時間を
    秒単位で指定する。Samba のクラスター機能のサポートを有効にして
    コンパイルを行い、 <parameter>clustering=yes</parameter> を設定した
    場合にのみ有効である。
  </para>
  <para>
    クラスターのブロック状態に何らかの問題がある場合、
    ctdb をブロック状態に追加しようとする際に非常に長時間待機して
    しまうことがある。適切に動作しているクラスター環境ではこうした
    事態は発生しないはずだが、クラスターには数多くのコンポーネントが
    あり、何らかの問題が発生する可能性がある。
    高負荷なクラスター環境では転送に時間を要することもあるため、
    この値を適切に設定することは非常に難しい。短くしすぎると、
    クラスターの提供するサービスに影響が発生してしまうが、長く
    しすぎると、クラスタ自体に何らかの重大な障害が発生した際の復旧に
    長時間を要することとなる。
  </para>
  <para>
    このパラメーターを設定する場合は、 smb.conf ファイルで設定する必要が
    ある点に注意。レジストリに設定すると、（通常クラスター上に
    存在する）レジストリを格納する ctdb を参照することになって
    しまうため、実質的に意味がない。
  </para>
  <para>
    <parameter>ctdb timeout</parameter> を n に設定することは、
    クラスターに障害が発生しても、プロセスは n 秒以上の応答待ちに
    ならないということである。（デフォルトの） 0 に設定した場合、
    Samba は永久に待機することとなるが、デフォルトのままとする
    ことを強く推奨する。
  </para>
</description>
<value type="default">0</value>
</samba:parameter>
