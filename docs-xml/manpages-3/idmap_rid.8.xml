<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE refentry PUBLIC "-//Samba-Team//DTD DocBook V4.2-Based Variant V1.0//EN" "http://www.samba.org/samba/DTD/samba-doc">
<refentry id="idmap_rid.8">

<refmeta>
	<refentrytitle>idmap_rid</refentrytitle>
	<manvolnum>8</manvolnum>
	<refmiscinfo class="source">Samba</refmiscinfo>
	<refmiscinfo class="manual">システム管理ツール</refmiscinfo>
	<refmiscinfo class="version">3.3</refmiscinfo>
</refmeta>


<refnamediv>
	<refname>idmap_rid</refname>
	<refpurpose>SambaのWinbind用idmap_ridバックエンド</refpurpose>
</refnamediv>

<refsynopsisdiv>
	<title>説明</title>
	<para>idmap_rid バックエンドは、UID や GID と SID を対応付けるための
	方法のひとつとして、アルゴリズム的なマッピングの仕組みを提供する。
	このケースでは決定論的なマッピングを行うため、データベースを必要
	としない。</para>
</refsynopsisdiv>

<refsect1>
	<title>IDMAP オプション</title>

	<variablelist>
		<varlistentry>
		<term>range = low - high</term>
		<listitem><para>
			バックエンドが権威を持つと規定されている、uid と gid の利用可能な
			マッチング範囲を定義する。この範囲はフィルターとして動作することに
			注意されたい。UID と GID の計算結果がアルゴリズム的にこの範囲外
			になってしまった場合、これらは無視され、対応するマップは破棄される。
			このオプションは、UID や GID がたまたまローカルとリモートでそれぞれ
			定義された ID と重複してしまうのを避けるために用意されている。
		</para></listitem>
		</varlistentry>

		<varlistentry>
		<term>base_rid = 数字</term>
		<listitem><para>
			UID や GID から SID を生成したり、取得したSID から UID や GID を
			求めたりするためのベースとなる整数を指定する。ユーザの RID は
			デフォルトでは 1000 (16進では512) から始まる。このため、base_rid
			の好ましい値は 1000 となる。これにより結果としての ID は
			ID = RID - BASE_RID + LOW RANGE ID として算出できる。
		</para></listitem>
		</varlistentry>
	</variablelist>
</refsect1>

<refsect1>
	<title>使用例</title>
	<para>この例では idmap_rid で２つのドメインを設定している。</para>

	<programlisting>
	[global]
	    idmap domains = MAIN TRUSTED1

	    idmap config MAIN:backend      = rid
	    idmap config MAIN:base_rid     = 0
	    idmap config MAIN:range        = 10000 - 49999

	    idmap config TRUSTED1:backend  = rid
	    idmap config TRUSTED1:base_rid = 1000
	    idmap config TRUSTED1:range    = 50000 - 99999
	</programlisting>
</refsect1>

<refsect1>
	<title>作者</title>

	<para>
	オリジナルの Samba ソフトウェアとそれに関連するユーティリティーは、
	Andrew Tridgell によって作られた。Samba は現在、Linux カーネル開発と
	同様の方法で、Samba Team によりオープンソースプロジェクトとして
	開発されている。
	</para>
</refsect1>

<refsect1>
	<title>日本語訳</title>
	<para>このマニュアルページは Samba 3.2.4-3.3.2  対応のものである。</para>
		<para>このドキュメントの Samba 3.2.4-3.3.2 対応の翻訳は
	<itemizedlist>
	<listitem><para>堀田 倫英(hotta@net-newbie.com)</para></listitem>
	</itemizedlist>
		によって行なわれた。</para>
</refsect1>

</refentry>
