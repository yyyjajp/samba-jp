<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE refentry PUBLIC "-//Samba-Team//DTD DocBook V4.2-Based Variant V1.0//EN" "http://www.samba.org/samba/DTD/samba-doc">
<refentry id="pam_winbind.conf.5">

<refmeta>
	<refentrytitle>pam_winbind.conf</refentrytitle>
	<manvolnum>5</manvolnum>
	<refmiscinfo class="source">Samba</refmiscinfo>
	<refmiscinfo class="manual">5</refmiscinfo>
	<refmiscinfo class="version">3.6</refmiscinfo>
</refmeta>


<refnamediv>
	<refname>pam_winbind.conf</refname>
	<refpurpose>Winbindのための、PAMモジュール設定ファイル</refpurpose>
</refnamediv>

<refsect1>
	<title>説明</title>

	<para>この設定ファイルは、<citerefentry><refentrytitle>samba</refentrytitle>
        <manvolnum>7</manvolnum></citerefentry> システムの一部である。</para>

	<para>
	pam_winbind.conf は、pam_winbind PAMモジュールのための設定ファイルである。
	詳細については、
	<citerefentry><refentrytitle>pam_winbind</refentrytitle><manvolnum>8</manvolnum></citerefentry>
	を参照。
	</para>
</refsect1>

<refsect1>
	<title>概要</title>

	<para>
	  pam_winbind.conf設定ファイルは昔ながらのini形式の設定ファイルである。
	  ここには、種々のオプションが定義される、1つのセクション(global)のみがある。
	</para>
</refsect1>

<refsect1>
	<title>オプション</title>
	<para>

		pam_winbindは、PAM設定ファイル中で設定されるか、
		<filename>/etc/security/pam_winbind.conf</filename>に設定される、
		いくつかのオプションをサポートする。PAM設定ファイルで定義した
		オプションは、pam_winbind.conf設定ファイルのものよりも優先される。

		<variablelist>

		<varlistentry>
		<term>debug = yes|no</term>
		<listitem><para>syslogにデバッグ出力を行う。既定値は"no"である。</para></listitem>
		</varlistentry>

		<varlistentry>
		<term>debug_state = yes|no</term>
		<listitem><para>syslogに詳細なPAMステートデバッグ情報を出力する。既定値は"no"である。</para></listitem>
		</varlistentry>

		<varlistentry>
		<term>require_membership_of = [SID or NAME]</term>
		<listitem><para>
		    もしも、このオプションが設定された場合、pam_winbindは、もしもユーザが
		    与えられたSIDかNAMEのメンバである場合のみ成功する。SIDはグループSID、
		    aliasSIDかユーザSIDのどれかである。また、SIDの代わりにNAMEを与える
		    事も可能である。その名前は<parameter>MYDOMAIN\\mygroup</parameter>か
		    <parameter>MYDOMAIN\\myuser</parameter>という形式でなければならない。
		    pam_winbindはこの場合、内部的にSIDを検索する。NAMEは空白を含んでは
		    ならないことに注意。そのため、SIDのみを使うことを推奨する。
		    <command>wbinfo --user-sids=SID</command>を使うことでSIDの一覧から
		    ユーザがどのメンバかを確認することが出来る。この設定は、既定値では
		    空である。
		</para></listitem>
		</varlistentry>

		<varlistentry>
		<term>try_first_pass = yes|no</term>
		<listitem><para>
		    既定値では、pam_winbindは以前のモジュールから認証トークンを得ようと
		    する。もしもトークンがなければ、ユーザに対して古いパスワードを
		    問い合わせする。このオプションを使うと、pam_winbindは、もしも以前の
		    モジュールからの認証トークンがない場合にエラーとして異常終了する。
		    もしも最初のパスワードが無効であれば、PAMはパスワード要求を出す。
		    既定値は"no"である。
		</para></listitem>
		</varlistentry>

		<varlistentry>
		<term>krb5_auth = yes|no</term>
		<listitem><para>

		pam_winbind can authenticate using Kerberos when winbindd is
		talking to an Active Directory domain controller. Kerberos
		authentication must be enabled with this parameter. When
		Kerberos authentication can not succeed (e.g. due to clock
		skew), winbindd will fallback to samlogon authentication over
		MSRPC. When this parameter is used in conjunction with
		<parameter>winbind refresh tickets</parameter>, winbind will
		keep your Ticket Granting Ticket (TGT) uptodate by refreshing
		it whenever necessary. Defaults to "no".

		</para></listitem>
		</varlistentry>

		<varlistentry>
		<term>krb5_ccache_type = [type]</term>
		<listitem><para>

		When pam_winbind is configured to try kerberos authentication
		by enabling the <parameter>krb5_auth</parameter> option, it can
		store the retrieved Ticket Granting Ticket (TGT) in a
		credential cache. The type of credential cache can be set with
		this option. Currently the only supported value is:
		<parameter>FILE</parameter>. In that case a credential cache in
		the form of /tmp/krb5cc_UID will be created, where UID is
		replaced with the numeric user id.  Leave empty to just do
		kerberos authentication without having a ticket cache after the
		logon has succeeded. This setting is empty by default.

		</para></listitem>
		</varlistentry>

		<varlistentry>
		<term>cached_login = yes|no</term>
		<listitem><para>
		Winbind allows to logon using cached credentials when <parameter>winbind offline logon</parameter> is enabled. To use this feature from the PAM module this option must be set. Defaults to "no".
		</para></listitem>
		</varlistentry>

		<varlistentry>
		<term>silent = yes|no</term>
		<listitem><para>
		Do not emit any messages. Defaults to "no".
		</para></listitem>
		</varlistentry>

		<varlistentry>
		<term>mkhomedir = yes|no</term>
		<listitem><para>
		Create homedirectory for a user on-the-fly, option is valid in
		PAM session block. Defaults to "no".
		</para></listitem>
		</varlistentry>

		<varlistentry>
		<term>warn_pwd_expire = days</term>
		<listitem><para>
		Defines number of days before pam_winbind starts to warn about passwords that are
		going to expire. Defaults to 14 days.
		</para></listitem>
		</varlistentry>

		</variablelist>

	</para>

</refsect1>

<refsect1>
	<title>SEE ALSO</title>
	<para><citerefentry>
	<refentrytitle>pam_winbind</refentrytitle>
	<manvolnum>8</manvolnum></citerefentry>, <citerefentry>
	<refentrytitle>wbinfo</refentrytitle>
	<manvolnum>1</manvolnum></citerefentry>, <citerefentry>
	<refentrytitle>winbindd</refentrytitle>
	<manvolnum>8</manvolnum></citerefentry>, <citerefentry>
	<refentrytitle>smb.conf</refentrytitle>
	<manvolnum>5</manvolnum></citerefentry></para>
</refsect1>

<refsect1>
	<title>VERSION</title>

	<para>This man page is correct for version 3 of Samba.</para>
</refsect1>

<refsect1>
	<title>AUTHOR</title>

	<para>
	The original Samba software and related utilities were created by Andrew Tridgell. Samba is now developed by
	the Samba Team as an Open Source project similar to the way the Linux kernel is developed.
	</para>

	<para>This manpage was written by Jelmer Vernooij and Guenther Deschner.</para>

</refsect1>

</refentry>
